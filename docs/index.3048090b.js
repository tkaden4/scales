function t(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(t){return t&&t.__esModule?t.default:t}var s={},r={},i=e.parcelRequire7bf0;null==i&&((i=function(t){if(t in s)return s[t].exports;if(t in r){var e=r[t];delete r[t];var n={id:t,exports:{}};return s[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},e.parcelRequire7bf0=i),i.register("cjuLU",(function(e,n){var s,r,o;t(e.exports,"Fragment",(()=>s),(t=>s=t)),t(e.exports,"jsx",(()=>r),(t=>r=t)),t(e.exports,"jsxs",(()=>o),(t=>o=t));var a=i("fYo6y"),l=Symbol.for("react.element"),u=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(t,e,n){var s,r={},i=null,o=null;for(s in void 0!==n&&(i=""+n),void 0!==e.key&&(i=""+e.key),void 0!==e.ref&&(o=e.ref),e)c.call(e,s)&&!d.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===r[s]&&(r[s]=e[s]);return{$$typeof:l,type:t,key:i,ref:o,props:r,_owner:h.current}}s=u,r=f,o=f})),i.register("fYo6y",(function(t,e){t.exports=i("ha5xJ")})),i.register("ha5xJ",(function(e,n){var s,r,i,o,a,l,u,c,h,d,f,p,m,g,_,v,y,b,x,w,k,S,T,C,A,E,O,D,M,R,F,I,P,N,q;t(e.exports,"Children",(()=>s),(t=>s=t)),t(e.exports,"Component",(()=>r),(t=>r=t)),t(e.exports,"Fragment",(()=>i),(t=>i=t)),t(e.exports,"Profiler",(()=>o),(t=>o=t)),t(e.exports,"PureComponent",(()=>a),(t=>a=t)),t(e.exports,"StrictMode",(()=>l),(t=>l=t)),t(e.exports,"Suspense",(()=>u),(t=>u=t)),t(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>c),(t=>c=t)),t(e.exports,"cloneElement",(()=>h),(t=>h=t)),t(e.exports,"createContext",(()=>d),(t=>d=t)),t(e.exports,"createElement",(()=>f),(t=>f=t)),t(e.exports,"createFactory",(()=>p),(t=>p=t)),t(e.exports,"createRef",(()=>m),(t=>m=t)),t(e.exports,"forwardRef",(()=>g),(t=>g=t)),t(e.exports,"isValidElement",(()=>_),(t=>_=t)),t(e.exports,"lazy",(()=>v),(t=>v=t)),t(e.exports,"memo",(()=>y),(t=>y=t)),t(e.exports,"startTransition",(()=>b),(t=>b=t)),t(e.exports,"unstable_act",(()=>x),(t=>x=t)),t(e.exports,"useCallback",(()=>w),(t=>w=t)),t(e.exports,"useContext",(()=>k),(t=>k=t)),t(e.exports,"useDebugValue",(()=>S),(t=>S=t)),t(e.exports,"useDeferredValue",(()=>T),(t=>T=t)),t(e.exports,"useEffect",(()=>C),(t=>C=t)),t(e.exports,"useId",(()=>A),(t=>A=t)),t(e.exports,"useImperativeHandle",(()=>E),(t=>E=t)),t(e.exports,"useInsertionEffect",(()=>O),(t=>O=t)),t(e.exports,"useLayoutEffect",(()=>D),(t=>D=t)),t(e.exports,"useMemo",(()=>M),(t=>M=t)),t(e.exports,"useReducer",(()=>R),(t=>R=t)),t(e.exports,"useRef",(()=>F),(t=>F=t)),t(e.exports,"useState",(()=>I),(t=>I=t)),t(e.exports,"useSyncExternalStore",(()=>P),(t=>P=t)),t(e.exports,"useTransition",(()=>N),(t=>N=t)),t(e.exports,"version",(()=>q),(t=>q=t));var j=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.iterator;var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function J(t,e,n){this.props=t,this.context=e,this.refs=K,this.updater=n||X}function tt(){}function et(t,e,n){this.props=t,this.context=e,this.refs=K,this.updater=n||X}J.prototype.isReactComponent={},J.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},J.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},tt.prototype=J.prototype;var nt=et.prototype=new tt;nt.constructor=et,Z(nt,J.prototype),nt.isPureReactComponent=!0;var st=Array.isArray,rt=Object.prototype.hasOwnProperty,it={current:null},ot={key:!0,ref:!0,__self:!0,__source:!0};function at(t,e,n){var s,r={},i=null,o=null;if(null!=e)for(s in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(i=""+e.key),e)rt.call(e,s)&&!ot.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps)void 0===r[s]&&(r[s]=a[s]);return{$$typeof:j,type:t,key:i,ref:o,props:r,_owner:it.current}}function lt(t){return"object"==typeof t&&null!==t&&t.$$typeof===j}var ut=/\/+/g;function ct(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function ht(t,e,n,s,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o,a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case j:case V:a=!0}}if(a)return r=r(a=t),t=""===s?"."+ct(a,0):s,st(r)?(n="",null!=t&&(n=t.replace(ut,"$&/")+"/"),ht(r,e,n,"",(function(t){return t}))):null!=r&&(lt(r)&&(r=function(t,e){return{$$typeof:j,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(ut,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=""===s?".":s+":",st(t))for(var l=0;l<t.length;l++){var u=s+ct(i=t[l],l);a+=ht(i,e,n,u,r)}else if("function"==typeof(u=null===(o=t)||"object"!=typeof o?null:"function"==typeof(o=Y&&o[Y]||o["@@iterator"])?o:null))for(t=u.call(t),l=0;!(i=t.next()).done;)a+=ht(i=i.value,e,n,u=s+ct(i,l++),r);else if("object"===i)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dt(t,e,n){if(null==t)return t;var s=[],r=0;return ht(t,s,"","",(function(t){return e.call(n,t,r++)})),s}function ft(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var pt={current:null},mt={transition:null};s={map:dt,forEach:function(t,e,n){dt(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return dt(t,(function(){e++})),e},toArray:function(t){return dt(t,(function(t){return t}))||[]},only:function(t){if(!lt(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},r=J,i=z,o=W,a=et,l=L,u=G,c={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:mt,ReactCurrentOwner:it},h=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Z({},t.props),r=t.key,i=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(i=e.ref,o=it.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rt.call(e,l)&&!ot.hasOwnProperty(l)&&(s[l]=void 0===e[l]&&void 0!==a?a[l]:e[l])}var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:j,type:t.type,key:r,ref:i,props:s,_owner:o}},d=function(t){return(t={$$typeof:U,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:B,_context:t},t.Consumer=t},f=at,p=function(t){var e=at.bind(null,t);return e.type=t,e},m=function(){return{current:null}},g=function(t){return{$$typeof:$,render:t}},_=lt,v=function(t){return{$$typeof:H,_payload:{_status:-1,_result:t},_init:ft}},y=function(t,e){return{$$typeof:Q,type:t,compare:void 0===e?null:e}},b=function(t){var e=mt.transition;mt.transition={};try{t()}finally{mt.transition=e}},x=function(){throw Error("act(...) is not supported in production builds of React.")},w=function(t,e){return pt.current.useCallback(t,e)},k=function(t){return pt.current.useContext(t)},S=function(){},T=function(t){return pt.current.useDeferredValue(t)},C=function(t,e){return pt.current.useEffect(t,e)},A=function(){return pt.current.useId()},E=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)},O=function(t,e){return pt.current.useInsertionEffect(t,e)},D=function(t,e){return pt.current.useLayoutEffect(t,e)},M=function(t,e){return pt.current.useMemo(t,e)},R=function(t,e,n){return pt.current.useReducer(t,e,n)},F=function(t){return pt.current.useRef(t)},I=function(t){return pt.current.useState(t)},P=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)},N=function(){return pt.current.useTransition()},q="18.2.0"})),i.register("gAtBI",(function(e,n){var s,r,o,a,l,u,c,h,d,f,p,m;t(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>s),(t=>s=t)),t(e.exports,"createPortal",(()=>r),(t=>r=t)),t(e.exports,"createRoot",(()=>o),(t=>o=t)),t(e.exports,"findDOMNode",(()=>a),(t=>a=t)),t(e.exports,"flushSync",(()=>l),(t=>l=t)),t(e.exports,"hydrate",(()=>u),(t=>u=t)),t(e.exports,"hydrateRoot",(()=>c),(t=>c=t)),t(e.exports,"render",(()=>h),(t=>h=t)),t(e.exports,"unmountComponentAtNode",(()=>d),(t=>d=t)),t(e.exports,"unstable_batchedUpdates",(()=>f),(t=>f=t)),t(e.exports,"unstable_renderSubtreeIntoContainer",(()=>p),(t=>p=t)),t(e.exports,"version",(()=>m),(t=>m=t));var g=i("fYo6y"),_=i("6qr1r");function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,b={};function x(t,e){w(t,e),w(t+"Capture",e)}function w(t,e){for(b[t]=e,t=0;t<e.length;t++)y.add(e[t])}var k=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},A={};function E(t,e,n,s,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){O[t]=new E(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];O[e]=new E(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){O[t]=new E(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){O[t]=new E(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){O[t]=new E(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){O[t]=new E(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){O[t]=new E(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){O[t]=new E(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){O[t]=new E(t,5,!1,t.toLowerCase(),null,!1,!1)}));var D=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}function R(t,e,n,s){var r=O.hasOwnProperty(e)?O[e]:null;(null!==r?0!==r.type:s||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,s){if(null==e||function(t,e,n,s){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,s)&&(n=null),s||null===r?function(t){return!!S.call(A,t)||!S.call(C,t)&&(T.test(t)?A[t]=!0:(C[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,s=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(D,M);O[e]=new E(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(D,M);O[e]=new E(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(D,M);O[e]=new E(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){O[t]=new E(t,1,!1,t.toLowerCase(),null,!1,!1)})),O.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){O[t]=new E(t,1,!1,t.toLowerCase(),null,!0,!0)}));var F=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var G=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function H(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=Q&&t[Q]||t["@@iterator"])?t:null}var Y,X=Object.assign;function Z(t){if(void 0===Y)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Y=e&&e[1]||""}return"\n"+Y+t}var K=!1;function J(t,e){if(!t||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var s=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){s=t}t.call(e.prototype)}else{try{throw Error()}catch(t){s=t}t()}}catch(e){if(e&&s&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),i=s.stack.split("\n"),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==i[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{K=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Z(t):""}function tt(t){switch(t.tag){case 5:return Z(t.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return t=J(t.type,!1);case 11:return t=J(t.type.render,!1);case 1:return t=J(t.type,!0);default:return""}}function et(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case N:return"Fragment";case P:return"Portal";case j:return"Profiler";case q:return"StrictMode";case W:return"Suspense";case B:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case z:return(t.displayName||"Context")+".Consumer";case V:return(t._context.displayName||"Context")+".Provider";case L:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case U:return null!==(e=t.displayName||null)?e:et(t.type)||"Memo";case $:e=t._payload,t=t._init;try{return et(t(e))}catch(t){}}return null}function nt(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return et(e);case 8:return e===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function st(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function rt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function it(t){t._valueTracker||(t._valueTracker=function(t){var e=rt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){s=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function ot(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=rt(t)?t.checked?"true":"false":t.value),(t=s)!==n&&(e.setValue(t),!0)}function at(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function lt(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function ut(t,e){var n=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;n=st(null!=e.value?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function ct(t,e){null!=(e=e.checked)&&R(t,"checked",e,!1)}function ht(t,e){ct(t,e);var n=st(e.value),s=e.type;if(null!=n)"number"===s?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?ft(t,e.type,n):e.hasOwnProperty("defaultValue")&&ft(t,e.type,st(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function dt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function ft(t,e,n){"number"===e&&at(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pt=Array.isArray;function mt(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+st(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(s&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function gt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(v(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _t(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(v(92));if(pt(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:st(n)}}function vt(t,e){var n=st(e.value),s=st(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=s&&(t.defaultValue=""+s)}function yt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function bt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?bt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var wt,kt,St=(kt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((wt=wt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction((function(){return kt(t,e)}))}:kt);function Tt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];function Et(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Ct.hasOwnProperty(t)&&Ct[t]?(""+e).trim():e+"px"}function Ot(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var s=0===n.indexOf("--"),r=Et(n,e[n],s);"float"===n&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}Object.keys(Ct).forEach((function(t){At.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ct[e]=Ct[t]}))}));var Dt=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mt(t,e){if(e){if(Dt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(v(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(v(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(v(62))}}function Rt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ft=null;function It(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Pt=null,Nt=null,qt=null;function jt(t){if(t=Or(t)){if("function"!=typeof Pt)throw Error(v(280));var e=t.stateNode;e&&(e=Mr(e),Pt(t.stateNode,t.type,e))}}function Vt(t){Nt?qt?qt.push(t):qt=[t]:Nt=t}function zt(){if(Nt){var t=Nt,e=qt;if(qt=Nt=null,jt(t),e)for(t=0;t<e.length;t++)jt(e[t])}}function Lt(t,e){return t(e)}function Wt(){}var Bt=!1;function Ut(t,e,n){if(Bt)return t(e,n);Bt=!0;try{return Lt(t,e,n)}finally{Bt=!1,(null!==Nt||null!==qt)&&(Wt(),zt())}}function $t(t,e){var n=t.stateNode;if(null===n)return null;var s=Mr(n);if(null===s)return null;n=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(v(231,e,typeof n));return n}var Gt=!1;if(k)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch(kt){Gt=!1}function Ht(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Yt=!1,Xt=null,Zt=!1,Kt=null,Jt={onError:function(t){Yt=!0,Xt=t}};function te(t,e,n,s,r,i,o,a,l){Yt=!1,Xt=null,Ht.apply(Jt,arguments)}function ee(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ne(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function se(t){if(ee(t)!==t)throw Error(v(188))}function re(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=ee(t)))throw Error(v(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(s=r.return)){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return se(r),t;if(i===s)return se(r),e;i=i.sibling}throw Error(v(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(v(189))}}if(n.alternate!==s)throw Error(v(190))}if(3!==n.tag)throw Error(v(188));return n.stateNode.current===n?t:e}(t))?ie(t):null}function ie(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=ie(t);if(null!==e)return e;t=t.sibling}return null}var oe=_.unstable_scheduleCallback,ae=_.unstable_cancelCallback,le=_.unstable_shouldYield,ue=_.unstable_requestPaint,ce=_.unstable_now,he=_.unstable_getCurrentPriorityLevel,de=_.unstable_ImmediatePriority,fe=_.unstable_UserBlockingPriority,pe=_.unstable_NormalPriority,me=_.unstable_LowPriority,ge=_.unstable_IdlePriority,_e=null,ve=null;var ye=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(be(t)/xe|0)|0},be=Math.log,xe=Math.LN2;var we=64,ke=4194304;function Se(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Te(t,e){var n=t.pendingLanes;if(0===n)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?s=Se(a):0!==(i&=o)&&(s=Se(i))}else 0!==(o=n&~r)?s=Se(o):0!==i&&(s=Se(i));if(0===s)return 0;if(0!==e&&e!==s&&0==(e&r)&&((r=s&-s)>=(i=e&-e)||16===r&&0!=(4194240&i)))return e;if(0!=(4&s)&&(s|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)r=1<<(n=31-ye(e)),s|=t[n],e&=~r;return s}function Ce(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function Ae(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ee(){var t=we;return 0==(4194240&(we<<=1))&&(we=64),t}function Oe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function De(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ye(e)]=n}function Me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ye(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Re=0;function Fe(t){return 1<(t&=-t)?4<t?0!=(268435455&t)?16:536870912:4:1}var Ie,Pe,Ne,qe,je,Ve=!1,ze=[],Le=null,We=null,Be=null,Ue=new Map,$e=new Map,Ge=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function He(t,e){switch(t){case"focusin":case"focusout":Le=null;break;case"dragenter":case"dragleave":We=null;break;case"mouseover":case"mouseout":Be=null;break;case"pointerover":case"pointerout":Ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$e.delete(e.pointerId)}}function Ye(t,e,n,s,r,i){return null===t||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},null!==e&&(null!==(e=Or(e))&&Pe(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Xe(t){var e=Er(t.target);if(null!==e){var n=ee(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ne(n)))return t.blockedOn=e,void je(t.priority,(function(){Ne(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=un(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Or(n))&&Pe(e),t.blockedOn=n,!1;var s=new(n=t.nativeEvent).constructor(n.type,n);Ft=s,n.target.dispatchEvent(s),Ft=null,e.shift()}return!0}function Ke(t,e,n){Ze(t)&&n.delete(e)}function Je(){Ve=!1,null!==Le&&Ze(Le)&&(Le=null),null!==We&&Ze(We)&&(We=null),null!==Be&&Ze(Be)&&(Be=null),Ue.forEach(Ke),$e.forEach(Ke)}function tn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ve||(Ve=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,Je)))}function en(t){function e(e){return tn(e,t)}if(0<ze.length){tn(ze[0],t);for(var n=1;n<ze.length;n++){var s=ze[n];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==Le&&tn(Le,t),null!==We&&tn(We,t),null!==Be&&tn(Be,t),Ue.forEach(e),$e.forEach(e),n=0;n<Ge.length;n++)(s=Ge[n]).blockedOn===t&&(s.blockedOn=null);for(;0<Ge.length&&null===(n=Ge[0]).blockedOn;)Xe(n),null===n.blockedOn&&Ge.shift()}var nn=F.ReactCurrentBatchConfig,sn=!0;function rn(t,e,n,s){var r=Re,i=nn.transition;nn.transition=null;try{Re=1,an(t,e,n,s)}finally{Re=r,nn.transition=i}}function on(t,e,n,s){var r=Re,i=nn.transition;nn.transition=null;try{Re=4,an(t,e,n,s)}finally{Re=r,nn.transition=i}}function an(t,e,n,s){if(sn){var r=un(t,e,n,s);if(null===r)tr(t,e,s,ln,n),He(t,s);else if(function(t,e,n,s,r){switch(e){case"focusin":return Le=Ye(Le,t,e,n,s,r),!0;case"dragenter":return We=Ye(We,t,e,n,s,r),!0;case"mouseover":return Be=Ye(Be,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Ue.set(i,Ye(Ue.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,$e.set(i,Ye($e.get(i)||null,t,e,n,s,r)),!0}return!1}(r,t,e,n,s))s.stopPropagation();else if(He(t,s),4&e&&-1<Qe.indexOf(t)){for(;null!==r;){var i=Or(r);if(null!==i&&Ie(i),null===(i=un(t,e,n,s))&&tr(t,e,s,ln,n),i===r)break;r=i}null!==r&&s.stopPropagation()}else tr(t,e,s,null,n)}}var ln=null;function un(t,e,n,s){if(ln=null,null!==(t=Er(t=It(s))))if(null===(e=ee(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=ne(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ln=t,null}function cn(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(he()){case de:return 1;case fe:return 4;case pe:case me:return 16;case ge:return 536870912;default:return 16}default:return 16}}var hn=null,dn=null,fn=null;function pn(){if(fn)return fn;var t,e,n=dn,s=n.length,r="value"in hn?hn.value:hn.textContent,i=r.length;for(t=0;t<s&&n[t]===r[t];t++);var o=s-t;for(e=1;e<=o&&n[s-e]===r[i-e];e++);return fn=r.slice(t,1<e?1-e:void 0)}function mn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function gn(){return!0}function _n(){return!1}function vn(t){function e(e,n,s,r,i){for(var o in this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?gn:_n,this.isPropagationStopped=_n,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),e}var yn,bn,xn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=vn(wn),Sn=X({},wn,{view:0,detail:0}),Tn=vn(Sn),Cn=X({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xn&&(xn&&"mousemove"===t.type?(yn=t.screenX-xn.screenX,bn=t.screenY-xn.screenY):bn=yn=0,xn=t),yn)},movementY:function(t){return"movementY"in t?t.movementY:bn}}),An=vn(Cn),En=vn(X({},Cn,{dataTransfer:0})),On=vn(X({},Sn,{relatedTarget:0})),Dn=vn(X({},wn,{animationName:0,elapsedTime:0,pseudoElement:0})),Mn=vn(X({},wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),Rn=vn(X({},wn,{data:0})),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Pn[t])&&!!e[t]}function qn(){return Nn}var jn=vn(X({},Sn,{key:function(t){if(t.key){var e=Fn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=mn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?In[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(t){return"keypress"===t.type?mn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?mn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Vn=vn(X({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=vn(X({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn})),Ln=vn(X({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Wn=vn(X({},Cn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Bn=[9,13,27,32],Un=k&&"CompositionEvent"in window,$n=null;k&&"documentMode"in document&&($n=document.documentMode);var Gn=k&&"TextEvent"in window&&!$n,Qn=k&&(!Un||$n&&8<$n&&11>=$n),Hn=String.fromCharCode(32),Yn=!1;function Xn(t,e){switch(t){case"keyup":return-1!==Bn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Kn=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Jn[t.type]:"textarea"===e}function es(t,e,n,s){Vt(s),0<(e=nr(e,"onChange")).length&&(n=new kn("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var ns=null,ss=null;function rs(t){Hs(t,0)}function is(t){if(ot(Dr(t)))return t}function os(t,e){if("change"===t)return e}var as=!1;if(k){var ls;if(k){var us="oninput"in document;if(!us){var cs=document.createElement("div");cs.setAttribute("oninput","return;"),us="function"==typeof cs.oninput}ls=us}else ls=!1;as=ls&&(!document.documentMode||9<document.documentMode)}function hs(){ns&&(ns.detachEvent("onpropertychange",ds),ss=ns=null)}function ds(t){if("value"===t.propertyName&&is(ss)){var e=[];es(e,ss,t,It(t)),Ut(rs,e)}}function fs(t,e,n){"focusin"===t?(hs(),ss=n,(ns=e).attachEvent("onpropertychange",ds)):"focusout"===t&&hs()}function ps(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return is(ss)}function ms(t,e){if("click"===t)return is(e)}function gs(t,e){if("input"===t||"change"===t)return is(e)}var _s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function vs(t,e){if(_s(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!S.call(e,r)||!_s(t[r],e[r]))return!1}return!0}function ys(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bs(t,e){var n,s=ys(t);for(t=0;s;){if(3===s.nodeType){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ys(s)}}function xs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?xs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ws(){for(var t=window,e=at();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=at((t=e.contentWindow).document)}return e}function ks(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Ss(t){var e=ws(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xs(n.ownerDocument.documentElement,n)){if(null!==s&&ks(n))if(e=s.start,void 0===(t=s.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=void 0===s.end?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=bs(n,i);var o=bs(n,s);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ts=k&&"documentMode"in document&&11>=document.documentMode,Cs=null,As=null,Es=null,Os=!1;function Ds(t,e,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Os||null==Cs||Cs!==at(s)||("selectionStart"in(s=Cs)&&ks(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},Es&&vs(Es,s)||(Es=s,0<(s=nr(As,"onSelect")).length&&(e=new kn("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Cs)))}function Ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Fs={},Is={};function Ps(t){if(Fs[t])return Fs[t];if(!Rs[t])return t;var e,n=Rs[t];for(e in n)if(n.hasOwnProperty(e)&&e in Is)return Fs[t]=n[e];return t}k&&(Is=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);var Ns=Ps("animationend"),qs=Ps("animationiteration"),js=Ps("animationstart"),Vs=Ps("transitionend"),zs=new Map,Ls="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){zs.set(t,e),x(e,[t])}for(var Bs=0;Bs<Ls.length;Bs++){var Us=Ls[Bs];Ws(Us.toLowerCase(),"on"+(Us[0].toUpperCase()+Us.slice(1)))}Ws(Ns,"onAnimationEnd"),Ws(qs,"onAnimationIteration"),Ws(js,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(Vs,"onTransitionEnd"),w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gs=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Qs(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,s,r,i,o,a,l){if(te.apply(this,arguments),Yt){if(!Yt)throw Error(v(198));var u=Xt;Yt=!1,Xt=null,Zt||(Zt=!0,Kt=u)}}(s,e,void 0,t),t.currentTarget=null}function Hs(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;t:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break t;Qs(r,a,u),i=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break t;Qs(r,a,u),i=l}}}if(Zt)throw t=Kt,Zt=!1,Kt=null,t}function Ys(t,e){var n=e[Tr];void 0===n&&(n=e[Tr]=new Set);var s=t+"__bubble";n.has(s)||(Js(e,t,2,!1),n.add(s))}function Xs(t,e,n){var s=0;e&&(s|=4),Js(n,t,s,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[Zs]){t[Zs]=!0,y.forEach((function(e){"selectionchange"!==e&&(Gs.has(e)||Xs(e,!1,t),Xs(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Zs]||(e[Zs]=!0,Xs("selectionchange",!1,e))}}function Js(t,e,n,s){switch(cn(e)){case 1:var r=rn;break;case 4:r=on;break;default:r=an}n=r.bind(null,e,n,t),r=void 0,!Gt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),s?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function tr(t,e,n,s,r){var i=s;if(0==(1&e)&&0==(2&e)&&null!==s)t:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=Er(a)))return;if(5===(l=o.tag)||6===l){s=i=o;continue t}a=a.parentNode}}s=s.return}Ut((function(){var s=i,r=It(n),o=[];t:{var a=zs.get(t);if(void 0!==a){var l=kn,u=t;switch(t){case"keypress":if(0===mn(n))break t;case"keydown":case"keyup":l=jn;break;case"focusin":u="focus",l=On;break;case"focusout":u="blur",l=On;break;case"beforeblur":case"afterblur":l=On;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zn;break;case Ns:case qs:case js:l=Dn;break;case Vs:l=Ln;break;case"scroll":l=Tn;break;case"wheel":l=Wn;break;case"copy":case"cut":case"paste":l=Mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Vn}var c=0!=(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=s;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=$t(p,d))&&c.push(er(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,r),o.push({event:a,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===Ft||!(u=n.relatedTarget||n.fromElement)||!Er(u)&&!u[Sr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(u=(u=n.relatedTarget||n.toElement)?Er(u):null)&&(u!==(h=ee(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=s),l!==u)){if(c=An,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Vn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Dr(l),f=null==u?a:Dr(u),(a=new c(m,p+"leave",l,n,r)).target=h,a.relatedTarget=f,m=null,Er(r)===s&&((c=new c(d,p+"enter",u,n,r)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(d=u,p=0,f=c=l;f;f=sr(f))p++;for(f=0,m=d;m;m=sr(m))f++;for(;0<p-f;)c=sr(c),p--;for(;0<f-p;)d=sr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=sr(c),d=sr(d)}c=null}else c=null;null!==l&&rr(o,a,l,c,!1),null!==u&&null!==h&&rr(o,h,u,c,!0)}if("select"===(l=(a=s?Dr(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=os;else if(ts(a))if(as)g=gs;else{g=ps;var _=fs}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ms);switch(g&&(g=g(t,s))?es(o,g,n,r):(_&&_(t,a,s),"focusout"===t&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&ft(a,"number",a.value)),_=s?Dr(s):window,t){case"focusin":(ts(_)||"true"===_.contentEditable)&&(Cs=_,As=s,Es=null);break;case"focusout":Es=As=Cs=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Ds(o,n,r);break;case"selectionchange":if(Ts)break;case"keydown":case"keyup":Ds(o,n,r)}var v;if(Un)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Kn?Xn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Qn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Kn&&(v=pn()):(dn="value"in(hn=r)?hn.value:hn.textContent,Kn=!0)),0<(_=nr(s,y)).length&&(y=new Rn(y,t,null,n,r),o.push({event:y,listeners:_}),v?y.data=v:null!==(v=Zn(n))&&(y.data=v))),(v=Gn?function(t,e){switch(t){case"compositionend":return Zn(e);case"keypress":return 32!==e.which?null:(Yn=!0,Hn);case"textInput":return(t=e.data)===Hn&&Yn?null:t;default:return null}}(t,n):function(t,e){if(Kn)return"compositionend"===t||!Un&&Xn(t,e)?(t=pn(),fn=dn=hn=null,Kn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(s=nr(s,"onBeforeInput")).length&&(r=new Rn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:s}),r.data=v))}Hs(o,e)}))}function er(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nr(t,e){for(var n=e+"Capture",s=[];null!==t;){var r=t,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=$t(t,n))&&s.unshift(er(t,i,r)),null!=(i=$t(t,e))&&s.push(er(t,i,r))),t=t.return}return s}function sr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function rr(t,e,n,s,r){for(var i=e._reactName,o=[];null!==n&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=$t(n,i))&&o.unshift(er(n,l,a)):r||null!=(l=$t(n,i))&&o.push(er(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var ir=/\r\n?/g,or=/\u0000|\uFFFD/g;function ar(t){return("string"==typeof t?t:""+t).replace(ir,"\n").replace(or,"")}function lr(t,e,n){if(e=ar(e),ar(t)!==e&&n)throw Error(v(425))}function ur(){}var cr=null,hr=null;function dr(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var fr="function"==typeof setTimeout?setTimeout:void 0,pr="function"==typeof clearTimeout?clearTimeout:void 0,mr="function"==typeof Promise?Promise:void 0,gr="function"==typeof queueMicrotask?queueMicrotask:void 0!==mr?function(t){return mr.resolve(null).then(t).catch(_r)}:fr;function _r(t){setTimeout((function(){throw t}))}function vr(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===s)return t.removeChild(r),void en(e);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=r}while(n);en(e)}function yr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function br(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),wr="__reactFiber$"+xr,kr="__reactProps$"+xr,Sr="__reactContainer$"+xr,Tr="__reactEvents$"+xr,Cr="__reactListeners$"+xr,Ar="__reactHandles$"+xr;function Er(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[wr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=br(t);null!==t;){if(n=t[wr])return n;t=br(t)}return e}n=(t=n).parentNode}return null}function Or(t){return!(t=t[wr]||t[Sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Dr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(v(33))}function Mr(t){return t[kr]||null}var Rr=[],Fr=-1;function Ir(t){return{current:t}}function Pr(t){0>Fr||(t.current=Rr[Fr],Rr[Fr]=null,Fr--)}function Nr(t,e){Fr++,Rr[Fr]=t.current,t.current=e}var qr={},jr=Ir(qr),Vr=Ir(!1),zr=qr;function Lr(t,e){var n=t.type.contextTypes;if(!n)return qr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=e[r];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wr(t){return null!=(t=t.childContextTypes)}function Br(){Pr(Vr),Pr(jr)}function Ur(t,e,n){if(jr.current!==qr)throw Error(v(168));Nr(jr,e),Nr(Vr,n)}function $r(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,"function"!=typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in e))throw Error(v(108,nt(t)||"Unknown",r));return X({},n,s)}function Gr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,zr=jr.current,Nr(jr,t),Nr(Vr,Vr.current),!0}function Qr(t,e,n){var s=t.stateNode;if(!s)throw Error(v(169));n?(t=$r(t,e,zr),s.__reactInternalMemoizedMergedChildContext=t,Pr(Vr),Pr(jr),Nr(jr,t)):Pr(Vr),Nr(Vr,n)}var Hr=null,Yr=!1,Xr=!1;function Zr(t){null===Hr?Hr=[t]:Hr.push(t)}function Kr(){if(!Xr&&null!==Hr){Xr=!0;var t=0,e=Re;try{var n=Hr;for(Re=1;t<n.length;t++){var s=n[t];do{s=s(!0)}while(null!==s)}Hr=null,Yr=!1}catch(e){throw null!==Hr&&(Hr=Hr.slice(t+1)),oe(de,Kr),e}finally{Re=e,Xr=!1}}return null}var Jr=[],ti=0,ei=null,ni=0,si=[],ri=0,ii=null,oi=1,ai="";function li(t,e){Jr[ti++]=ni,Jr[ti++]=ei,ei=t,ni=e}function ui(t,e,n){si[ri++]=oi,si[ri++]=ai,si[ri++]=ii,ii=t;var s=oi;t=ai;var r=32-ye(s)-1;s&=~(1<<r),n+=1;var i=32-ye(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,oi=1<<32-ye(e)+r|n<<r|s,ai=i+t}else oi=1<<i|n<<r|s,ai=t}function ci(t){null!==t.return&&(li(t,1),ui(t,1,0))}function hi(t){for(;t===ei;)ei=Jr[--ti],Jr[ti]=null,ni=Jr[--ti],Jr[ti]=null;for(;t===ii;)ii=si[--ri],si[ri]=null,ai=si[--ri],si[ri]=null,oi=si[--ri],si[ri]=null}var di=null,fi=null,pi=!1,mi=null;function gi(t,e){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function _i(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,di=t,fi=yr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,di=t,fi=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==ii?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=e,n.return=t,t.child=n,di=t,fi=null,!0);default:return!1}}function vi(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function yi(t){if(pi){var e=fi;if(e){var n=e;if(!_i(t,e)){if(vi(t))throw Error(v(418));e=yr(n.nextSibling);var s=di;e&&_i(t,e)?gi(s,n):(t.flags=-4097&t.flags|2,pi=!1,di=t)}}else{if(vi(t))throw Error(v(418));t.flags=-4097&t.flags|2,pi=!1,di=t}}}function bi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;di=t}function xi(t){if(t!==di)return!1;if(!pi)return bi(t),pi=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!dr(t.type,t.memoizedProps)),e&&(e=fi)){if(vi(t))throw wi(),Error(v(418));for(;e;)gi(t,e),e=yr(e.nextSibling)}if(bi(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(v(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){fi=yr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}fi=null}}else fi=di?yr(t.stateNode.nextSibling):null;return!0}function wi(){for(var t=fi;t;)t=yr(t.nextSibling)}function ki(){fi=di=null,pi=!1}function Si(t){null===mi?mi=[t]:mi.push(t)}var Ti=F.ReactCurrentBatchConfig;function Ci(t,e){if(t&&t.defaultProps){for(var n in e=X({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ai=Ir(null),Ei=null,Oi=null,Di=null;function Mi(){Di=Oi=Ei=null}function Ri(t){var e=Ai.current;Pr(Ai),t._currentValue=e}function Fi(t,e,n){for(;null!==t;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==s&&(s.childLanes|=e)):null!==s&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ii(t,e){Ei=t,Di=Oi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Da=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(Di!==t)if(t={context:t,memoizedValue:e,next:null},null===Oi){if(null===Ei)throw Error(v(308));Oi=t,Ei.dependencies={lanes:0,firstContext:t}}else Oi=Oi.next=t;return e}var Ni=null;function qi(t){null===Ni?Ni=[t]:Ni.push(t)}function ji(t,e,n,s){var r=e.interleaved;return null===r?(n.next=n,qi(e)):(n.next=r.next,r.next=n),e.interleaved=n,Vi(t,s)}function Vi(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var zi=!1;function Li(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wi(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,0!=(2&jl)){var r=s.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Vi(t,n)}return null===(r=s.interleaved)?(e.next=e,qi(s)):(e.next=r.next,r.next=e),s.interleaved=e,Vi(t,n)}function $i(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!=(4194240&n))){var s=e.lanes;n|=s&=t.pendingLanes,e.lanes=n,Me(t,n)}}function Gi(t,e){var n=t.updateQueue,s=t.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?r=i=e:i=i.next=e}else r=i=e;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qi(t,e,n,s){var r=t.updateQueue;zi=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==i){var h=r.baseState;for(o=0,c=u=l=null,a=i;;){var d=a.lane,f=a.eventTime;if((s&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break t;h=X({},h,d);break t;case 2:zi=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===i&&(r.shared.lanes=0);Gl|=o,t.lanes=o,t.memoizedState=h}}function Hi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(null!==r){if(s.callback=null,s=n,"function"!=typeof r)throw Error(v(191,r));r.call(s)}}}var Yi=(new g.Component).refs;function Xi(t,e,n,s){n=null==(n=n(s,e=t.memoizedState))?e:X({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Zi={isMounted:function(t){return!!(t=t._reactInternals)&&ee(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=cu(),r=hu(t),i=Bi(s,r);i.payload=e,null!=n&&(i.callback=n),null!==(e=Ui(t,i,r))&&(du(e,t,r,s),$i(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=cu(),r=hu(t),i=Bi(s,r);i.tag=1,i.payload=e,null!=n&&(i.callback=n),null!==(e=Ui(t,i,r))&&(du(e,t,r,s),$i(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cu(),s=hu(t),r=Bi(n,s);r.tag=2,null!=e&&(r.callback=e),null!==(e=Ui(t,r,s))&&(du(e,t,s,n),$i(e,t,s))}};function Ki(t,e,n,s,r,i,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!vs(n,s)||!vs(r,i))}function Ji(t,e,n){var s=!1,r=qr,i=e.contextType;return"object"==typeof i&&null!==i?i=Pi(i):(r=Wr(e)?zr:jr.current,i=(s=null!=(s=e.contextTypes))?Lr(t,r):qr),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Zi,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function to(t,e,n,s){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,s),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Zi.enqueueReplaceState(e,e.state,null)}function eo(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Yi,Li(t);var i=e.contextType;"object"==typeof i&&null!==i?r.context=Pi(i):(i=Wr(e)?zr:jr.current,r.context=Lr(t,i)),r.state=t.memoizedState,"function"==typeof(i=e.getDerivedStateFromProps)&&(Xi(t,e,i,n),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Zi.enqueueReplaceState(r,r.state,null),Qi(t,n,r,s),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308)}function no(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(v(309));var s=n.stateNode}if(!s)throw Error(v(147,t));var r=s,i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===Yi&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(v(284));if(!n._owner)throw Error(v(290,t))}return t}function so(t,e){throw t=Object.prototype.toString.call(e),Error(v(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ro(t){return(0,t._init)(t._payload)}function io(t){function e(e,n){if(t){var s=e.deletions;null===s?(e.deletions=[n],e.flags|=16):s.push(n)}}function n(n,s){if(!t)return null;for(;null!==s;)e(n,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Bu(t,e)).index=0,t.sibling=null,t}function i(e,n,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<n?(e.flags|=2,n):s:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function a(t,e,n,s){return null===e||6!==e.tag?((e=Qu(n,t.mode,s)).return=t,e):((e=r(e,n)).return=t,e)}function l(t,e,n,s){var i=n.type;return i===N?c(t,e,n.props.children,s,n.key):null!==e&&(e.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===$&&ro(i)===e.type)?((s=r(e,n.props)).ref=no(t,e,n),s.return=t,s):((s=Uu(n.type,n.key,n.props,null,t.mode,s)).ref=no(t,e,n),s.return=t,s)}function u(t,e,n,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hu(n,t.mode,s)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function c(t,e,n,s,i){return null===e||7!==e.tag?((e=$u(n,t.mode,s,i)).return=t,e):((e=r(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Qu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case I:return(n=Uu(e.type,e.key,e.props,null,t.mode,n)).ref=no(t,null,e),n.return=t,n;case P:return(e=Hu(e,t.mode,n)).return=t,e;case $:return h(t,(0,e._init)(e._payload),n)}if(pt(e)||H(e))return(e=$u(e,t.mode,n,null)).return=t,e;so(t,e)}return null}function d(t,e,n,s){var r=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:a(t,e,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===r?l(t,e,n,s):null;case P:return n.key===r?u(t,e,n,s):null;case $:return d(t,e,(r=n._init)(n._payload),s)}if(pt(n)||H(n))return null!==r?null:c(t,e,n,s,null);so(t,n)}return null}function f(t,e,n,s,r){if("string"==typeof s&&""!==s||"number"==typeof s)return a(e,t=t.get(n)||null,""+s,r);if("object"==typeof s&&null!==s){switch(s.$$typeof){case I:return l(e,t=t.get(null===s.key?n:s.key)||null,s,r);case P:return u(e,t=t.get(null===s.key?n:s.key)||null,s,r);case $:return f(t,e,n,(0,s._init)(s._payload),r)}if(pt(s)||H(s))return c(e,t=t.get(n)||null,s,r,null);so(e,s)}return null}return function a(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===N&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case I:t:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===N){if(7===g.tag){n(l,g.sibling),(u=r(g,c.props.children)).return=l,l=u;break t}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===$&&ro(m)===g.type){n(l,g.sibling),(u=r(g,c.props)).ref=no(l,g,c),u.return=l,l=u;break t}n(l,g);break}e(l,g),g=g.sibling}c.type===N?((u=$u(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=Uu(c.type,c.key,c.props,null,l.mode,p)).ref=no(l,u,c),p.return=l,l=p)}return o(l);case P:t:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=r(u,c.children||[])).return=l,l=u;break t}n(l,u);break}e(l,u),u=u.sibling}(u=Hu(c,l.mode,p)).return=l,l=u}return o(l);case $:return a(l,u,(g=c._init)(c._payload),p)}if(pt(c))return function(r,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var _=d(r,p,a[m],l);if(null===_){null===p&&(p=g);break}t&&p&&null===_.alternate&&e(r,p),o=i(_,o,m),null===c?u=_:c.sibling=_,c=_,p=g}if(m===a.length)return n(r,p),pi&&li(r,m),u;if(null===p){for(;m<a.length;m++)null!==(p=h(r,a[m],l))&&(o=i(p,o,m),null===c?u=p:c.sibling=p,c=p);return pi&&li(r,m),u}for(p=s(r,p);m<a.length;m++)null!==(g=f(p,r,m,a[m],l))&&(t&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return t&&p.forEach((function(t){return e(r,t)})),pi&&li(r,m),u}(l,u,c,p);if(H(c))return function(r,o,a,l){var u=H(a);if("function"!=typeof u)throw Error(v(150));if(null==(a=u.call(a)))throw Error(v(151));for(var c=u=null,p=o,m=o=0,g=null,_=a.next();null!==p&&!_.done;m++,_=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=d(r,p,_.value,l);if(null===y){null===p&&(p=g);break}t&&p&&null===y.alternate&&e(r,p),o=i(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(_.done)return n(r,p),pi&&li(r,m),u;if(null===p){for(;!_.done;m++,_=a.next())null!==(_=h(r,_.value,l))&&(o=i(_,o,m),null===c?u=_:c.sibling=_,c=_);return pi&&li(r,m),u}for(p=s(r,p);!_.done;m++,_=a.next())null!==(_=f(p,r,m,_.value,l))&&(t&&null!==_.alternate&&p.delete(null===_.key?m:_.key),o=i(_,o,m),null===c?u=_:c.sibling=_,c=_);return t&&p.forEach((function(t){return e(r,t)})),pi&&li(r,m),u}(l,u,c,p);so(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=r(u,c)).return=l,l=u):(n(l,u),(u=Qu(c,l.mode,p)).return=l,l=u),o(l)):n(l,u)}}var oo=io(!0),ao=io(!1),lo={},uo=Ir(lo),co=Ir(lo),ho=Ir(lo);function fo(t){if(t===lo)throw Error(v(174));return t}function po(t,e){switch(Nr(ho,e),Nr(co,t),Nr(uo,lo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xt(null,"");break;default:e=xt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Pr(uo),Nr(uo,e)}function mo(){Pr(uo),Pr(co),Pr(ho)}function go(t){fo(ho.current);var e=fo(uo.current),n=xt(e,t.type);e!==n&&(Nr(co,t),Nr(uo,n))}function _o(t){co.current===t&&(Pr(uo),Pr(co))}var vo=Ir(0);function yo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bo=[];function xo(){for(var t=0;t<bo.length;t++)bo[t]._workInProgressVersionPrimary=null;bo.length=0}var wo=F.ReactCurrentDispatcher,ko=F.ReactCurrentBatchConfig,So=0,To=null,Co=null,Ao=null,Eo=!1,Oo=!1,Do=0,Mo=0;function Ro(){throw Error(v(321))}function Fo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function Io(t,e,n,s,r,i){if(So=i,To=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wo.current=null===t||null===t.memoizedState?_a:va,t=n(s,r),Oo){i=0;do{if(Oo=!1,Do=0,25<=i)throw Error(v(301));i+=1,Ao=Co=null,e.updateQueue=null,wo.current=ya,t=n(s,r)}while(Oo)}if(wo.current=ga,e=null!==Co&&null!==Co.next,So=0,Ao=Co=To=null,Eo=!1,e)throw Error(v(300));return t}function Po(){var t=0!==Do;return Do=0,t}function No(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ao?To.memoizedState=Ao=t:Ao=Ao.next=t,Ao}function qo(){if(null===Co){var t=To.alternate;t=null!==t?t.memoizedState:null}else t=Co.next;var e=null===Ao?To.memoizedState:Ao.next;if(null!==e)Ao=e,Co=t;else{if(null===t)throw Error(v(310));t={memoizedState:(Co=t).memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},null===Ao?To.memoizedState=Ao=t:Ao=Ao.next=t}return Ao}function jo(t,e){return"function"==typeof e?e(t):e}function Vo(t){var e=qo(),n=e.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=t;var s=Co,r=s.baseQueue,i=n.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((So&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=s):l=l.next=h,To.lanes|=c,Gl|=c}u=u.next}while(null!==u&&u!==i);null===l?o=s:l.next=a,_s(s,e.memoizedState)||(Da=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(null!==(t=n.interleaved)){r=t;do{i=r.lane,To.lanes|=i,Gl|=i,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zo(t){var e=qo(),n=e.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=t(i,o.action),o=o.next}while(o!==r);_s(i,e.memoizedState)||(Da=!0),e.memoizedState=i,null===e.baseQueue&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Lo(){}function Wo(t,e){var n=To,s=qo(),r=e(),i=!_s(s.memoizedState,r);if(i&&(s.memoizedState=r,Da=!0),s=s.queue,ta($o.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||null!==Ao&&1&Ao.memoizedState.tag){if(n.flags|=2048,Yo(9,Uo.bind(null,n,s,r,e),void 0,null),null===Vl)throw Error(v(349));0!=(30&So)||Bo(n,e,r)}return r}function Bo(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=To.updateQueue)?(e={lastEffect:null,stores:null},To.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Uo(t,e,n,s){e.value=n,e.getSnapshot=s,Go(e)&&Qo(t)}function $o(t,e,n){return n((function(){Go(e)&&Qo(t)}))}function Go(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch(t){return!0}}function Qo(t){var e=Vi(t,1);null!==e&&du(e,t,1,-1)}function Ho(t){var e=No();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=da.bind(null,To,t),[e.memoizedState,t]}function Yo(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},null===(e=To.updateQueue)?(e={lastEffect:null,stores:null},To.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Xo(){return qo().memoizedState}function Zo(t,e,n,s){var r=No();To.flags|=t,r.memoizedState=Yo(1|e,n,void 0,void 0===s?null:s)}function Ko(t,e,n,s){var r=qo();s=void 0===s?null:s;var i=void 0;if(null!==Co){var o=Co.memoizedState;if(i=o.destroy,null!==s&&Fo(s,o.deps))return void(r.memoizedState=Yo(e,n,i,s))}To.flags|=t,r.memoizedState=Yo(1|e,n,i,s)}function Jo(t,e){return Zo(8390656,8,t,e)}function ta(t,e){return Ko(2048,8,t,e)}function ea(t,e){return Ko(4,2,t,e)}function na(t,e){return Ko(4,4,t,e)}function sa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ra(t,e,n){return n=null!=n?n.concat([t]):null,Ko(4,4,sa.bind(null,e,t),n)}function ia(){}function oa(t,e){var n=qo();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&Fo(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function aa(t,e){var n=qo();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&Fo(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function la(t,e,n){return 0==(21&So)?(t.baseState&&(t.baseState=!1,Da=!0),t.memoizedState=n):(_s(n,e)||(n=Ee(),To.lanes|=n,Gl|=n,t.baseState=!0),e)}function ua(t,e){var n=Re;Re=0!==n&&4>n?n:4,t(!0);var s=ko.transition;ko.transition={};try{t(!1),e()}finally{Re=n,ko.transition=s}}function ca(){return qo().memoizedState}function ha(t,e,n){var s=hu(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fa(t))pa(e,n);else if(null!==(n=ji(t,e,n,s))){du(n,t,s,cu()),ma(n,e,s)}}function da(t,e,n){var s=hu(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(t))pa(e,r);else{var i=t.alternate;if(0===t.lanes&&(null===i||0===i.lanes)&&null!==(i=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,_s(a,o)){var l=e.interleaved;return null===l?(r.next=r,qi(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(t){}null!==(n=ji(t,e,r,s))&&(du(n,t,s,r=cu()),ma(n,e,s))}}function fa(t){var e=t.alternate;return t===To||null!==e&&e===To}function pa(t,e){Oo=Eo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ma(t,e,n){if(0!=(4194240&n)){var s=e.lanes;n|=s&=t.pendingLanes,e.lanes=n,Me(t,n)}}var ga={readContext:Pi,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useInsertionEffect:Ro,useLayoutEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useDeferredValue:Ro,useTransition:Ro,useMutableSource:Ro,useSyncExternalStore:Ro,useId:Ro,unstable_isNewReconciler:!1},_a={readContext:Pi,useCallback:function(t,e){return No().memoizedState=[t,void 0===e?null:e],t},useContext:Pi,useEffect:Jo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Zo(4194308,4,sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zo(4,2,t,e)},useMemo:function(t,e){var n=No();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=No();return e=void 0!==n?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=ha.bind(null,To,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},No().memoizedState=t},useState:Ho,useDebugValue:ia,useDeferredValue:function(t){return No().memoizedState=t},useTransition:function(){var t=Ho(!1),e=t[0];return t=ua.bind(null,t[1]),No().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=To,r=No();if(pi){if(void 0===n)throw Error(v(407));n=n()}else{if(n=e(),null===Vl)throw Error(v(349));0!=(30&So)||Bo(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Jo($o.bind(null,s,i,t),[t]),s.flags|=2048,Yo(9,Uo.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=No(),e=Vl.identifierPrefix;if(pi){var n=ai;e=":"+e+"R"+(n=(oi&~(1<<32-ye(oi)-1)).toString(32)+n),0<(n=Do++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=Mo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},va={readContext:Pi,useCallback:oa,useContext:Pi,useEffect:ta,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:na,useMemo:aa,useReducer:Vo,useRef:Xo,useState:function(){return Vo(jo)},useDebugValue:ia,useDeferredValue:function(t){return la(qo(),Co.memoizedState,t)},useTransition:function(){return[Vo(jo)[0],qo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Wo,useId:ca,unstable_isNewReconciler:!1},ya={readContext:Pi,useCallback:oa,useContext:Pi,useEffect:ta,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:na,useMemo:aa,useReducer:zo,useRef:Xo,useState:function(){return zo(jo)},useDebugValue:ia,useDeferredValue:function(t){var e=qo();return null===Co?e.memoizedState=t:la(e,Co.memoizedState,t)},useTransition:function(){return[zo(jo)[0],qo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Wo,useId:ca,unstable_isNewReconciler:!1};function ba(t,e){try{var n="",s=e;do{n+=tt(s),s=s.return}while(s);var r=n}catch(t){r="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:r,digest:null}}function xa(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function wa(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var ka="function"==typeof WeakMap?WeakMap:Map;function Sa(t,e,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){tu||(tu=!0,eu=s),wa(0,e)},n}function Ta(t,e,n){(n=Bi(-1,n)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){wa(0,e)}}var i=t.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){wa(0,e),"function"!=typeof s&&(null===nu?nu=new Set([this]):nu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function Ca(t,e,n){var s=t.pingCache;if(null===s){s=t.pingCache=new ka;var r=new Set;s.set(e,r)}else void 0===(r=s.get(e))&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Pu.bind(null,t,e,n),e.then(t,t))}function Aa(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Ea(t,e,n,s,r){return 0==(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Bi(-1,1)).tag=2,Ui(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var Oa=F.ReactCurrentOwner,Da=!1;function Ma(t,e,n,s){e.child=null===t?ao(e,null,n,s):oo(e,t.child,n,s)}function Ra(t,e,n,s,r){n=n.render;var i=e.ref;return Ii(e,r),s=Io(t,e,n,s,i,r),n=Po(),null===t||Da?(pi&&n&&ci(e),e.flags|=1,Ma(t,e,s,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,tl(t,e,r))}function Fa(t,e,n,s,r){if(null===t){var i=n.type;return"function"!=typeof i||Wu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Uu(n.type,null,s,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,Ia(t,e,i,s,r))}if(i=t.child,0==(t.lanes&r)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:vs)(o,s)&&t.ref===e.ref)return tl(t,e,r)}return e.flags|=1,(t=Bu(i,s)).ref=e.ref,t.return=e,e.child=t}function Ia(t,e,n,s,r){if(null!==t){var i=t.memoizedProps;if(vs(i,s)&&t.ref===e.ref){if(Da=!1,e.pendingProps=s=i,0==(t.lanes&r))return e.lanes=t.lanes,tl(t,e,r);0!=(131072&t.flags)&&(Da=!0)}}return qa(t,e,n,s,r)}function Pa(t,e,n){var s=e.pendingProps,r=s.children,i=null!==t?t.memoizedState:null;if("hidden"===s.mode)if(0==(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Bl,Wl),Wl|=n;else{if(0==(1073741824&n))return t=null!==i?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nr(Bl,Wl),Wl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==i?i.baseLanes:n,Nr(Bl,Wl),Wl|=s}else null!==i?(s=i.baseLanes|n,e.memoizedState=null):s=n,Nr(Bl,Wl),Wl|=s;return Ma(t,e,r,n),e.child}function Na(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qa(t,e,n,s,r){var i=Wr(n)?zr:jr.current;return i=Lr(e,i),Ii(e,r),n=Io(t,e,n,s,i,r),s=Po(),null===t||Da?(pi&&s&&ci(e),e.flags|=1,Ma(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,tl(t,e,r))}function ja(t,e,n,s,r){if(Wr(n)){var i=!0;Gr(e)}else i=!1;if(Ii(e,r),null===e.stateNode)Ja(t,e),Ji(e,n,s),eo(e,n,s,r),s=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Pi(u):u=Lr(e,u=Wr(n)?zr:jr.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==s||l!==u)&&to(e,o,s,u),zi=!1;var d=e.memoizedState;o.state=d,Qi(e,s,o,r),l=e.memoizedState,a!==s||d!==l||Vr.current||zi?("function"==typeof c&&(Xi(e,n,c,s),l=e.memoizedState),(a=zi||Ki(e,n,a,s,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4194308)):("function"==typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):("function"==typeof o.componentDidMount&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Wi(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ci(e.type,a),o.props=u,h=e.pendingProps,d=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Lr(e,l=Wr(n)?zr:jr.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&to(e,o,s,l),zi=!1,d=e.memoizedState,o.state=d,Qi(e,s,o,r);var p=e.memoizedState;a!==h||d!==p||Vr.current||zi?("function"==typeof f&&(Xi(e,n,f,s),p=e.memoizedState),(u=zi||Ki(e,n,u,s,d,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(s,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,p,l)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=u):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Va(t,e,n,s,i,r)}function Va(t,e,n,s,r,i){Na(t,e);var o=0!=(128&e.flags);if(!s&&!o)return r&&Qr(e,n,!1),tl(t,e,i);s=e.stateNode,Oa.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&o?(e.child=oo(e,t.child,null,i),e.child=oo(e,null,a,i)):Ma(t,e,a,i),e.memoizedState=s.state,r&&Qr(e,n,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?Ur(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ur(0,e.context,!1),po(t,e.containerInfo)}function La(t,e,n,s,r){return ki(),Si(r),e.flags|=256,Ma(t,e,n,s),e.child}var Wa,Ba,Ua,$a={dehydrated:null,treeContext:null,retryLane:0};function Ga(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qa(t,e,n){var s,r=e.pendingProps,i=vo.current,o=!1,a=0!=(128&e.flags);if((s=a)||(s=(null===t||null!==t.memoizedState)&&0!=(2&i)),s?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(i|=1),Nr(vo,1&i),null===t)return yi(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0==(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},0==(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Gu(a,r,0,null),t=$u(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ga(n),e.memoizedState=$a,t):Ha(e,a));if(null!==(i=t.memoizedState)&&null!==(s=i.dehydrated))return function(t,e,n,s,r,i,o){if(n)return 256&e.flags?(e.flags&=-257,Ya(t,e,o,s=xa(Error(v(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Gu({mode:"visible",children:s.children},r,0,null),(i=$u(i,r,o,null)).flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,0!=(1&e.mode)&&oo(e,t.child,null,o),e.child.memoizedState=Ga(o),e.memoizedState=$a,i);if(0==(1&e.mode))return Ya(t,e,o,null);if("$!"===r.data){if(s=r.nextSibling&&r.nextSibling.dataset)var a=s.dgst;return s=a,Ya(t,e,o,s=xa(i=Error(v(419)),s,void 0))}if(a=0!=(o&t.childLanes),Da||a){if(null!==(s=Vl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!=(r&(s.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Vi(t,r),du(s,t,r,-1))}return Tu(),Ya(t,e,o,s=xa(Error(v(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=qu.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,fi=yr(r.nextSibling),di=e,pi=!0,mi=null,null!==t&&(si[ri++]=oi,si[ri++]=ai,si[ri++]=ii,oi=t.id,ai=t.overflow,ii=e),(e=Ha(e,s.children)).flags|=4096,e)}(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,s=(i=t.child).sibling;var l={mode:"hidden",children:r.children};return 0==(1&a)&&e.child!==i?((r=e.child).childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bu(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==s?o=Bu(s,o):(o=$u(o,a,n,null)).flags|=2,o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=null===(a=t.child.memoizedState)?Ga(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=$a,r}return t=(o=t.child).sibling,r=Bu(o,{mode:"visible",children:r.children}),0==(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ha(t,e){return(e=Gu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ya(t,e,n,s){return null!==s&&Si(s),oo(e,t.child,null,n),(t=Ha(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Xa(t,e,n){t.lanes|=e;var s=t.alternate;null!==s&&(s.lanes|=e),Fi(t.return,e,n)}function Za(t,e,n,s,r){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Ka(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ma(t,e,s.children,n),0!=(2&(s=vo.current)))s=1&s|2,e.flags|=128;else{if(null!==t&&0!=(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Xa(t,n,e);else if(19===t.tag)Xa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Nr(vo,s),0==(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===yo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Za(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===yo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Za(e,!0,n,null,i);break;case"together":Za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ja(t,e){0==(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tl(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Gl|=e.lanes,0==(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(v(153));if(null!==e.child){for(n=Bu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function el(t,e){if(!pi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function nl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,s|=14680064&r.subtreeFlags,s|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function sl(t,e,n){var s=e.pendingProps;switch(hi(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(e),null;case 1:case 17:return Wr(e.type)&&Br(),nl(e),null;case 3:return s=e.stateNode,mo(),Pr(Vr),Pr(jr),xo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(xi(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0==(256&e.flags)||(e.flags|=1024,null!==mi&&(gu(mi),mi=null))),nl(e),null;case 5:_o(e);var r=fo(ho.current);if(n=e.type,null!==t&&null!=e.stateNode)Ba(t,e,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(null===e.stateNode)throw Error(v(166));return nl(e),null}if(t=fo(uo.current),xi(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[wr]=e,s[kr]=i,t=0!=(1&e.mode),n){case"dialog":Ys("cancel",s),Ys("close",s);break;case"iframe":case"object":case"embed":Ys("load",s);break;case"video":case"audio":for(r=0;r<$s.length;r++)Ys($s[r],s);break;case"source":Ys("error",s);break;case"img":case"image":case"link":Ys("error",s),Ys("load",s);break;case"details":Ys("toggle",s);break;case"input":ut(s,i),Ys("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ys("invalid",s);break;case"textarea":_t(s,i),Ys("invalid",s)}for(var o in Mt(n,i),r=null,i)if(i.hasOwnProperty(o)){var a=i[o];"children"===o?"string"==typeof a?s.textContent!==a&&(!0!==i.suppressHydrationWarning&&lr(s.textContent,a,t),r=["children",a]):"number"==typeof a&&s.textContent!==""+a&&(!0!==i.suppressHydrationWarning&&lr(s.textContent,a,t),r=["children",""+a]):b.hasOwnProperty(o)&&null!=a&&"onScroll"===o&&Ys("scroll",s)}switch(n){case"input":it(s),dt(s,i,!0);break;case"textarea":it(s),yt(s);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(s.onclick=ur)}s=r,e.updateQueue=s,null!==s&&(e.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=bt(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=o.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),"select"===n&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[wr]=e,t[kr]=s,Wa(t,e),e.stateNode=t;t:{switch(o=Rt(n,s),n){case"dialog":Ys("cancel",t),Ys("close",t),r=s;break;case"iframe":case"object":case"embed":Ys("load",t),r=s;break;case"video":case"audio":for(r=0;r<$s.length;r++)Ys($s[r],t);r=s;break;case"source":Ys("error",t),r=s;break;case"img":case"image":case"link":Ys("error",t),Ys("load",t),r=s;break;case"details":Ys("toggle",t),r=s;break;case"input":ut(t,s),r=lt(t,s),Ys("invalid",t);break;case"option":default:r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=X({},s,{value:void 0}),Ys("invalid",t);break;case"textarea":_t(t,s),r=gt(t,s),Ys("invalid",t)}for(i in Mt(n,r),a=r)if(a.hasOwnProperty(i)){var l=a[i];"style"===i?Ot(t,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&St(t,l):"children"===i?"string"==typeof l?("textarea"!==n||""!==l)&&Tt(t,l):"number"==typeof l&&Tt(t,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(b.hasOwnProperty(i)?null!=l&&"onScroll"===i&&Ys("scroll",t):null!=l&&R(t,i,l,o))}switch(n){case"input":it(t),dt(t,s,!1);break;case"textarea":it(t),yt(t);break;case"option":null!=s.value&&t.setAttribute("value",""+st(s.value));break;case"select":t.multiple=!!s.multiple,null!=(i=s.value)?mt(t,!!s.multiple,i,!1):null!=s.defaultValue&&mt(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=ur)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return nl(e),null;case 6:if(t&&null!=e.stateNode)Ua(0,e,t.memoizedProps,s);else{if("string"!=typeof s&&null===e.stateNode)throw Error(v(166));if(n=fo(ho.current),fo(uo.current),xi(e)){if(s=e.stateNode,n=e.memoizedProps,s[wr]=e,(i=s.nodeValue!==n)&&null!==(t=di))switch(t.tag){case 3:lr(s.nodeValue,n,0!=(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&lr(s.nodeValue,n,0!=(1&t.mode))}i&&(e.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[wr]=e,e.stateNode=s}return nl(e),null;case 13:if(Pr(vo),s=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(pi&&null!==fi&&0!=(1&e.mode)&&0==(128&e.flags))wi(),ki(),e.flags|=98560,i=!1;else if(i=xi(e),null!==s&&null!==s.dehydrated){if(null===t){if(!i)throw Error(v(318));if(!(i=null!==(i=e.memoizedState)?i.dehydrated:null))throw Error(v(317));i[wr]=e}else ki(),0==(128&e.flags)&&(e.memoizedState=null),e.flags|=4;nl(e),i=!1}else null!==mi&&(gu(mi),mi=null),i=!0;if(!i)return 65536&e.flags?e:null}return 0!=(128&e.flags)?(e.lanes=n,e):((s=null!==s)!==(null!==t&&null!==t.memoizedState)&&s&&(e.child.flags|=8192,0!=(1&e.mode)&&(null===t||0!=(1&vo.current)?0===Ul&&(Ul=3):Tu())),null!==e.updateQueue&&(e.flags|=4),nl(e),null);case 4:return mo(),null===t&&Ks(e.stateNode.containerInfo),nl(e),null;case 10:return Ri(e.type._context),nl(e),null;case 19:if(Pr(vo),null===(i=e.memoizedState))return nl(e),null;if(s=0!=(128&e.flags),null===(o=i.rendering))if(s)el(i,!1);else{if(0!==Ul||null!==t&&0!=(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=yo(t))){for(e.flags|=128,el(i,!1),null!==(s=o.updateQueue)&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;null!==n;)t=s,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nr(vo,1&vo.current|2),e.child}t=t.sibling}null!==i.tail&&ce()>Kl&&(e.flags|=128,s=!0,el(i,!1),e.lanes=4194304)}else{if(!s)if(null!==(t=yo(o))){if(e.flags|=128,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),el(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!pi)return nl(e),null}else 2*ce()-i.renderingStartTime>Kl&&1073741824!==n&&(e.flags|=128,s=!0,el(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(null!==(n=i.last)?n.sibling=o:e.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=vo.current,Nr(vo,s?1&n|2:1&n),e):(nl(e),null);case 22:case 23:return xu(),s=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==s&&(e.flags|=8192),s&&0!=(1&e.mode)?0!=(1073741824&Wl)&&(nl(e),6&e.subtreeFlags&&(e.flags|=8192)):nl(e),null;case 24:case 25:return null}throw Error(v(156,e.tag))}function rl(t,e){switch(hi(e),e.tag){case 1:return Wr(e.type)&&Br(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return mo(),Pr(Vr),Pr(jr),xo(),0!=(65536&(t=e.flags))&&0==(128&t)?(e.flags=-65537&t|128,e):null;case 5:return _o(e),null;case 13:if(Pr(vo),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(v(340));ki()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Pr(vo),null;case 4:return mo(),null;case 10:return Ri(e.type._context),null;case 22:case 23:return xu(),null;default:return null}}Wa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,fo(uo.current);var i,o=null;switch(n){case"input":r=lt(t,r),s=lt(t,s),o=[];break;case"select":r=X({},r,{value:void 0}),s=X({},s,{value:void 0}),o=[];break;case"textarea":r=gt(t,r),s=gt(t,s),o=[];break;default:"function"!=typeof r.onClick&&"function"==typeof s.onClick&&(t.onclick=ur)}for(u in Mt(n,s),n=null,r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var a=r[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var l=s[u];if(a=null!=r?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(b.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ys("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Ua=function(t,e,n,s){n!==s&&(e.flags|=4)};var il=!1,ol=!1,al="function"==typeof WeakSet?WeakSet:Set,ll=null;function ul(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Iu(t,e,n)}else n.current=null}function cl(t,e,n){try{n()}catch(n){Iu(t,e,n)}}var hl=!1;function dl(t,e,n){var s=e.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,void 0!==i&&cl(e,n,i)}r=r.next}while(r!==s)}}function fl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function pl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function ml(t){var e=t.alternate;null!==e&&(t.alternate=null,ml(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[wr],delete e[kr],delete e[Tr],delete e[Cr],delete e[Ar])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gl(t){return 5===t.tag||3===t.tag||4===t.tag}function _l(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||gl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function vl(t,e,n){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=ur));else if(4!==s&&null!==(t=t.child))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==s&&null!==(t=t.child))for(yl(t,e,n),t=t.sibling;null!==t;)yl(t,e,n),t=t.sibling}var bl=null,xl=!1;function wl(t,e,n){for(n=n.child;null!==n;)kl(t,e,n),n=n.sibling}function kl(t,e,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(_e,n)}catch(t){}switch(n.tag){case 5:ol||ul(n,e);case 6:var s=bl,r=xl;bl=null,wl(t,e,n),xl=r,null!==(bl=s)&&(xl?(t=bl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(xl?(t=bl,n=n.stateNode,8===t.nodeType?vr(t.parentNode,n):1===t.nodeType&&vr(t,n),en(t)):vr(bl,n.stateNode));break;case 4:s=bl,r=xl,bl=n.stateNode.containerInfo,xl=!0,wl(t,e,n),bl=s,xl=r;break;case 0:case 11:case 14:case 15:if(!ol&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!=(2&i)||0!=(4&i))&&cl(n,e,o),r=r.next}while(r!==s)}wl(t,e,n);break;case 1:if(!ol&&(ul(n,e),"function"==typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(t){Iu(n,e,t)}wl(t,e,n);break;case 21:wl(t,e,n);break;case 22:1&n.mode?(ol=(s=ol)||null!==n.memoizedState,wl(t,e,n),ol=s):wl(t,e,n);break;default:wl(t,e,n)}}function Sl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new al),e.forEach((function(e){var s=ju.bind(null,t,e);n.has(e)||(n.add(e),e.then(s,s))}))}}function Tl(t,e){var n=e.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;t:for(;null!==a;){switch(a.tag){case 5:bl=a.stateNode,xl=!1;break t;case 3:case 4:bl=a.stateNode.containerInfo,xl=!0;break t}a=a.return}if(null===bl)throw Error(v(160));kl(i,o,r),bl=null,xl=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(t){Iu(r,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)Cl(e,t),e=e.sibling}function Cl(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tl(e,t),Al(t),4&s){try{dl(3,t,t.return),fl(3,t)}catch(e){Iu(t,t.return,e)}try{dl(5,t,t.return)}catch(e){Iu(t,t.return,e)}}break;case 1:Tl(e,t),Al(t),512&s&&null!==n&&ul(n,n.return);break;case 5:if(Tl(e,t),Al(t),512&s&&null!==n&&ul(n,n.return),32&t.flags){var r=t.stateNode;try{Tt(r,"")}catch(e){Iu(t,t.return,e)}}if(4&s&&null!=(r=t.stateNode)){var i=t.memoizedProps,o=null!==n?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===a&&"radio"===i.type&&null!=i.name&&ct(r,i),Rt(a,o);var u=Rt(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];"style"===c?Ot(r,h):"dangerouslySetInnerHTML"===c?St(r,h):"children"===c?Tt(r,h):R(r,c,h,u)}switch(a){case"input":ht(r,i);break;case"textarea":vt(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?mt(r,!!i.multiple,f,!1):d!==!!i.multiple&&(null!=i.defaultValue?mt(r,!!i.multiple,i.defaultValue,!0):mt(r,!!i.multiple,i.multiple?[]:"",!1))}r[kr]=i}catch(e){Iu(t,t.return,e)}}break;case 6:if(Tl(e,t),Al(t),4&s){if(null===t.stateNode)throw Error(v(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(e){Iu(t,t.return,e)}}break;case 3:if(Tl(e,t),Al(t),4&s&&null!==n&&n.memoizedState.isDehydrated)try{en(e.containerInfo)}catch(e){Iu(t,t.return,e)}break;case 4:default:Tl(e,t),Al(t);break;case 13:Tl(e,t),Al(t),8192&(r=t.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Zl=ce())),4&s&&Sl(t);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&t.mode?(ol=(u=ol)||c,Tl(e,t),ol=u):Tl(e,t),Al(t),8192&s){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!c&&0!=(1&t.mode))for(ll=t,c=t.child;null!==c;){for(h=ll=c;null!==ll;){switch(f=(d=ll).child,d.tag){case 0:case 11:case 14:case 15:dl(4,d,d.return);break;case 1:ul(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){s=d,n=d.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(t){Iu(s,n,t)}}break;case 5:ul(d,d.return);break;case 22:if(null!==d.memoizedState){Ml(h);continue}}null!==f?(f.return=d,ll=f):Ml(h)}c=c.sibling}t:for(c=null,h=t;;){if(5===h.tag){if(null===c){c=h;try{r=h.stateNode,u?"function"==typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(a=h.stateNode,o=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=Et("display",o))}catch(e){Iu(t,t.return,e)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(e){Iu(t,t.return,e)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tl(e,t),Al(t),4&s&&Sl(t);case 21:}}function Al(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(gl(n)){var s=n;break t}n=n.return}throw Error(v(160))}switch(s.tag){case 5:var r=s.stateNode;32&s.flags&&(Tt(r,""),s.flags&=-33),yl(t,_l(t),r);break;case 3:case 4:var i=s.stateNode.containerInfo;vl(t,_l(t),i);break;default:throw Error(v(161))}}catch(e){Iu(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function El(t,e,n){ll=t,Ol(t,e,n)}function Ol(t,e,n){for(var s=0!=(1&t.mode);null!==ll;){var r=ll,i=r.child;if(22===r.tag&&s){var o=null!==r.memoizedState||il;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||ol;a=il;var u=ol;if(il=o,(ol=l)&&!u)for(ll=r;null!==ll;)l=(o=ll).child,22===o.tag&&null!==o.memoizedState?Rl(r):null!==l?(l.return=o,ll=l):Rl(r);for(;null!==i;)ll=i,Ol(i,e,n),i=i.sibling;ll=r,il=a,ol=u}Dl(t)}else 0!=(8772&r.subtreeFlags)&&null!==i?(i.return=r,ll=i):Dl(t)}}function Dl(t){for(;null!==ll;){var e=ll;if(0!=(8772&e.flags)){var n=e.alternate;try{if(0!=(8772&e.flags))switch(e.tag){case 0:case 11:case 15:ol||fl(5,e);break;case 1:var s=e.stateNode;if(4&e.flags&&!ol)if(null===n)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ci(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;null!==i&&Hi(e,i,s);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Hi(e,o,n)}break;case 5:var a=e.stateNode;if(null===n&&4&e.flags){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&en(h)}}}break;default:throw Error(v(163))}ol||512&e.flags&&pl(e)}catch(t){Iu(e,e.return,t)}}if(e===t){ll=null;break}if(null!==(n=e.sibling)){n.return=e.return,ll=n;break}ll=e.return}}function Ml(t){for(;null!==ll;){var e=ll;if(e===t){ll=null;break}var n=e.sibling;if(null!==n){n.return=e.return,ll=n;break}ll=e.return}}function Rl(t){for(;null!==ll;){var e=ll;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fl(4,e)}catch(t){Iu(e,n,t)}break;case 1:var s=e.stateNode;if("function"==typeof s.componentDidMount){var r=e.return;try{s.componentDidMount()}catch(t){Iu(e,r,t)}}var i=e.return;try{pl(e)}catch(t){Iu(e,i,t)}break;case 5:var o=e.return;try{pl(e)}catch(t){Iu(e,o,t)}}}catch(t){Iu(e,e.return,t)}if(e===t){ll=null;break}var a=e.sibling;if(null!==a){a.return=e.return,ll=a;break}ll=e.return}}var Fl,Il=Math.ceil,Pl=F.ReactCurrentDispatcher,Nl=F.ReactCurrentOwner,ql=F.ReactCurrentBatchConfig,jl=0,Vl=null,zl=null,Ll=0,Wl=0,Bl=Ir(0),Ul=0,$l=null,Gl=0,Ql=0,Hl=0,Yl=null,Xl=null,Zl=0,Kl=1/0,Jl=null,tu=!1,eu=null,nu=null,su=!1,ru=null,iu=0,ou=0,au=null,lu=-1,uu=0;function cu(){return 0!=(6&jl)?ce():-1!==lu?lu:lu=ce()}function hu(t){return 0==(1&t.mode)?1:0!=(2&jl)&&0!==Ll?Ll&-Ll:null!==Ti.transition?(0===uu&&(uu=Ee()),uu):0!==(t=Re)?t:t=void 0===(t=window.event)?16:cn(t.type)}function du(t,e,n,s){if(50<ou)throw ou=0,au=null,Error(v(185));De(t,n,s),0!=(2&jl)&&t===Vl||(t===Vl&&(0==(2&jl)&&(Ql|=n),4===Ul&&_u(t,Ll)),fu(t,s),1===n&&0===jl&&0==(1&e.mode)&&(Kl=ce()+500,Yr&&Kr()))}function fu(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ye(i),a=1<<o,l=r[o];-1===l?0!=(a&n)&&0==(a&s)||(r[o]=Ce(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}(t,e);var s,r=Te(t,t===Vl?Ll:0);if(0===r)null!==n&&ae(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&ae(n),1===e)0===t.tag?(s=vu.bind(null,t),Yr=!0,Zr(s)):Zr(vu.bind(null,t)),gr((function(){0==(6&jl)&&Kr()})),n=null;else{switch(Fe(r)){case 1:n=de;break;case 4:n=fe;break;case 16:default:n=pe;break;case 536870912:n=ge}n=Vu(n,pu.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pu(t,e){if(lu=-1,uu=0,0!=(6&jl))throw Error(v(327));var n=t.callbackNode;if(Ru()&&t.callbackNode!==n)return null;var s=Te(t,t===Vl?Ll:0);if(0===s)return null;if(0!=(30&s)||0!=(s&t.expiredLanes)||e)e=Cu(t,s);else{e=s;var r=jl;jl|=2;var i=Su();for(Vl===t&&Ll===e||(Jl=null,Kl=ce()+500,wu(t,e));;)try{Eu();break}catch(e){ku(t,e)}Mi(),Pl.current=i,jl=r,null!==zl?e=0:(Vl=null,Ll=0,e=Ul)}if(0!==e){if(2===e&&(0!==(r=Ae(t))&&(s=r,e=mu(t,r))),1===e)throw n=$l,wu(t,0),_u(t,s),fu(t,ce()),n;if(6===e)_u(t,s);else{if(r=t.current.alternate,0==(30&s)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!_s(i(),r))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=Cu(t,s))&&(0!==(i=Ae(t))&&(s=i,e=mu(t,i))),1===e))throw n=$l,wu(t,0),_u(t,s),fu(t,ce()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(v(345));case 2:case 5:Mu(t,Xl,Jl);break;case 3:if(_u(t,s),(130023424&s)===s&&10<(e=Zl+500-ce())){if(0!==Te(t,0))break;if(((r=t.suspendedLanes)&s)!==s){cu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=fr(Mu.bind(null,t,Xl,Jl),e);break}Mu(t,Xl,Jl);break;case 4:if(_u(t,s),(4194240&s)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-ye(s);i=1<<o,(o=e[o])>r&&(r=o),s&=~i}if(s=r,10<(s=(120>(s=ce()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Il(s/1960))-s)){t.timeoutHandle=fr(Mu.bind(null,t,Xl,Jl),s);break}Mu(t,Xl,Jl);break;default:throw Error(v(329))}}}return fu(t,ce()),t.callbackNode===n?pu.bind(null,t):null}function mu(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(wu(t,e).flags|=256),2!==(t=Cu(t,e))&&(e=Xl,Xl=n,null!==e&&gu(e)),t}function gu(t){null===Xl?Xl=t:Xl.push.apply(Xl,t)}function _u(t,e){for(e&=~Hl,e&=~Ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ye(e),s=1<<n;t[n]=-1,e&=~s}}function vu(t){if(0!=(6&jl))throw Error(v(327));Ru();var e=Te(t,0);if(0==(1&e))return fu(t,ce()),null;var n=Cu(t,e);if(0!==t.tag&&2===n){var s=Ae(t);0!==s&&(e=s,n=mu(t,s))}if(1===n)throw n=$l,wu(t,0),_u(t,e),fu(t,ce()),n;if(6===n)throw Error(v(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mu(t,Xl,Jl),fu(t,ce()),null}function yu(t,e){var n=jl;jl|=1;try{return t(e)}finally{0===(jl=n)&&(Kl=ce()+500,Yr&&Kr())}}function bu(t){null!==ru&&0===ru.tag&&0==(6&jl)&&Ru();var e=jl;jl|=1;var n=ql.transition,s=Re;try{if(ql.transition=null,Re=1,t)return t()}finally{Re=s,ql.transition=n,0==(6&(jl=e))&&Kr()}}function xu(){Wl=Bl.current,Pr(Bl)}function wu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,pr(n)),null!==zl)for(n=zl.return;null!==n;){var s=n;switch(hi(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&Br();break;case 3:mo(),Pr(Vr),Pr(jr),xo();break;case 5:_o(s);break;case 4:mo();break;case 13:case 19:Pr(vo);break;case 10:Ri(s.type._context);break;case 22:case 23:xu()}n=n.return}if(Vl=t,zl=t=Bu(t.current,null),Ll=Wl=e,Ul=0,$l=null,Hl=Ql=Gl=0,Xl=Yl=null,null!==Ni){for(e=0;e<Ni.length;e++)if(null!==(s=(n=Ni[e]).interleaved)){n.interleaved=null;var r=s.next,i=n.pending;if(null!==i){var o=i.next;i.next=r,s.next=o}n.pending=s}Ni=null}return t}function ku(t,e){for(;;){var n=zl;try{if(Mi(),wo.current=ga,Eo){for(var s=To.memoizedState;null!==s;){var r=s.queue;null!==r&&(r.pending=null),s=s.next}Eo=!1}if(So=0,Ao=Co=To=null,Oo=!1,Do=0,Nl.current=null,null===n||null===n.return){Ul=1,$l=e,zl=null;break}t:{var i=t,o=n.return,a=n,l=e;if(e=Ll,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,h=c.tag;if(0==(1&c.mode)&&(0===h||11===h||15===h)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Aa(o);if(null!==f){f.flags&=-257,Ea(f,o,a,0,e),1&f.mode&&Ca(i,u,e),l=u;var p=(e=f).updateQueue;if(null===p){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break t}if(0==(1&e)){Ca(i,u,e),Tu();break t}l=Error(v(426))}else if(pi&&1&a.mode){var g=Aa(o);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Ea(g,o,a,0,e),Si(ba(l,a));break t}}i=l=ba(l,a),4!==Ul&&(Ul=2),null===Yl?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e,Gi(i,Sa(0,l,e));break t;case 1:a=l;var _=i.type,y=i.stateNode;if(0==(128&i.flags)&&("function"==typeof _.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===nu||!nu.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e,Gi(i,Ta(i,a,e));break t}}i=i.return}while(null!==i)}Du(n)}catch(t){e=t,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function Su(){var t=Pl.current;return Pl.current=ga,null===t?ga:t}function Tu(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Vl||0==(268435455&Gl)&&0==(268435455&Ql)||_u(Vl,Ll)}function Cu(t,e){var n=jl;jl|=2;var s=Su();for(Vl===t&&Ll===e||(Jl=null,wu(t,e));;)try{Au();break}catch(e){ku(t,e)}if(Mi(),jl=n,Pl.current=s,null!==zl)throw Error(v(261));return Vl=null,Ll=0,Ul}function Au(){for(;null!==zl;)Ou(zl)}function Eu(){for(;null!==zl&&!le();)Ou(zl)}function Ou(t){var e=Fl(t.alternate,t,Wl);t.memoizedProps=t.pendingProps,null===e?Du(t):zl=e,Nl.current=null}function Du(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(32768&e.flags)){if(null!==(n=sl(n,e,Wl)))return void(zl=n)}else{if(null!==(n=rl(n,e)))return n.flags&=32767,void(zl=n);if(null===t)return Ul=6,void(zl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(zl=e);zl=e=t}while(null!==e);0===Ul&&(Ul=5)}function Mu(t,e,n){var s=Re,r=ql.transition;try{ql.transition=null,Re=1,function(t,e,n,s){do{Ru()}while(null!==ru);if(0!=(6&jl))throw Error(v(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ye(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}(t,i),t===Vl&&(zl=Vl=null,Ll=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||su||(su=!0,Vu(pe,(function(){return Ru(),null}))),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=ql.transition,ql.transition=null;var o=Re;Re=1;var a=jl;jl|=4,Nl.current=null,function(t,e){if(cr=sn,ks(t=ws())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var s=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch(t){n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;e:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(a=o+r),h!==i||0!==s&&3!==h.nodeType||(l=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===t)break e;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hr={focusedElem:t,selectionRange:n},sn=!1,ll=e;null!==ll;)if(t=(e=ll).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,ll=t;else for(;null!==ll;){e=ll;try{var p=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ci(e.type,m),g);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(v(163))}}catch(t){Iu(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,ll=t;break}ll=e.return}p=hl,hl=!1}(t,n),Cl(n,t),Ss(hr),sn=!!cr,hr=cr=null,t.current=n,El(n,t,r),ue(),jl=a,Re=o,ql.transition=i}else t.current=n;if(su&&(su=!1,ru=t,iu=r),0===(i=t.pendingLanes)&&(nu=null),function(t){if(ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(_e,t,void 0,128==(128&t.current.flags))}catch(t){}}(n.stateNode),fu(t,ce()),null!==e)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(tu)throw tu=!1,t=eu,eu=null,t;0!=(1&iu)&&0!==t.tag&&Ru(),0!=(1&(i=t.pendingLanes))?t===au?ou++:(ou=0,au=t):ou=0,Kr()}(t,e,n,s)}finally{ql.transition=r,Re=s}return null}function Ru(){if(null!==ru){var t=Fe(iu),e=ql.transition,n=Re;try{if(ql.transition=null,Re=16>t?16:t,null===ru)var s=!1;else{if(t=ru,ru=null,iu=0,0!=(6&jl))throw Error(v(331));var r=jl;for(jl|=4,ll=t.current;null!==ll;){var i=ll,o=i.child;if(0!=(16&ll.flags)){var a=i.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(ll=u;null!==ll;){var c=ll;switch(c.tag){case 0:case 11:case 15:dl(8,c,i)}var h=c.child;if(null!==h)h.return=c,ll=h;else for(;null!==ll;){var d=(c=ll).sibling,f=c.return;if(ml(c),c===u){ll=null;break}if(null!==d){d.return=f,ll=d;break}ll=f}}}var p=i.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ll=i}}if(0!=(2064&i.subtreeFlags)&&null!==o)o.return=i,ll=o;else t:for(;null!==ll;){if(0!=(2048&(i=ll).flags))switch(i.tag){case 0:case 11:case 15:dl(9,i,i.return)}var _=i.sibling;if(null!==_){_.return=i.return,ll=_;break t}ll=i.return}}var y=t.current;for(ll=y;null!==ll;){var b=(o=ll).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,ll=b;else t:for(o=y;null!==ll;){if(0!=(2048&(a=ll).flags))try{switch(a.tag){case 0:case 11:case 15:fl(9,a)}}catch(t){Iu(a,a.return,t)}if(a===o){ll=null;break t}var x=a.sibling;if(null!==x){x.return=a.return,ll=x;break t}ll=a.return}}if(jl=r,Kr(),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(_e,t)}catch(t){}s=!0}return s}finally{Re=n,ql.transition=e}}return!1}function Fu(t,e,n){t=Ui(t,e=Sa(0,e=ba(n,e),1),1),e=cu(),null!==t&&(De(t,1,e),fu(t,e))}function Iu(t,e,n){if(3===t.tag)Fu(t,t,n);else for(;null!==e;){if(3===e.tag){Fu(e,t,n);break}if(1===e.tag){var s=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===nu||!nu.has(s))){e=Ui(e,t=Ta(e,t=ba(n,t),1),1),t=cu(),null!==e&&(De(e,1,t),fu(e,t));break}}e=e.return}}function Pu(t,e,n){var s=t.pingCache;null!==s&&s.delete(e),e=cu(),t.pingedLanes|=t.suspendedLanes&n,Vl===t&&(Ll&n)===n&&(4===Ul||3===Ul&&(130023424&Ll)===Ll&&500>ce()-Zl?wu(t,0):Hl|=n),fu(t,e)}function Nu(t,e){0===e&&(0==(1&t.mode)?e=1:(e=ke,0==(130023424&(ke<<=1))&&(ke=4194304)));var n=cu();null!==(t=Vi(t,e))&&(De(t,e,n),fu(t,n))}function qu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Nu(t,n)}function ju(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(v(314))}null!==s&&s.delete(e),Nu(t,n)}function Vu(t,e){return oe(t,e)}function zu(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(t,e,n,s){return new zu(t,e,n,s)}function Wu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bu(t,e){var n=t.alternate;return null===n?((n=Lu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uu(t,e,n,s,r,i){var o=2;if(s=t,"function"==typeof t)Wu(t)&&(o=1);else if("string"==typeof t)o=5;else t:switch(t){case N:return $u(n.children,r,i,e);case q:o=8,r|=8;break;case j:return(t=Lu(12,n,e,2|r)).elementType=j,t.lanes=i,t;case W:return(t=Lu(13,n,e,r)).elementType=W,t.lanes=i,t;case B:return(t=Lu(19,n,e,r)).elementType=B,t.lanes=i,t;case G:return Gu(n,r,i,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case V:o=10;break t;case z:o=9;break t;case L:o=11;break t;case U:o=14;break t;case $:o=16,s=null;break t}throw Error(v(130,null==t?t:typeof t,""))}return(e=Lu(o,n,e,r)).elementType=t,e.type=s,e.lanes=i,e}function $u(t,e,n,s){return(t=Lu(7,t,s,e)).lanes=n,t}function Gu(t,e,n,s){return(t=Lu(22,t,s,e)).elementType=G,t.lanes=n,t.stateNode={isHidden:!1},t}function Qu(t,e,n){return(t=Lu(6,t,null,e)).lanes=n,t}function Hu(t,e,n){return(e=Lu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yu(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oe(0),this.expirationTimes=Oe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Xu(t,e,n,s,r,i,o,a,l){return t=new Yu(t,e,n,a,l),1===e?(e=1,!0===i&&(e|=8)):e=0,i=Lu(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),t}function Zu(t,e,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==s?null:""+s,children:t,containerInfo:e,implementation:n}}function Ku(t){if(!t)return qr;t:{if(ee(t=t._reactInternals)!==t||1!==t.tag)throw Error(v(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(v(171))}if(1===t.tag){var n=t.type;if(Wr(n))return $r(t,n,e)}return e}function Ju(t,e,n,s,r,i,o,a,l){return(t=Xu(n,s,!0,t,0,i,0,a,l)).context=Ku(null),n=t.current,(i=Bi(s=cu(),r=hu(n))).callback=null!=e?e:null,Ui(n,i,r),t.current.lanes=r,De(t,r,s),fu(t,s),t}function tc(t,e,n,s){var r=e.current,i=cu(),o=hu(r);return n=Ku(n),null===e.context?e.context=n:e.pendingContext=n,(e=Bi(i,o)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),null!==(t=Ui(r,e,o))&&(du(t,r,o,i),$i(t,r,o)),o}function ec(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function sc(t,e){nc(t,e),(t=t.alternate)&&nc(t,e)}Fl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Vr.current)Da=!0;else{if(0==(t.lanes&n)&&0==(128&e.flags))return Da=!1,function(t,e,n){switch(e.tag){case 3:za(e),ki();break;case 5:go(e);break;case 1:Wr(e.type)&&Gr(e);break;case 4:po(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Nr(Ai,s._currentValue),s._currentValue=r;break;case 13:if(null!==(s=e.memoizedState))return null!==s.dehydrated?(Nr(vo,1&vo.current),e.flags|=128,null):0!=(n&e.child.childLanes)?Qa(t,e,n):(Nr(vo,1&vo.current),null!==(t=tl(t,e,n))?t.sibling:null);Nr(vo,1&vo.current);break;case 19:if(s=0!=(n&e.childLanes),0!=(128&t.flags)){if(s)return Ka(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nr(vo,vo.current),s)break;return null;case 22:case 23:return e.lanes=0,Pa(t,e,n)}return tl(t,e,n)}(t,e,n);Da=0!=(131072&t.flags)}else Da=!1,pi&&0!=(1048576&e.flags)&&ui(e,ni,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ja(t,e),t=e.pendingProps;var r=Lr(e,jr.current);Ii(e,n),r=Io(null,e,s,t,r,n);var i=Po();return e.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wr(s)?(i=!0,Gr(e)):i=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(e),r.updater=Zi,e.stateNode=r,r._reactInternals=e,eo(e,s,t,n),e=Va(null,e,s,!0,i,n)):(e.tag=0,pi&&i&&ci(e),Ma(null,e,r,n),e=e.child),e;case 16:s=e.elementType;t:{switch(Ja(t,e),t=e.pendingProps,s=(r=s._init)(s._payload),e.type=s,r=e.tag=function(t){if("function"==typeof t)return Wu(t)?1:0;if(null!=t){if((t=t.$$typeof)===L)return 11;if(t===U)return 14}return 2}(s),t=Ci(s,t),r){case 0:e=qa(null,e,s,t,n);break t;case 1:e=ja(null,e,s,t,n);break t;case 11:e=Ra(null,e,s,t,n);break t;case 14:e=Fa(null,e,s,Ci(s.type,t),n);break t}throw Error(v(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,qa(t,e,s,r=e.elementType===s?r:Ci(s,r),n);case 1:return s=e.type,r=e.pendingProps,ja(t,e,s,r=e.elementType===s?r:Ci(s,r),n);case 3:t:{if(za(e),null===t)throw Error(v(387));s=e.pendingProps,r=(i=e.memoizedState).element,Wi(t,e),Qi(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,256&e.flags){e=La(t,e,s,n,r=ba(Error(v(423)),e));break t}if(s!==r){e=La(t,e,s,n,r=ba(Error(v(424)),e));break t}for(fi=yr(e.stateNode.containerInfo.firstChild),di=e,pi=!0,mi=null,n=ao(e,null,s,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ki(),s===r){e=tl(t,e,n);break t}Ma(t,e,s,n)}e=e.child}return e;case 5:return go(e),null===t&&yi(e),s=e.type,r=e.pendingProps,i=null!==t?t.memoizedProps:null,o=r.children,dr(s,r)?o=null:null!==i&&dr(s,i)&&(e.flags|=32),Na(t,e),Ma(t,e,o,n),e.child;case 6:return null===t&&yi(e),null;case 13:return Qa(t,e,n);case 4:return po(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=oo(e,null,s,n):Ma(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,Ra(t,e,s,r=e.elementType===s?r:Ci(s,r),n);case 7:return Ma(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ma(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Nr(Ai,s._currentValue),s._currentValue=o,null!==i)if(_s(i.value,o)){if(i.children===r.children&&!Vr.current){e=tl(t,e,n);break t}}else for(null!==(i=e.child)&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){o=i.child;for(var l=a.firstContext;null!==l;){if(l.context===s){if(1===i.tag){(l=Bi(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Fi(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(10===i.tag)o=i.type===e.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(v(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Fi(o,n,e),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Ma(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ii(e,n),s=s(r=Pi(r)),e.flags|=1,Ma(t,e,s,n),e.child;case 14:return r=Ci(s=e.type,e.pendingProps),Fa(t,e,s,r=Ci(s.type,r),n);case 15:return Ia(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ci(s,r),Ja(t,e),e.tag=1,Wr(s)?(t=!0,Gr(e)):t=!1,Ii(e,n),Ji(e,s,r),eo(e,s,r,n),Va(null,e,s,!0,t,n);case 19:return Ka(t,e,n);case 22:return Pa(t,e,n)}throw Error(v(156,e.tag))};var rc="function"==typeof reportError?reportError:function(t){console.error(t)};function ic(t){this._internalRoot=t}function oc(t){this._internalRoot=t}function ac(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function lc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function uc(){}function cc(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if("function"==typeof r){var a=r;r=function(){var t=ec(o);a.call(t)}}tc(e,o,t,r)}else o=function(t,e,n,s,r){if(r){if("function"==typeof s){var i=s;s=function(){var t=ec(o);i.call(t)}}var o=Ju(e,s,t,0,null,!1,0,"",uc);return t._reactRootContainer=o,t[Sr]=o.current,Ks(8===t.nodeType?t.parentNode:t),bu(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"==typeof s){var a=s;s=function(){var t=ec(l);a.call(t)}}var l=Xu(t,0,!1,null,0,!1,0,"",uc);return t._reactRootContainer=l,t[Sr]=l.current,Ks(8===t.nodeType?t.parentNode:t),bu((function(){tc(e,l,n,s)})),l}(n,e,t,r,s);return ec(o)}oc.prototype.render=ic.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(v(409));tc(t,e,null,null)},oc.prototype.unmount=ic.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;bu((function(){tc(null,t,null,null)})),e[Sr]=null}},oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=qe();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ge.length&&0!==e&&e<Ge[n].priority;n++);Ge.splice(n,0,t),0===n&&Xe(t)}},Ie=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Se(e.pendingLanes);0!==n&&(Me(e,1|n),fu(e,ce()),0==(6&jl)&&(Kl=ce()+500,Kr()))}break;case 13:bu((function(){var e=Vi(t,1);if(null!==e){var n=cu();du(e,t,1,n)}})),sc(t,1)}},Pe=function(t){if(13===t.tag){var e=Vi(t,134217728);if(null!==e)du(e,t,134217728,cu());sc(t,134217728)}},Ne=function(t){if(13===t.tag){var e=hu(t),n=Vi(t,e);if(null!==n)du(n,t,e,cu());sc(t,e)}},qe=function(){return Re},je=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}},Pt=function(t,e,n){switch(e){case"input":if(ht(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Mr(s);if(!r)throw Error(v(90));ot(s),ht(s,r)}}}break;case"textarea":vt(t,n);break;case"select":null!=(e=n.value)&&mt(t,!!n.multiple,e,!1)}},Lt=yu,Wt=bu;var hc={usingClientEntryPoint:!1,Events:[Or,Dr,Mr,Vt,zt,yu]},dc={findFiberByHostInstance:Er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fc={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=re(t))?null:t.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{_e=pc.inject(fc),ve=pc}catch(kt){}}s=hc,r=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(e))throw Error(v(200));return Zu(t,e,null,n)},o=function(t,e){if(!ac(t))throw Error(v(299));var n=!1,s="",r=rc;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(s=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Xu(t,1,!1,null,0,n,0,s,r),t[Sr]=e.current,Ks(8===t.nodeType?t.parentNode:t),new ic(e)},a=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(v(188));throw t=Object.keys(t).join(","),Error(v(268,t))}return t=null===(t=re(e))?null:t.stateNode},l=function(t){return bu(t)},u=function(t,e,n){if(!lc(e))throw Error(v(200));return cc(null,t,e,!0,n)},c=function(t,e,n){if(!ac(t))throw Error(v(405));var s=null!=n&&n.hydratedSources||null,r=!1,i="",o=rc;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=Ju(e,null,t,1,null!=n?n:null,r,0,i,o),t[Sr]=e.current,Ks(t),s)for(t=0;t<s.length;t++)r=(r=(n=s[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new oc(e)},h=function(t,e,n){if(!lc(e))throw Error(v(200));return cc(null,t,e,!1,n)},d=function(t){if(!lc(t))throw Error(v(40));return!!t._reactRootContainer&&(bu((function(){cc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Sr]=null}))})),!0)},f=yu,p=function(t,e,n,s){if(!lc(n))throw Error(v(200));if(null==t||void 0===t._reactInternals)throw Error(v(38));return cc(t,e,n,!1,s)},m="18.2.0-next-9e3b772b8-20220608"})),i.register("6qr1r",(function(t,e){t.exports=i("7vgeW")})),i.register("7vgeW",(function(e,n){var s,r,i,o,a,l,u,c,h,d,f,p,m,g,_,v,y,b,x;function w(t,e){var n=t.length;t.push(e);t:for(;0<n;){var s=n-1>>>1,r=t[s];if(!(0<T(r,e)))break t;t[s]=e,t[n]=r,n=s}}function k(t){return 0===t.length?null:t[0]}function S(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var s=0,r=t.length,i=r>>>1;s<i;){var o=2*(s+1)-1,a=t[o],l=o+1,u=t[l];if(0>T(a,n))l<r&&0>T(u,a)?(t[s]=u,t[l]=n,s=l):(t[s]=a,t[o]=n,s=o);else{if(!(l<r&&0>T(u,n)))break t;t[s]=u,t[l]=n,s=l}}}return e}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(t(e.exports,"unstable_now",(()=>s),(t=>s=t)),t(e.exports,"unstable_IdlePriority",(()=>r),(t=>r=t)),t(e.exports,"unstable_ImmediatePriority",(()=>i),(t=>i=t)),t(e.exports,"unstable_LowPriority",(()=>o),(t=>o=t)),t(e.exports,"unstable_NormalPriority",(()=>a),(t=>a=t)),t(e.exports,"unstable_Profiling",(()=>l),(t=>l=t)),t(e.exports,"unstable_UserBlockingPriority",(()=>u),(t=>u=t)),t(e.exports,"unstable_cancelCallback",(()=>c),(t=>c=t)),t(e.exports,"unstable_continueExecution",(()=>h),(t=>h=t)),t(e.exports,"unstable_forceFrameRate",(()=>d),(t=>d=t)),t(e.exports,"unstable_getCurrentPriorityLevel",(()=>f),(t=>f=t)),t(e.exports,"unstable_getFirstCallbackNode",(()=>p),(t=>p=t)),t(e.exports,"unstable_next",(()=>m),(t=>m=t)),t(e.exports,"unstable_pauseExecution",(()=>g),(t=>g=t)),t(e.exports,"unstable_requestPaint",(()=>_),(t=>_=t)),t(e.exports,"unstable_runWithPriority",(()=>v),(t=>v=t)),t(e.exports,"unstable_scheduleCallback",(()=>y),(t=>y=t)),t(e.exports,"unstable_shouldYield",(()=>b),(t=>b=t)),t(e.exports,"unstable_wrapCallback",(()=>x),(t=>x=t)),"object"==typeof performance&&"function"==typeof performance.now){var C=performance;s=function(){return C.now()}}else{var A=Date,E=A.now();s=function(){return A.now()-E}}var O=[],D=[],M=1,R=null,F=3,I=!1,P=!1,N=!1,q="function"==typeof setTimeout?setTimeout:null,j="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function z(t){for(var e=k(D);null!==e;){if(null===e.callback)S(D);else{if(!(e.startTime<=t))break;S(D),e.sortIndex=e.expirationTime,w(O,e)}e=k(D)}}function L(t){if(N=!1,z(t),!P)if(null!==k(O))P=!0,J(W);else{var e=k(D);null!==e&&tt(L,e.startTime-t)}}function W(t,e){P=!1,N&&(N=!1,j(G),G=-1),I=!0;var n=F;try{for(z(e),R=k(O);null!==R&&(!(R.expirationTime>e)||t&&!Y());){var r=R.callback;if("function"==typeof r){R.callback=null,F=R.priorityLevel;var i=r(R.expirationTime<=e);e=s(),"function"==typeof i?R.callback=i:R===k(O)&&S(O),z(e)}else S(O);R=k(O)}if(null!==R)var o=!0;else{var a=k(D);null!==a&&tt(L,a.startTime-e),o=!1}return o}finally{R=null,F=n,I=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,U=!1,$=null,G=-1,Q=5,H=-1;function Y(){return!(s()-H<Q)}function X(){if(null!==$){var t=s();H=t;var e=!0;try{e=$(!0,t)}finally{e?B():(U=!1,$=null)}}else U=!1}if("function"==typeof V)B=function(){V(X)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=X,B=function(){K.postMessage(null)}}else B=function(){q(X,0)};function J(t){$=t,U||(U=!0,B())}function tt(t,e){G=q((function(){t(s())}),e)}r=5,i=1,o=4,a=3,l=null,u=2,c=function(t){t.callback=null},h=function(){P||I||(P=!0,J(W))},d=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<t?Math.floor(1e3/t):5},f=function(){return F},p=function(){return k(O)},m=function(t){switch(F){case 1:case 2:case 3:var e=3;break;default:e=F}var n=F;F=e;try{return t()}finally{F=n}},g=function(){},_=function(){},v=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=F;F=t;try{return e()}finally{F=n}},y=function(t,e,n){var r=s();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?r+n:r:n=r,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return t={id:M++,callback:e,priorityLevel:t,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>r?(t.sortIndex=n,w(D,t),null===k(O)&&t===k(D)&&(N?(j(G),G=-1):N=!0,tt(L,n-r))):(t.sortIndex=i,w(O,t),P||I||(P=!0,J(W))),t},b=Y,x=function(t){var e=F;return function(){var n=F;F=e;try{return t.apply(this,arguments)}finally{F=n}}}})),i.register("7U5sq",(function(t,n){(function(){var s,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,l=32,u=64,c=128,h=256,d=1/0,f=9007199254740991,p=NaN,m=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",l],["partialRight",u],["rearg",h]],_="[object Arguments]",v="[object Array]",y="[object Boolean]",b="[object Date]",x="[object Error]",w="[object Function]",k="[object GeneratorFunction]",S="[object Map]",T="[object Number]",C="[object Object]",A="[object Promise]",E="[object RegExp]",O="[object Set]",D="[object String]",M="[object Symbol]",R="[object WeakMap]",F="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",q="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",L="[object Uint8ClampedArray]",W="[object Uint16Array]",B="[object Uint32Array]",U=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,Y=RegExp(Q.source),X=RegExp(H.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(st.source),it=/^\s+/,ot=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",Ct="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['’]",Dt="[\ud800-\udfff]",Mt="["+Et+"]",Rt="["+kt+"]",Ft="\\d+",It="[\\u2700-\\u27bf]",Pt="["+Tt+"]",Nt="[^\ud800-\udfff"+Et+Ft+St+Tt+Ct+"]",qt="[^\ud800-\udfff]",jt="(?:\ud83c[\udde6-\uddff]){2}",Vt="[\ud800-\udbff][\udc00-\udfff]",zt="["+Ct+"]",Lt="(?:"+Pt+"|"+Nt+")",Wt="(?:"+zt+"|"+Nt+")",Bt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ut="(?:['’](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Rt+"|"+"\ud83c[\udffb-\udfff])"+"?",Gt="[\\ufe0e\\ufe0f]?",Qt=Gt+$t+("(?:\\u200d(?:"+[qt,jt,Vt].join("|")+")"+Gt+$t+")*"),Ht="(?:"+[It,jt,Vt].join("|")+")"+Qt,Yt="(?:"+[qt+Rt+"?",Rt,jt,Vt,Dt].join("|")+")",Xt=RegExp(Ot,"g"),Zt=RegExp(Rt,"g"),Kt=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Yt+Qt,"g"),Jt=RegExp([zt+"?"+Pt+"+"+Bt+"(?="+[Mt,zt,"$"].join("|")+")",Wt+"+"+Ut+"(?="+[Mt,zt+Lt,"$"].join("|")+")",zt+"?"+Lt+"+"+Bt,zt+"+"+Ut,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ft,Ht].join("|"),"g"),te=RegExp("[\\u200d\ud800-\udfff"+kt+At+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,re={};re[P]=re[N]=re[q]=re[j]=re[V]=re[z]=re[L]=re[W]=re[B]=!0,re[_]=re[v]=re[F]=re[y]=re[I]=re[b]=re[x]=re[w]=re[S]=re[T]=re[C]=re[E]=re[O]=re[D]=re[R]=!1;var ie={};ie[_]=ie[v]=ie[F]=ie[I]=ie[y]=ie[b]=ie[P]=ie[N]=ie[q]=ie[j]=ie[V]=ie[S]=ie[T]=ie[C]=ie[E]=ie[O]=ie[D]=ie[M]=ie[z]=ie[L]=ie[W]=ie[B]=!0,ie[x]=ie[w]=ie[R]=!1;var oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,le=parseInt,ue="object"==typeof e&&e&&e.Object===Object&&e,ce="object"==typeof self&&self&&self.Object===Object&&self,he=ue||ce||Function("return this")(),de=n&&!n.nodeType&&n,fe=de&&t&&!t.nodeType&&t,pe=fe&&fe.exports===de,me=pe&&ue.process,ge=function(){try{var t=fe&&fe.require&&fe.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(t){}}(),_e=ge&&ge.isArrayBuffer,ve=ge&&ge.isDate,ye=ge&&ge.isMap,be=ge&&ge.isRegExp,xe=ge&&ge.isSet,we=ge&&ge.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Se(t,e,n,s){for(var r=-1,i=null==t?0:t.length;++r<i;){var o=t[r];e(s,o,n(o),t)}return s}function Te(t,e){for(var n=-1,s=null==t?0:t.length;++n<s&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,s=null==t?0:t.length;++n<s;)if(!e(t[n],n,t))return!1;return!0}function Ee(t,e){for(var n=-1,s=null==t?0:t.length,r=0,i=[];++n<s;){var o=t[n];e(o,n,t)&&(i[r++]=o)}return i}function Oe(t,e){return!!(null==t?0:t.length)&&Ve(t,e,0)>-1}function De(t,e,n){for(var s=-1,r=null==t?0:t.length;++s<r;)if(n(e,t[s]))return!0;return!1}function Me(t,e){for(var n=-1,s=null==t?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}function Re(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}function Fe(t,e,n,s){var r=-1,i=null==t?0:t.length;for(s&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function Ie(t,e,n,s){var r=null==t?0:t.length;for(s&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Pe(t,e){for(var n=-1,s=null==t?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}var Ne=Be("length");function qe(t,e,n){var s;return n(t,(function(t,n,r){if(e(t,n,r))return s=n,!1})),s}function je(t,e,n,s){for(var r=t.length,i=n+(s?1:-1);s?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function Ve(t,e,n){return e==e?function(t,e,n){var s=n-1,r=t.length;for(;++s<r;)if(t[s]===e)return s;return-1}(t,e,n):je(t,Le,n)}function ze(t,e,n,s){for(var r=n-1,i=t.length;++r<i;)if(s(t[r],e))return r;return-1}function Le(t){return t!=t}function We(t,e){var n=null==t?0:t.length;return n?Ge(t,e)/n:p}function Be(t){return function(e){return null==e?s:e[t]}}function Ue(t){return function(e){return null==t?s:t[e]}}function $e(t,e,n,s,r){return r(t,(function(t,r,i){n=s?(s=!1,t):e(n,t,r,i)})),n}function Ge(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==s&&(n=n===s?o:n+o)}return n}function Qe(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}function He(t){return t?t.slice(0,fn(t)+1).replace(it,""):t}function Ye(t){return function(e){return t(e)}}function Xe(t,e){return Me(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Ke(t,e){for(var n=-1,s=t.length;++n<s&&Ve(e,t[n],0)>-1;);return n}function Je(t,e){for(var n=t.length;n--&&Ve(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length,s=0;n--;)t[n]===e&&++s;return s}var en=Ue({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Ue({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+oe[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,s){n[++e]=[s,t]})),n}function an(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,s=t.length,r=0,i=[];++n<s;){var a=t[n];a!==e&&a!==o||(t[n]=o,i[r++]=n)}return i}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function hn(t){return rn(t)?function(t){var e=Kt.lastIndex=0;for(;Kt.test(t);)++e;return e}(t):Ne(t)}function dn(t){return rn(t)?function(t){return t.match(Kt)||[]}(t):function(t){return t.split("")}(t)}function fn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var pn=Ue({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n,ot=(e=null==e?he:mn.defaults(he.Object(),e,mn.pick(he,ne))).Array,kt=e.Date,St=e.Error,Tt=e.Function,Ct=e.Math,At=e.Object,Et=e.RegExp,Ot=e.String,Dt=e.TypeError,Mt=ot.prototype,Rt=Tt.prototype,Ft=At.prototype,It=e["__core-js_shared__"],Pt=Rt.toString,Nt=Ft.hasOwnProperty,qt=0,jt=(n=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Vt=Ft.toString,zt=Pt.call(At),Lt=he._,Wt=Et("^"+Pt.call(Nt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=pe?e.Buffer:s,Ut=e.Symbol,$t=e.Uint8Array,Gt=Bt?Bt.allocUnsafe:s,Qt=an(At.getPrototypeOf,At),Ht=At.create,Yt=Ft.propertyIsEnumerable,Kt=Mt.splice,te=Ut?Ut.isConcatSpreadable:s,oe=Ut?Ut.iterator:s,ue=Ut?Ut.toStringTag:s,ce=function(){try{var t=fi(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),de=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,fe=kt&&kt.now!==he.Date.now&&kt.now,me=e.setTimeout!==he.setTimeout&&e.setTimeout,ge=Ct.ceil,Ne=Ct.floor,Ue=At.getOwnPropertySymbols,gn=Bt?Bt.isBuffer:s,_n=e.isFinite,vn=Mt.join,yn=an(At.keys,At),bn=Ct.max,xn=Ct.min,wn=kt.now,kn=e.parseInt,Sn=Ct.random,Tn=Mt.reverse,Cn=fi(e,"DataView"),An=fi(e,"Map"),En=fi(e,"Promise"),On=fi(e,"Set"),Dn=fi(e,"WeakMap"),Mn=fi(At,"create"),Rn=Dn&&new Dn,Fn={},In=Bi(Cn),Pn=Bi(An),Nn=Bi(En),qn=Bi(On),jn=Bi(Dn),Vn=Ut?Ut.prototype:s,zn=Vn?Vn.valueOf:s,Ln=Vn?Vn.toString:s;function Wn(t){if(aa(t)&&!Xo(t)&&!(t instanceof Gn)){if(t instanceof $n)return t;if(Nt.call(t,"__wrapped__"))return Ui(t)}return new $n(t)}var Bn=function(){function t(){}return function(e){if(!oa(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=s,n}}();function Un(){}function $n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Kn(t,e){var n=Xo(t),s=!n&&Yo(t),r=!n&&!s&&ta(t),i=!n&&!s&&!r&&ma(t),o=n||s||r||i,a=o?Qe(t.length,Ot):[],l=a.length;for(var u in t)!e&&!Nt.call(t,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bi(u,l))||a.push(u);return a}function Jn(t){var e=t.length;return e?t[Xs(0,e-1)]:s}function ts(t,e){return qi(Mr(t),us(e,0,t.length))}function es(t){return qi(Mr(t))}function ns(t,e,n){(n!==s&&!Go(t[e],n)||n===s&&!(e in t))&&as(t,e,n)}function ss(t,e,n){var r=t[e];Nt.call(t,e)&&Go(r,n)&&(n!==s||e in t)||as(t,e,n)}function rs(t,e){for(var n=t.length;n--;)if(Go(t[n][0],e))return n;return-1}function is(t,e,n,s){return ps(t,(function(t,r,i){e(s,t,n(t),i)})),s}function os(t,e){return t&&Rr(e,qa(e),t)}function as(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ls(t,e){for(var n=-1,r=e.length,i=ot(r),o=null==t;++n<r;)i[n]=o?s:Ra(t,e[n]);return i}function us(t,e,n){return t==t&&(n!==s&&(t=t<=n?t:n),e!==s&&(t=t>=e?t:e)),t}function cs(t,e,n,r,i,o){var a,l=1&e,u=2&e,c=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),a!==s)return a;if(!oa(t))return t;var h=Xo(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Mr(t,a)}else{var d=gi(t),f=d==w||d==k;if(ta(t))return Tr(t,l);if(d==C||d==_||f&&!i){if(a=u||f?{}:vi(t),!l)return u?function(t,e){return Rr(t,mi(t),e)}(t,function(t,e){return t&&Rr(e,ja(e),t)}(a,t)):function(t,e){return Rr(t,pi(t),e)}(t,os(a,t))}else{if(!ie[d])return i?t:{};a=function(t,e,n){var s=t.constructor;switch(e){case F:return Cr(t);case y:case b:return new s(+t);case I:return function(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case N:case q:case j:case V:case z:case L:case W:case B:return Ar(t,n);case S:return new s;case T:case D:return new s(t);case E:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new s;case M:return r=t,zn?At(zn.call(r)):{}}var r}(t,d,l)}}o||(o=new Zn);var p=o.get(t);if(p)return p;o.set(t,a),da(t)?t.forEach((function(s){a.add(cs(s,e,n,s,t,o))})):la(t)&&t.forEach((function(s,r){a.set(r,cs(s,e,n,r,t,o))}));var m=h?s:(c?u?oi:ii:u?ja:qa)(t);return Te(m||t,(function(s,r){m&&(s=t[r=s]),ss(a,r,cs(s,e,n,r,t,o))})),a}function hs(t,e,n){var r=n.length;if(null==t)return!r;for(t=At(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===s&&!(i in t)||!o(a))return!1}return!0}function ds(t,e,n){if("function"!=typeof t)throw new Dt(r);return Fi((function(){t.apply(s,n)}),e)}function fs(t,e,n,s){var r=-1,i=Oe,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=Me(e,Ye(n))),s?(i=De,o=!1):e.length>=200&&(i=Ze,o=!1,e=new Xn(e));t:for(;++r<a;){var c=t[r],h=null==n?c:n(c);if(c=s||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else i(e,h,s)||l.push(c)}return l}Wn.templateSettings={escape:Z,evaluate:K,interpolate:J,variable:"",imports:{_:Wn}},Wn.prototype=Un.prototype,Wn.prototype.constructor=Wn,$n.prototype=Bn(Un.prototype),$n.prototype.constructor=$n,Gn.prototype=Bn(Un.prototype),Gn.prototype.constructor=Gn,Qn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Qn.prototype.get=function(t){var e=this.__data__;if(Mn){var n=e[t];return n===i?s:n}return Nt.call(e,t)?e[t]:s},Qn.prototype.has=function(t){var e=this.__data__;return Mn?e[t]!==s:Nt.call(e,t)},Qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mn&&e===s?i:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=rs(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Hn.prototype.get=function(t){var e=this.__data__,n=rs(e,t);return n<0?s:e[n][1]},Hn.prototype.has=function(t){return rs(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,s=rs(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Qn,map:new(An||Hn),string:new Qn}},Yn.prototype.delete=function(t){var e=hi(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return hi(this,t).get(t)},Yn.prototype.has=function(t){return hi(this,t).has(t)},Yn.prototype.set=function(t,e){var n=hi(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,i),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var s=n.__data__;if(!An||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(s)}return n.set(t,e),this.size=n.size,this};var ps=Pr(ws),ms=Pr(ks,!0);function gs(t,e){var n=!0;return ps(t,(function(t,s,r){return n=!!e(t,s,r)})),n}function _s(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(l===s?a==a&&!pa(a):n(a,l)))var l=a,u=o}return u}function vs(t,e){var n=[];return ps(t,(function(t,s,r){e(t,s,r)&&n.push(t)})),n}function ys(t,e,n,s,r){var i=-1,o=t.length;for(n||(n=yi),r||(r=[]);++i<o;){var a=t[i];e>0&&n(a)?e>1?ys(a,e-1,n,s,r):Re(r,a):s||(r[r.length]=a)}return r}var bs=Nr(),xs=Nr(!0);function ws(t,e){return t&&bs(t,e,qa)}function ks(t,e){return t&&xs(t,e,qa)}function Ss(t,e){return Ee(e,(function(e){return sa(t[e])}))}function Ts(t,e){for(var n=0,r=(e=xr(e,t)).length;null!=t&&n<r;)t=t[Wi(e[n++])];return n&&n==r?t:s}function Cs(t,e,n){var s=e(t);return Xo(t)?s:Re(s,n(t))}function As(t){return null==t?t===s?"[object Undefined]":"[object Null]":ue&&ue in At(t)?function(t){var e=Nt.call(t,ue),n=t[ue];try{t[ue]=s;var r=!0}catch(t){}var i=Vt.call(t);r&&(e?t[ue]=n:delete t[ue]);return i}(t):function(t){return Vt.call(t)}(t)}function Es(t,e){return t>e}function Os(t,e){return null!=t&&Nt.call(t,e)}function Ds(t,e){return null!=t&&e in At(t)}function Ms(t,e,n){for(var r=n?De:Oe,i=t[0].length,o=t.length,a=o,l=ot(o),u=1/0,c=[];a--;){var h=t[a];a&&e&&(h=Me(h,Ye(e))),u=xn(h.length,u),l[a]=!n&&(e||i>=120&&h.length>=120)?new Xn(a&&h):s}h=t[0];var d=-1,f=l[0];t:for(;++d<i&&c.length<u;){var p=h[d],m=e?e(p):p;if(p=n||0!==p?p:0,!(f?Ze(f,m):r(c,m,n))){for(a=o;--a;){var g=l[a];if(!(g?Ze(g,m):r(t[a],m,n)))continue t}f&&f.push(m),c.push(p)}}return c}function Rs(t,e,n){var r=null==(t=Oi(t,e=xr(e,t)))?t:t[Wi(eo(e))];return null==r?s:ke(r,t,n)}function Fs(t){return aa(t)&&As(t)==_}function Is(t,e,n,r,i){return t===e||(null==t||null==e||!aa(t)&&!aa(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Xo(t),l=Xo(e),u=a?v:gi(t),c=l?v:gi(e),h=(u=u==_?C:u)==C,d=(c=c==_?C:c)==C,f=u==c;if(f&&ta(t)){if(!ta(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Zn),a||ma(t)?si(t,e,n,r,i,o):function(t,e,n,s,r,i,o){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case F:return!(t.byteLength!=e.byteLength||!i(new $t(t),new $t(e)));case y:case b:case T:return Go(+t,+e);case x:return t.name==e.name&&t.message==e.message;case E:case D:return t==e+"";case S:var a=on;case O:var l=1&s;if(a||(a=un),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;s|=2,o.set(t,e);var c=si(a(t),a(e),s,r,i,o);return o.delete(t),c;case M:if(zn)return zn.call(t)==zn.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var p=h&&Nt.call(t,"__wrapped__"),m=d&&Nt.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,w=m?e.value():e;return o||(o=new Zn),i(g,w,n,r,o)}}return!!f&&(o||(o=new Zn),function(t,e,n,r,i,o){var a=1&n,l=ii(t),u=l.length,c=ii(e).length;if(u!=c&&!a)return!1;var h=u;for(;h--;){var d=l[h];if(!(a?d in e:Nt.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);var g=a;for(;++h<u;){var _=t[d=l[h]],v=e[d];if(r)var y=a?r(v,_,d,e,t,o):r(_,v,d,t,e,o);if(!(y===s?_===v||i(_,v,n,r,o):y)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,r,i,o))}(t,e,n,r,Is,i))}function Ps(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=At(t);i--;){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var u=(l=n[i])[0],c=t[u],h=l[1];if(a&&l[2]){if(c===s&&!(u in t))return!1}else{var d=new Zn;if(r)var f=r(c,h,u,t,e,d);if(!(f===s?Is(h,c,3,r,d):f))return!1}}return!0}function Ns(t){return!(!oa(t)||(e=t,jt&&jt in e))&&(sa(t)?Wt:_t).test(Bi(t));var e}function qs(t){return"function"==typeof t?t:null==t?ul:"object"==typeof t?Xo(t)?Bs(t[0],t[1]):Ws(t):vl(t)}function js(t){if(!Ti(t))return yn(t);var e=[];for(var n in At(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vs(t){if(!oa(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=Ti(t),n=[];for(var s in t)("constructor"!=s||!e&&Nt.call(t,s))&&n.push(s);return n}function zs(t,e){return t<e}function Ls(t,e){var n=-1,s=Ko(t)?ot(t.length):[];return ps(t,(function(t,r,i){s[++n]=e(t,r,i)})),s}function Ws(t){var e=di(t);return 1==e.length&&e[0][2]?Ai(e[0][0],e[0][1]):function(n){return n===t||Ps(n,t,e)}}function Bs(t,e){return wi(t)&&Ci(e)?Ai(Wi(t),e):function(n){var r=Ra(n,t);return r===s&&r===e?Fa(n,t):Is(e,r,3)}}function Us(t,e,n,r,i){t!==e&&bs(e,(function(o,a){if(i||(i=new Zn),oa(o))!function(t,e,n,r,i,o,a){var l=Mi(t,n),u=Mi(e,n),c=a.get(u);if(c)return void ns(t,n,c);var h=o?o(l,u,n+"",t,e,a):s,d=h===s;if(d){var f=Xo(u),p=!f&&ta(u),m=!f&&!p&&ma(u);h=u,f||p||m?Xo(l)?h=l:Jo(l)?h=Mr(l):p?(d=!1,h=Tr(u,!0)):m?(d=!1,h=Ar(u,!0)):h=[]:ca(u)||Yo(u)?(h=l,Yo(l)?h=ka(l):oa(l)&&!sa(l)||(h=vi(u))):d=!1}d&&(a.set(u,h),i(h,u,r,o,a),a.delete(u));ns(t,n,h)}(t,e,a,n,Us,r,i);else{var l=r?r(Mi(t,a),o,a+"",t,e,i):s;l===s&&(l=o),ns(t,a,l)}}),ja)}function $s(t,e){var n=t.length;if(n)return bi(e+=e<0?n:0,n)?t[e]:s}function Gs(t,e,n){e=e.length?Me(e,(function(t){return Xo(t)?function(e){return Ts(e,1===t.length?t[0]:t)}:t})):[ul];var s=-1;return e=Me(e,Ye(ci())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ls(t,(function(t,n,r){return{criteria:Me(e,(function(e){return e(t)})),index:++s,value:t}})),(function(t,e){return function(t,e,n){var s=-1,r=t.criteria,i=e.criteria,o=r.length,a=n.length;for(;++s<o;){var l=Er(r[s],i[s]);if(l)return s>=a?l:l*("desc"==n[s]?-1:1)}return t.index-e.index}(t,e,n)}))}function Qs(t,e,n){for(var s=-1,r=e.length,i={};++s<r;){var o=e[s],a=Ts(t,o);n(a,o)&&er(i,xr(o,t),a)}return i}function Hs(t,e,n,s){var r=s?ze:Ve,i=-1,o=e.length,a=t;for(t===e&&(e=Mr(e)),n&&(a=Me(t,Ye(n)));++i<o;)for(var l=0,u=e[i],c=n?n(u):u;(l=r(a,c,l,s))>-1;)a!==t&&Kt.call(a,l,1),Kt.call(t,l,1);return t}function Ys(t,e){for(var n=t?e.length:0,s=n-1;n--;){var r=e[n];if(n==s||r!==i){var i=r;bi(r)?Kt.call(t,r,1):fr(t,r)}}return t}function Xs(t,e){return t+Ne(Sn()*(e-t+1))}function Zs(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=Ne(e/2))&&(t+=t)}while(e);return n}function Ks(t,e){return Ii(Ei(t,e,ul),t+"")}function Js(t){return Jn(Ga(t))}function tr(t,e){var n=Ga(t);return qi(n,us(e,0,n.length))}function er(t,e,n,r){if(!oa(t))return t;for(var i=-1,o=(e=xr(e,t)).length,a=o-1,l=t;null!=l&&++i<o;){var u=Wi(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var h=l[u];(c=r?r(h,u,l):s)===s&&(c=oa(h)?h:bi(e[i+1])?[]:{})}ss(l,u,c),l=l[u]}return t}var nr=Rn?function(t,e){return Rn.set(t,e),t}:ul,sr=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:ol(e),writable:!0})}:ul;function rr(t){return qi(Ga(t))}function ir(t,e,n){var s=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var i=ot(r);++s<r;)i[s]=t[s+e];return i}function or(t,e){var n;return ps(t,(function(t,s,r){return!(n=e(t,s,r))})),!!n}function ar(t,e,n){var s=0,r=null==t?s:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;s<r;){var i=s+r>>>1,o=t[i];null!==o&&!pa(o)&&(n?o<=e:o<e)?s=i+1:r=i}return r}return lr(t,e,ul,n)}function lr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,l=null===e,u=pa(e),c=e===s;i<o;){var h=Ne((i+o)/2),d=n(t[h]),f=d!==s,p=null===d,m=d==d,g=pa(d);if(a)var _=r||m;else _=c?m&&(r||f):l?m&&f&&(r||!p):u?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);_?i=h+1:o=h}return xn(o,4294967294)}function ur(t,e){for(var n=-1,s=t.length,r=0,i=[];++n<s;){var o=t[n],a=e?e(o):o;if(!n||!Go(a,l)){var l=a;i[r++]=0===o?0:o}}return i}function cr(t){return"number"==typeof t?t:pa(t)?p:+t}function hr(t){if("string"==typeof t)return t;if(Xo(t))return Me(t,hr)+"";if(pa(t))return Ln?Ln.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dr(t,e,n){var s=-1,r=Oe,i=t.length,o=!0,a=[],l=a;if(n)o=!1,r=De;else if(i>=200){var u=e?null:Zr(t);if(u)return un(u);o=!1,r=Ze,l=new Xn}else l=e?[]:a;t:for(;++s<i;){var c=t[s],h=e?e(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(c)}else r(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function fr(t,e){return null==(t=Oi(t,e=xr(e,t)))||delete t[Wi(eo(e))]}function pr(t,e,n,s){return er(t,e,n(Ts(t,e)),s)}function mr(t,e,n,s){for(var r=t.length,i=s?r:-1;(s?i--:++i<r)&&e(t[i],i,t););return n?ir(t,s?0:i,s?i+1:r):ir(t,s?i+1:0,s?r:i)}function gr(t,e){var n=t;return n instanceof Gn&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function _r(t,e,n){var s=t.length;if(s<2)return s?dr(t[0]):[];for(var r=-1,i=ot(s);++r<s;)for(var o=t[r],a=-1;++a<s;)a!=r&&(i[r]=fs(i[r]||o,t[a],e,n));return dr(ys(i,1),e,n)}function vr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var l=r<o?e[r]:s;n(a,t[r],l)}return a}function yr(t){return Jo(t)?t:[]}function br(t){return"function"==typeof t?t:ul}function xr(t,e){return Xo(t)?t:wi(t,e)?[t]:Li(Sa(t))}var wr=Ks;function kr(t,e,n){var r=t.length;return n=n===s?r:n,!e&&n>=r?t:ir(t,e,n)}var Sr=de||function(t){return he.clearTimeout(t)};function Tr(t,e){if(e)return t.slice();var n=t.length,s=Gt?Gt(n):new t.constructor(n);return t.copy(s),s}function Cr(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Ar(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Er(t,e){if(t!==e){var n=t!==s,r=null===t,i=t==t,o=pa(t),a=e!==s,l=null===e,u=e==e,c=pa(e);if(!l&&!c&&!o&&t>e||o&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||l&&n&&i||!a&&i||!u)return-1}return 0}function Or(t,e,n,s){for(var r=-1,i=t.length,o=n.length,a=-1,l=e.length,u=bn(i-o,0),c=ot(l+u),h=!s;++a<l;)c[a]=e[a];for(;++r<o;)(h||r<i)&&(c[n[r]]=t[r]);for(;u--;)c[a++]=t[r++];return c}function Dr(t,e,n,s){for(var r=-1,i=t.length,o=-1,a=n.length,l=-1,u=e.length,c=bn(i-a,0),h=ot(c+u),d=!s;++r<c;)h[r]=t[r];for(var f=r;++l<u;)h[f+l]=e[l];for(;++o<a;)(d||r<i)&&(h[f+n[o]]=t[r++]);return h}function Mr(t,e){var n=-1,s=t.length;for(e||(e=ot(s));++n<s;)e[n]=t[n];return e}function Rr(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],u=r?r(n[l],t[l],l,n,t):s;u===s&&(u=t[l]),i?as(n,l,u):ss(n,l,u)}return n}function Fr(t,e){return function(n,s){var r=Xo(n)?Se:is,i=e?e():{};return r(n,t,ci(s,2),i)}}function Ir(t){return Ks((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:s,a=i>2?n[2]:s;for(o=t.length>3&&"function"==typeof o?(i--,o):s,a&&xi(n[0],n[1],a)&&(o=i<3?s:o,i=1),e=At(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e}))}function Pr(t,e){return function(n,s){if(null==n)return n;if(!Ko(n))return t(n,s);for(var r=n.length,i=e?r:-1,o=At(n);(e?i--:++i<r)&&!1!==s(o[i],i,o););return n}}function Nr(t){return function(e,n,s){for(var r=-1,i=At(e),o=s(e),a=o.length;a--;){var l=o[t?a:++r];if(!1===n(i[l],l,i))break}return e}}function qr(t){return function(e){var n=rn(e=Sa(e))?dn(e):s,r=n?n[0]:e.charAt(0),i=n?kr(n,1).join(""):e.slice(1);return r[t]()+i}}function jr(t){return function(e){return Fe(sl(Ya(e).replace(Xt,"")),t,"")}}function Vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),s=t.apply(n,e);return oa(s)?s:n}}function zr(t){return function(e,n,r){var i=At(e);if(!Ko(e)){var o=ci(n,3);e=qa(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:s}}function Lr(t){return ri((function(e){var n=e.length,i=n,o=$n.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new Dt(r);if(o&&!l&&"wrapper"==li(a))var l=new $n([],!0)}for(i=l?i:n;++i<n;){var u=li(a=e[i]),c="wrapper"==u?ai(a):s;l=c&&ki(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[li(c[0])].apply(l,c[3]):1==a.length&&ki(a)?l[u]():l.thru(a)}return function(){var t=arguments,s=t[0];if(l&&1==t.length&&Xo(s))return l.plant(s).value();for(var r=0,i=n?e[r].apply(this,t):s;++r<n;)i=e[r].call(this,i);return i}}))}function Wr(t,e,n,r,i,o,a,l,u,h){var d=e&c,f=1&e,p=2&e,m=24&e,g=512&e,_=p?s:Vr(t);return function s(){for(var c=arguments.length,v=ot(c),y=c;y--;)v[y]=arguments[y];if(m)var b=ui(s),x=tn(v,b);if(r&&(v=Or(v,r,i,m)),o&&(v=Dr(v,o,a,m)),c-=x,m&&c<h){var w=ln(v,b);return Yr(t,e,Wr,s.placeholder,n,v,w,l,u,h-c)}var k=f?n:this,S=p?k[t]:t;return c=v.length,l?v=Di(v,l):g&&c>1&&v.reverse(),d&&u<c&&(v.length=u),this&&this!==he&&this instanceof s&&(S=_||Vr(S)),S.apply(k,v)}}function Br(t,e){return function(n,s){return function(t,e,n,s){return ws(t,(function(t,r,i){e(s,n(t),r,i)})),s}(n,t,e(s),{})}}function Ur(t,e){return function(n,r){var i;if(n===s&&r===s)return e;if(n!==s&&(i=n),r!==s){if(i===s)return r;"string"==typeof n||"string"==typeof r?(n=hr(n),r=hr(r)):(n=cr(n),r=cr(r)),i=t(n,r)}return i}}function $r(t){return ri((function(e){return e=Me(e,Ye(ci())),Ks((function(n){var s=this;return t(e,(function(t){return ke(t,s,n)}))}))}))}function Gr(t,e){var n=(e=e===s?" ":hr(e)).length;if(n<2)return n?Zs(e,t):e;var r=Zs(e,ge(t/hn(e)));return rn(e)?kr(dn(r),0,t).join(""):r.slice(0,t)}function Qr(t){return function(e,n,r){return r&&"number"!=typeof r&&xi(e,n,r)&&(n=r=s),e=ya(e),n===s?(n=e,e=0):n=ya(n),function(t,e,n,s){for(var r=-1,i=bn(ge((e-t)/(n||1)),0),o=ot(i);i--;)o[s?i:++r]=t,t+=n;return o}(e,n,r=r===s?e<n?1:-1:ya(r),t)}}function Hr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=wa(e),n=wa(n)),t(e,n)}}function Yr(t,e,n,r,i,o,a,c,h,d){var f=8&e;e|=f?l:u,4&(e&=~(f?u:l))||(e&=-4);var p=[t,e,i,f?o:s,f?a:s,f?s:o,f?s:a,c,h,d],m=n.apply(s,p);return ki(t)&&Ri(m,p),m.placeholder=r,Pi(m,t,e)}function Xr(t){var e=Ct[t];return function(t,n){if(t=wa(t),(n=null==n?0:xn(ba(n),292))&&_n(t)){var s=(Sa(t)+"e").split("e");return+((s=(Sa(e(s[0]+"e"+(+s[1]+n)))+"e").split("e"))[0]+"e"+(+s[1]-n))}return e(t)}}var Zr=On&&1/un(new On([,-0]))[1]==d?function(t){return new On(t)}:pl;function Kr(t){return function(e){var n=gi(e);return n==S?on(e):n==O?cn(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Jr(t,e,n,i,d,f,p,m){var g=2&e;if(!g&&"function"!=typeof t)throw new Dt(r);var _=i?i.length:0;if(_||(e&=-97,i=d=s),p=p===s?p:bn(ba(p),0),m=m===s?m:ba(m),_-=d?d.length:0,e&u){var v=i,y=d;i=d=s}var b=g?s:ai(t),x=[t,e,n,i,d,v,y,f,p,m];if(b&&function(t,e){var n=t[1],s=e[1],r=n|s,i=r<131,a=s==c&&8==n||s==c&&n==h&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&s&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?Or(u,l,e[4]):l,t[4]=u?ln(t[3],o):e[4]}(l=e[5])&&(u=t[5],t[5]=u?Dr(u,l,e[6]):l,t[6]=u?ln(t[5],o):e[6]);(l=e[7])&&(t[7]=l);s&c&&(t[8]=null==t[8]?e[8]:xn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(x,b),t=x[0],e=x[1],n=x[2],i=x[3],d=x[4],!(m=x[9]=x[9]===s?g?0:t.length:bn(x[9]-_,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||e==a?function(t,e,n){var r=Vr(t);return function i(){for(var o=arguments.length,a=ot(o),l=o,u=ui(i);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:ln(a,u);return(o-=c.length)<n?Yr(t,e,Wr,i.placeholder,s,a,c,s,s,n-o):ke(this&&this!==he&&this instanceof i?r:t,this,a)}}(t,e,m):e!=l&&33!=e||d.length?Wr.apply(s,x):function(t,e,n,s){var r=1&e,i=Vr(t);return function e(){for(var o=-1,a=arguments.length,l=-1,u=s.length,c=ot(u+a),h=this&&this!==he&&this instanceof e?i:t;++l<u;)c[l]=s[l];for(;a--;)c[l++]=arguments[++o];return ke(h,r?n:this,c)}}(t,e,n,i);else var w=function(t,e,n){var s=1&e,r=Vr(t);return function e(){return(this&&this!==he&&this instanceof e?r:t).apply(s?n:this,arguments)}}(t,e,n);return Pi((b?nr:Ri)(w,x),t,e)}function ti(t,e,n,r){return t===s||Go(t,Ft[n])&&!Nt.call(r,n)?e:t}function ei(t,e,n,r,i,o){return oa(t)&&oa(e)&&(o.set(e,t),Us(t,e,s,ei,o),o.delete(e)),t}function ni(t){return ca(t)?s:t}function si(t,e,n,r,i,o){var a=1&n,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=2&n?new Xn:s;for(o.set(t,e),o.set(e,t);++d<l;){var m=t[d],g=e[d];if(r)var _=a?r(g,m,d,e,t,o):r(m,g,d,t,e,o);if(_!==s){if(_)continue;f=!1;break}if(p){if(!Pe(e,(function(t,e){if(!Ze(p,e)&&(m===t||i(m,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(m!==g&&!i(m,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ri(t){return Ii(Ei(t,s,Xi),t+"")}function ii(t){return Cs(t,qa,pi)}function oi(t){return Cs(t,ja,mi)}var ai=Rn?function(t){return Rn.get(t)}:pl;function li(t){for(var e=t.name+"",n=Fn[e],s=Nt.call(Fn,e)?n.length:0;s--;){var r=n[s],i=r.func;if(null==i||i==t)return r.name}return e}function ui(t){return(Nt.call(Wn,"placeholder")?Wn:t).placeholder}function ci(){var t=Wn.iteratee||cl;return t=t===cl?qs:t,arguments.length?t(arguments[0],arguments[1]):t}function hi(t,e){var n,s,r=t.__data__;return("string"==(s=typeof(n=e))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function di(t){for(var e=qa(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,Ci(r)]}return e}function fi(t,e){var n=function(t,e){return null==t?s:t[e]}(t,e);return Ns(n)?n:s}var pi=Ue?function(t){return null==t?[]:(t=At(t),Ee(Ue(t),(function(e){return Yt.call(t,e)})))}:xl,mi=Ue?function(t){for(var e=[];t;)Re(e,pi(t)),t=Qt(t);return e}:xl,gi=As;function _i(t,e,n){for(var s=-1,r=(e=xr(e,t)).length,i=!1;++s<r;){var o=Wi(e[s]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++s!=r?i:!!(r=null==t?0:t.length)&&ia(r)&&bi(o,r)&&(Xo(t)||Yo(t))}function vi(t){return"function"!=typeof t.constructor||Ti(t)?{}:Bn(Qt(t))}function yi(t){return Xo(t)||Yo(t)||!!(te&&t&&t[te])}function bi(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function xi(t,e,n){if(!oa(n))return!1;var s=typeof e;return!!("number"==s?Ko(n)&&bi(e,n.length):"string"==s&&e in n)&&Go(n[e],t)}function wi(t,e){if(Xo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pa(t))||(et.test(t)||!tt.test(t)||null!=e&&t in At(e))}function ki(t){var e=li(t),n=Wn[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var s=ai(n);return!!s&&t===s[0]}(Cn&&gi(new Cn(new ArrayBuffer(1)))!=I||An&&gi(new An)!=S||En&&gi(En.resolve())!=A||On&&gi(new On)!=O||Dn&&gi(new Dn)!=R)&&(gi=function(t){var e=As(t),n=e==C?t.constructor:s,r=n?Bi(n):"";if(r)switch(r){case In:return I;case Pn:return S;case Nn:return A;case qn:return O;case jn:return R}return e});var Si=It?sa:wl;function Ti(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ft)}function Ci(t){return t==t&&!oa(t)}function Ai(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==s||t in At(n)))}}function Ei(t,e,n){return e=bn(e===s?t.length-1:e,0),function(){for(var s=arguments,r=-1,i=bn(s.length-e,0),o=ot(i);++r<i;)o[r]=s[e+r];r=-1;for(var a=ot(e+1);++r<e;)a[r]=s[r];return a[e]=n(o),ke(t,this,a)}}function Oi(t,e){return e.length<2?t:Ts(t,ir(e,0,-1))}function Di(t,e){for(var n=t.length,r=xn(e.length,n),i=Mr(t);r--;){var o=e[r];t[r]=bi(o,n)?i[o]:s}return t}function Mi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ri=Ni(nr),Fi=me||function(t,e){return he.setTimeout(t,e)},Ii=Ni(sr);function Pi(t,e,n){var s=e+"";return Ii(t,function(t,e){var n=e.length;if(!n)return t;var s=n-1;return e[s]=(n>1?"& ":"")+e[s],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(s,function(t,e){return Te(g,(function(n){var s="_."+n[0];e&n[1]&&!Oe(t,s)&&t.push(s)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ut):[]}(s),n)))}function Ni(t){var e=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(s,arguments)}}function qi(t,e){var n=-1,r=t.length,i=r-1;for(e=e===s?r:e;++n<e;){var o=Xs(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var ji,Vi,zi,Li=(ji=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,n,s,r){e.push(s?r.replace(dt,"$1"):n||t)})),e},Vi=zo(ji,(function(t){return 500===zi.size&&zi.clear(),t})),zi=Vi.cache,Vi);function Wi(t){if("string"==typeof t||pa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bi(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ui(t){if(t instanceof Gn)return t.clone();var e=new $n(t.__wrapped__,t.__chain__);return e.__actions__=Mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var $i=Ks((function(t,e){return Jo(t)?fs(t,ys(e,1,Jo,!0)):[]})),Gi=Ks((function(t,e){var n=eo(e);return Jo(n)&&(n=s),Jo(t)?fs(t,ys(e,1,Jo,!0),ci(n,2)):[]})),Qi=Ks((function(t,e){var n=eo(e);return Jo(n)&&(n=s),Jo(t)?fs(t,ys(e,1,Jo,!0),s,n):[]}));function Hi(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var r=null==n?0:ba(n);return r<0&&(r=bn(s+r,0)),je(t,ci(e,3),r)}function Yi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==s&&(i=ba(n),i=n<0?bn(r+i,0):xn(i,r-1)),je(t,ci(e,3),i,!0)}function Xi(t){return(null==t?0:t.length)?ys(t,1):[]}function Zi(t){return t&&t.length?t[0]:s}var Ki=Ks((function(t){var e=Me(t,yr);return e.length&&e[0]===t[0]?Ms(e):[]})),Ji=Ks((function(t){var e=eo(t),n=Me(t,yr);return e===eo(n)?e=s:n.pop(),n.length&&n[0]===t[0]?Ms(n,ci(e,2)):[]})),to=Ks((function(t){var e=eo(t),n=Me(t,yr);return(e="function"==typeof e?e:s)&&n.pop(),n.length&&n[0]===t[0]?Ms(n,s,e):[]}));function eo(t){var e=null==t?0:t.length;return e?t[e-1]:s}var no=Ks(so);function so(t,e){return t&&t.length&&e&&e.length?Hs(t,e):t}var ro=ri((function(t,e){var n=null==t?0:t.length,s=ls(t,e);return Ys(t,Me(e,(function(t){return bi(t,n)?+t:t})).sort(Er)),s}));function io(t){return null==t?t:Tn.call(t)}var oo=Ks((function(t){return dr(ys(t,1,Jo,!0))})),ao=Ks((function(t){var e=eo(t);return Jo(e)&&(e=s),dr(ys(t,1,Jo,!0),ci(e,2))})),lo=Ks((function(t){var e=eo(t);return e="function"==typeof e?e:s,dr(ys(t,1,Jo,!0),s,e)}));function uo(t){if(!t||!t.length)return[];var e=0;return t=Ee(t,(function(t){if(Jo(t))return e=bn(t.length,e),!0})),Qe(e,(function(e){return Me(t,Be(e))}))}function co(t,e){if(!t||!t.length)return[];var n=uo(t);return null==e?n:Me(n,(function(t){return ke(e,s,t)}))}var ho=Ks((function(t,e){return Jo(t)?fs(t,e):[]})),fo=Ks((function(t){return _r(Ee(t,Jo))})),po=Ks((function(t){var e=eo(t);return Jo(e)&&(e=s),_r(Ee(t,Jo),ci(e,2))})),mo=Ks((function(t){var e=eo(t);return e="function"==typeof e?e:s,_r(Ee(t,Jo),s,e)})),go=Ks(uo);var _o=Ks((function(t){var e=t.length,n=e>1?t[e-1]:s;return n="function"==typeof n?(t.pop(),n):s,co(t,n)}));function vo(t){var e=Wn(t);return e.__chain__=!0,e}function yo(t,e){return e(t)}var bo=ri((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ls(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Gn&&bi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:yo,args:[i],thisArg:s}),new $n(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(i)}));var xo=Fr((function(t,e,n){Nt.call(t,n)?++t[n]:as(t,n,1)}));var wo=zr(Hi),ko=zr(Yi);function So(t,e){return(Xo(t)?Te:ps)(t,ci(e,3))}function To(t,e){return(Xo(t)?Ce:ms)(t,ci(e,3))}var Co=Fr((function(t,e,n){Nt.call(t,n)?t[n].push(e):as(t,n,[e])}));var Ao=Ks((function(t,e,n){var s=-1,r="function"==typeof e,i=Ko(t)?ot(t.length):[];return ps(t,(function(t){i[++s]=r?ke(e,t,n):Rs(t,e,n)})),i})),Eo=Fr((function(t,e,n){as(t,n,e)}));function Oo(t,e){return(Xo(t)?Me:Ls)(t,ci(e,3))}var Do=Fr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Mo=Ks((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xi(t,e[0],e[1])?e=[]:n>2&&xi(e[0],e[1],e[2])&&(e=[e[0]]),Gs(t,ys(e,1),[])})),Ro=fe||function(){return he.Date.now()};function Fo(t,e,n){return e=n?s:e,e=t&&null==e?t.length:e,Jr(t,c,s,s,s,s,e)}function Io(t,e){var n;if("function"!=typeof e)throw new Dt(r);return t=ba(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=s),n}}var Po=Ks((function(t,e,n){var s=1;if(n.length){var r=ln(n,ui(Po));s|=l}return Jr(t,s,e,n,r)})),No=Ks((function(t,e,n){var s=3;if(n.length){var r=ln(n,ui(No));s|=l}return Jr(e,s,t,n,r)}));function qo(t,e,n){var i,o,a,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Dt(r);function m(e){var n=i,r=o;return i=o=s,h=e,l=t.apply(r,n)}function g(t){return h=t,u=Fi(v,e),d?m(t):l}function _(t){var n=t-c;return c===s||n>=e||n<0||f&&t-h>=a}function v(){var t=Ro();if(_(t))return y(t);u=Fi(v,function(t){var n=e-(t-c);return f?xn(n,a-(t-h)):n}(t))}function y(t){return u=s,p&&i?m(t):(i=o=s,l)}function b(){var t=Ro(),n=_(t);if(i=arguments,o=this,c=t,n){if(u===s)return g(c);if(f)return Sr(u),u=Fi(v,e),m(c)}return u===s&&(u=Fi(v,e)),l}return e=wa(e)||0,oa(n)&&(d=!!n.leading,a=(f="maxWait"in n)?bn(wa(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==s&&Sr(u),h=0,i=c=o=u=s},b.flush=function(){return u===s?l:y(Ro())},b}var jo=Ks((function(t,e){return ds(t,1,e)})),Vo=Ks((function(t,e,n){return ds(t,wa(e)||0,n)}));function zo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(r);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],i=n.cache;if(i.has(r))return i.get(r);var o=t.apply(this,s);return n.cache=i.set(r,o)||i,o};return n.cache=new(zo.Cache||Yn),n}function Lo(t){if("function"!=typeof t)throw new Dt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}zo.Cache=Yn;var Wo=wr((function(t,e){var n=(e=1==e.length&&Xo(e[0])?Me(e[0],Ye(ci())):Me(ys(e,1),Ye(ci()))).length;return Ks((function(s){for(var r=-1,i=xn(s.length,n);++r<i;)s[r]=e[r].call(this,s[r]);return ke(t,this,s)}))})),Bo=Ks((function(t,e){var n=ln(e,ui(Bo));return Jr(t,l,s,e,n)})),Uo=Ks((function(t,e){var n=ln(e,ui(Uo));return Jr(t,u,s,e,n)})),$o=ri((function(t,e){return Jr(t,h,s,s,s,e)}));function Go(t,e){return t===e||t!=t&&e!=e}var Qo=Hr(Es),Ho=Hr((function(t,e){return t>=e})),Yo=Fs(function(){return arguments}())?Fs:function(t){return aa(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Xo=ot.isArray,Zo=_e?Ye(_e):function(t){return aa(t)&&As(t)==F};function Ko(t){return null!=t&&ia(t.length)&&!sa(t)}function Jo(t){return aa(t)&&Ko(t)}var ta=gn||wl,ea=ve?Ye(ve):function(t){return aa(t)&&As(t)==b};function na(t){if(!aa(t))return!1;var e=As(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ca(t)}function sa(t){if(!oa(t))return!1;var e=As(t);return e==w||e==k||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ra(t){return"number"==typeof t&&t==ba(t)}function ia(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function oa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function aa(t){return null!=t&&"object"==typeof t}var la=ye?Ye(ye):function(t){return aa(t)&&gi(t)==S};function ua(t){return"number"==typeof t||aa(t)&&As(t)==T}function ca(t){if(!aa(t)||As(t)!=C)return!1;var e=Qt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==zt}var ha=be?Ye(be):function(t){return aa(t)&&As(t)==E};var da=xe?Ye(xe):function(t){return aa(t)&&gi(t)==O};function fa(t){return"string"==typeof t||!Xo(t)&&aa(t)&&As(t)==D}function pa(t){return"symbol"==typeof t||aa(t)&&As(t)==M}var ma=we?Ye(we):function(t){return aa(t)&&ia(t.length)&&!!re[As(t)]};var ga=Hr(zs),_a=Hr((function(t,e){return t<=e}));function va(t){if(!t)return[];if(Ko(t))return fa(t)?dn(t):Mr(t);if(oe&&t[oe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[oe]());var e=gi(t);return(e==S?on:e==O?un:Ga)(t)}function ya(t){return t?(t=wa(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ba(t){var e=ya(t),n=e%1;return e==e?n?e-n:e:0}function xa(t){return t?us(ba(t),0,m):0}function wa(t){if("number"==typeof t)return t;if(pa(t))return p;if(oa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=oa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var n=gt.test(t);return n||vt.test(t)?le(t.slice(2),n?2:8):mt.test(t)?p:+t}function ka(t){return Rr(t,ja(t))}function Sa(t){return null==t?"":hr(t)}var Ta=Ir((function(t,e){if(Ti(e)||Ko(e))Rr(e,qa(e),t);else for(var n in e)Nt.call(e,n)&&ss(t,n,e[n])})),Ca=Ir((function(t,e){Rr(e,ja(e),t)})),Aa=Ir((function(t,e,n,s){Rr(e,ja(e),t,s)})),Ea=Ir((function(t,e,n,s){Rr(e,qa(e),t,s)})),Oa=ri(ls);var Da=Ks((function(t,e){t=At(t);var n=-1,r=e.length,i=r>2?e[2]:s;for(i&&xi(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ja(o),l=-1,u=a.length;++l<u;){var c=a[l],h=t[c];(h===s||Go(h,Ft[c])&&!Nt.call(t,c))&&(t[c]=o[c])}return t})),Ma=Ks((function(t){return t.push(s,ei),ke(za,s,t)}));function Ra(t,e,n){var r=null==t?s:Ts(t,e);return r===s?n:r}function Fa(t,e){return null!=t&&_i(t,e,Ds)}var Ia=Br((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Vt.call(e)),t[e]=n}),ol(ul)),Pa=Br((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Vt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),ci),Na=Ks(Rs);function qa(t){return Ko(t)?Kn(t):js(t)}function ja(t){return Ko(t)?Kn(t,!0):Vs(t)}var Va=Ir((function(t,e,n){Us(t,e,n)})),za=Ir((function(t,e,n,s){Us(t,e,n,s)})),La=ri((function(t,e){var n={};if(null==t)return n;var s=!1;e=Me(e,(function(e){return e=xr(e,t),s||(s=e.length>1),e})),Rr(t,oi(t),n),s&&(n=cs(n,7,ni));for(var r=e.length;r--;)fr(n,e[r]);return n}));var Wa=ri((function(t,e){return null==t?{}:function(t,e){return Qs(t,e,(function(e,n){return Fa(t,n)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var n=Me(oi(t),(function(t){return[t]}));return e=ci(e),Qs(t,n,(function(t,n){return e(t,n[0])}))}var Ua=Kr(qa),$a=Kr(ja);function Ga(t){return null==t?[]:Xe(t,qa(t))}var Qa=jr((function(t,e,n){return e=e.toLowerCase(),t+(n?Ha(e):e)}));function Ha(t){return nl(Sa(t).toLowerCase())}function Ya(t){return(t=Sa(t))&&t.replace(bt,en).replace(Zt,"")}var Xa=jr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Za=jr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=qr("toLowerCase");var Ja=jr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var tl=jr((function(t,e,n){return t+(n?" ":"")+nl(e)}));var el=jr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),nl=qr("toUpperCase");function sl(t,e,n){return t=Sa(t),(e=n?s:e)===s?function(t){return ee.test(t)}(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var rl=Ks((function(t,e){try{return ke(t,s,e)}catch(t){return na(t)?t:new St(t)}})),il=ri((function(t,e){return Te(e,(function(e){e=Wi(e),as(t,e,Po(t[e],t))})),t}));function ol(t){return function(){return t}}var al=Lr(),ll=Lr(!0);function ul(t){return t}function cl(t){return qs("function"==typeof t?t:cs(t,1))}var hl=Ks((function(t,e){return function(n){return Rs(n,t,e)}})),dl=Ks((function(t,e){return function(n){return Rs(t,n,e)}}));function fl(t,e,n){var s=qa(e),r=Ss(e,s);null!=n||oa(e)&&(r.length||!s.length)||(n=e,e=t,t=this,r=Ss(e,qa(e)));var i=!(oa(n)&&"chain"in n&&!n.chain),o=sa(t);return Te(r,(function(n){var s=e[n];t[n]=s,o&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),r=n.__actions__=Mr(this.__actions__);return r.push({func:s,args:arguments,thisArg:t}),n.__chain__=e,n}return s.apply(t,Re([this.value()],arguments))})})),t}function pl(){}var ml=$r(Me),gl=$r(Ae),_l=$r(Pe);function vl(t){return wi(t)?Be(Wi(t)):function(t){return function(e){return Ts(e,t)}}(t)}var yl=Qr(),bl=Qr(!0);function xl(){return[]}function wl(){return!1}var kl=Ur((function(t,e){return t+e}),0),Sl=Xr("ceil"),Tl=Ur((function(t,e){return t/e}),1),Cl=Xr("floor");var Al,El=Ur((function(t,e){return t*e}),1),Ol=Xr("round"),Dl=Ur((function(t,e){return t-e}),0);return Wn.after=function(t,e){if("function"!=typeof e)throw new Dt(r);return t=ba(t),function(){if(--t<1)return e.apply(this,arguments)}},Wn.ary=Fo,Wn.assign=Ta,Wn.assignIn=Ca,Wn.assignInWith=Aa,Wn.assignWith=Ea,Wn.at=Oa,Wn.before=Io,Wn.bind=Po,Wn.bindAll=il,Wn.bindKey=No,Wn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Xo(t)?t:[t]},Wn.chain=vo,Wn.chunk=function(t,e,n){e=(n?xi(t,e,n):e===s)?1:bn(ba(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=ot(ge(r/e));i<r;)a[o++]=ir(t,i,i+=e);return a},Wn.compact=function(t){for(var e=-1,n=null==t?0:t.length,s=0,r=[];++e<n;){var i=t[e];i&&(r[s++]=i)}return r},Wn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=ot(t-1),n=arguments[0],s=t;s--;)e[s-1]=arguments[s];return Re(Xo(n)?Mr(n):[n],ys(e,1))},Wn.cond=function(t){var e=null==t?0:t.length,n=ci();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new Dt(r);return[n(t[0]),t[1]]})):[],Ks((function(n){for(var s=-1;++s<e;){var r=t[s];if(ke(r[0],this,n))return ke(r[1],this,n)}}))},Wn.conforms=function(t){return function(t){var e=qa(t);return function(n){return hs(n,t,e)}}(cs(t,1))},Wn.constant=ol,Wn.countBy=xo,Wn.create=function(t,e){var n=Bn(t);return null==e?n:os(n,e)},Wn.curry=function t(e,n,r){var i=Jr(e,8,s,s,s,s,s,n=r?s:n);return i.placeholder=t.placeholder,i},Wn.curryRight=function t(e,n,r){var i=Jr(e,a,s,s,s,s,s,n=r?s:n);return i.placeholder=t.placeholder,i},Wn.debounce=qo,Wn.defaults=Da,Wn.defaultsDeep=Ma,Wn.defer=jo,Wn.delay=Vo,Wn.difference=$i,Wn.differenceBy=Gi,Wn.differenceWith=Qi,Wn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ir(t,(e=n||e===s?1:ba(e))<0?0:e,r):[]},Wn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ir(t,0,(e=r-(e=n||e===s?1:ba(e)))<0?0:e):[]},Wn.dropRightWhile=function(t,e){return t&&t.length?mr(t,ci(e,3),!0,!0):[]},Wn.dropWhile=function(t,e){return t&&t.length?mr(t,ci(e,3),!0):[]},Wn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&xi(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ba(n))<0&&(n=-n>i?0:i+n),(r=r===s||r>i?i:ba(r))<0&&(r+=i),r=n>r?0:xa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Wn.filter=function(t,e){return(Xo(t)?Ee:vs)(t,ci(e,3))},Wn.flatMap=function(t,e){return ys(Oo(t,e),1)},Wn.flatMapDeep=function(t,e){return ys(Oo(t,e),d)},Wn.flatMapDepth=function(t,e,n){return n=n===s?1:ba(n),ys(Oo(t,e),n)},Wn.flatten=Xi,Wn.flattenDeep=function(t){return(null==t?0:t.length)?ys(t,d):[]},Wn.flattenDepth=function(t,e){return(null==t?0:t.length)?ys(t,e=e===s?1:ba(e)):[]},Wn.flip=function(t){return Jr(t,512)},Wn.flow=al,Wn.flowRight=ll,Wn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,s={};++e<n;){var r=t[e];s[r[0]]=r[1]}return s},Wn.functions=function(t){return null==t?[]:Ss(t,qa(t))},Wn.functionsIn=function(t){return null==t?[]:Ss(t,ja(t))},Wn.groupBy=Co,Wn.initial=function(t){return(null==t?0:t.length)?ir(t,0,-1):[]},Wn.intersection=Ki,Wn.intersectionBy=Ji,Wn.intersectionWith=to,Wn.invert=Ia,Wn.invertBy=Pa,Wn.invokeMap=Ao,Wn.iteratee=cl,Wn.keyBy=Eo,Wn.keys=qa,Wn.keysIn=ja,Wn.map=Oo,Wn.mapKeys=function(t,e){var n={};return e=ci(e,3),ws(t,(function(t,s,r){as(n,e(t,s,r),t)})),n},Wn.mapValues=function(t,e){var n={};return e=ci(e,3),ws(t,(function(t,s,r){as(n,s,e(t,s,r))})),n},Wn.matches=function(t){return Ws(cs(t,1))},Wn.matchesProperty=function(t,e){return Bs(t,cs(e,1))},Wn.memoize=zo,Wn.merge=Va,Wn.mergeWith=za,Wn.method=hl,Wn.methodOf=dl,Wn.mixin=fl,Wn.negate=Lo,Wn.nthArg=function(t){return t=ba(t),Ks((function(e){return $s(e,t)}))},Wn.omit=La,Wn.omitBy=function(t,e){return Ba(t,Lo(ci(e)))},Wn.once=function(t){return Io(2,t)},Wn.orderBy=function(t,e,n,r){return null==t?[]:(Xo(e)||(e=null==e?[]:[e]),Xo(n=r?s:n)||(n=null==n?[]:[n]),Gs(t,e,n))},Wn.over=ml,Wn.overArgs=Wo,Wn.overEvery=gl,Wn.overSome=_l,Wn.partial=Bo,Wn.partialRight=Uo,Wn.partition=Do,Wn.pick=Wa,Wn.pickBy=Ba,Wn.property=vl,Wn.propertyOf=function(t){return function(e){return null==t?s:Ts(t,e)}},Wn.pull=no,Wn.pullAll=so,Wn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hs(t,e,ci(n,2)):t},Wn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hs(t,e,s,n):t},Wn.pullAt=ro,Wn.range=yl,Wn.rangeRight=bl,Wn.rearg=$o,Wn.reject=function(t,e){return(Xo(t)?Ee:vs)(t,Lo(ci(e,3)))},Wn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var s=-1,r=[],i=t.length;for(e=ci(e,3);++s<i;){var o=t[s];e(o,s,t)&&(n.push(o),r.push(s))}return Ys(t,r),n},Wn.rest=function(t,e){if("function"!=typeof t)throw new Dt(r);return Ks(t,e=e===s?e:ba(e))},Wn.reverse=io,Wn.sampleSize=function(t,e,n){return e=(n?xi(t,e,n):e===s)?1:ba(e),(Xo(t)?ts:tr)(t,e)},Wn.set=function(t,e,n){return null==t?t:er(t,e,n)},Wn.setWith=function(t,e,n,r){return r="function"==typeof r?r:s,null==t?t:er(t,e,n,r)},Wn.shuffle=function(t){return(Xo(t)?es:rr)(t)},Wn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xi(t,e,n)?(e=0,n=r):(e=null==e?0:ba(e),n=n===s?r:ba(n)),ir(t,e,n)):[]},Wn.sortBy=Mo,Wn.sortedUniq=function(t){return t&&t.length?ur(t):[]},Wn.sortedUniqBy=function(t,e){return t&&t.length?ur(t,ci(e,2)):[]},Wn.split=function(t,e,n){return n&&"number"!=typeof n&&xi(t,e,n)&&(e=n=s),(n=n===s?m:n>>>0)?(t=Sa(t))&&("string"==typeof e||null!=e&&!ha(e))&&!(e=hr(e))&&rn(t)?kr(dn(t),0,n):t.split(e,n):[]},Wn.spread=function(t,e){if("function"!=typeof t)throw new Dt(r);return e=null==e?0:bn(ba(e),0),Ks((function(n){var s=n[e],r=kr(n,0,e);return s&&Re(r,s),ke(t,this,r)}))},Wn.tail=function(t){var e=null==t?0:t.length;return e?ir(t,1,e):[]},Wn.take=function(t,e,n){return t&&t.length?ir(t,0,(e=n||e===s?1:ba(e))<0?0:e):[]},Wn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ir(t,(e=r-(e=n||e===s?1:ba(e)))<0?0:e,r):[]},Wn.takeRightWhile=function(t,e){return t&&t.length?mr(t,ci(e,3),!1,!0):[]},Wn.takeWhile=function(t,e){return t&&t.length?mr(t,ci(e,3)):[]},Wn.tap=function(t,e){return e(t),t},Wn.throttle=function(t,e,n){var s=!0,i=!0;if("function"!=typeof t)throw new Dt(r);return oa(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),qo(t,e,{leading:s,maxWait:e,trailing:i})},Wn.thru=yo,Wn.toArray=va,Wn.toPairs=Ua,Wn.toPairsIn=$a,Wn.toPath=function(t){return Xo(t)?Me(t,Wi):pa(t)?[t]:Mr(Li(Sa(t)))},Wn.toPlainObject=ka,Wn.transform=function(t,e,n){var s=Xo(t),r=s||ta(t)||ma(t);if(e=ci(e,4),null==n){var i=t&&t.constructor;n=r?s?new i:[]:oa(t)&&sa(i)?Bn(Qt(t)):{}}return(r?Te:ws)(t,(function(t,s,r){return e(n,t,s,r)})),n},Wn.unary=function(t){return Fo(t,1)},Wn.union=oo,Wn.unionBy=ao,Wn.unionWith=lo,Wn.uniq=function(t){return t&&t.length?dr(t):[]},Wn.uniqBy=function(t,e){return t&&t.length?dr(t,ci(e,2)):[]},Wn.uniqWith=function(t,e){return e="function"==typeof e?e:s,t&&t.length?dr(t,s,e):[]},Wn.unset=function(t,e){return null==t||fr(t,e)},Wn.unzip=uo,Wn.unzipWith=co,Wn.update=function(t,e,n){return null==t?t:pr(t,e,br(n))},Wn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:s,null==t?t:pr(t,e,br(n),r)},Wn.values=Ga,Wn.valuesIn=function(t){return null==t?[]:Xe(t,ja(t))},Wn.without=ho,Wn.words=sl,Wn.wrap=function(t,e){return Bo(br(e),t)},Wn.xor=fo,Wn.xorBy=po,Wn.xorWith=mo,Wn.zip=go,Wn.zipObject=function(t,e){return vr(t||[],e||[],ss)},Wn.zipObjectDeep=function(t,e){return vr(t||[],e||[],er)},Wn.zipWith=_o,Wn.entries=Ua,Wn.entriesIn=$a,Wn.extend=Ca,Wn.extendWith=Aa,fl(Wn,Wn),Wn.add=kl,Wn.attempt=rl,Wn.camelCase=Qa,Wn.capitalize=Ha,Wn.ceil=Sl,Wn.clamp=function(t,e,n){return n===s&&(n=e,e=s),n!==s&&(n=(n=wa(n))==n?n:0),e!==s&&(e=(e=wa(e))==e?e:0),us(wa(t),e,n)},Wn.clone=function(t){return cs(t,4)},Wn.cloneDeep=function(t){return cs(t,5)},Wn.cloneDeepWith=function(t,e){return cs(t,5,e="function"==typeof e?e:s)},Wn.cloneWith=function(t,e){return cs(t,4,e="function"==typeof e?e:s)},Wn.conformsTo=function(t,e){return null==e||hs(t,e,qa(e))},Wn.deburr=Ya,Wn.defaultTo=function(t,e){return null==t||t!=t?e:t},Wn.divide=Tl,Wn.endsWith=function(t,e,n){t=Sa(t),e=hr(e);var r=t.length,i=n=n===s?r:us(ba(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Wn.eq=Go,Wn.escape=function(t){return(t=Sa(t))&&X.test(t)?t.replace(H,nn):t},Wn.escapeRegExp=function(t){return(t=Sa(t))&&rt.test(t)?t.replace(st,"\\$&"):t},Wn.every=function(t,e,n){var r=Xo(t)?Ae:gs;return n&&xi(t,e,n)&&(e=s),r(t,ci(e,3))},Wn.find=wo,Wn.findIndex=Hi,Wn.findKey=function(t,e){return qe(t,ci(e,3),ws)},Wn.findLast=ko,Wn.findLastIndex=Yi,Wn.findLastKey=function(t,e){return qe(t,ci(e,3),ks)},Wn.floor=Cl,Wn.forEach=So,Wn.forEachRight=To,Wn.forIn=function(t,e){return null==t?t:bs(t,ci(e,3),ja)},Wn.forInRight=function(t,e){return null==t?t:xs(t,ci(e,3),ja)},Wn.forOwn=function(t,e){return t&&ws(t,ci(e,3))},Wn.forOwnRight=function(t,e){return t&&ks(t,ci(e,3))},Wn.get=Ra,Wn.gt=Qo,Wn.gte=Ho,Wn.has=function(t,e){return null!=t&&_i(t,e,Os)},Wn.hasIn=Fa,Wn.head=Zi,Wn.identity=ul,Wn.includes=function(t,e,n,s){t=Ko(t)?t:Ga(t),n=n&&!s?ba(n):0;var r=t.length;return n<0&&(n=bn(r+n,0)),fa(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ve(t,e,n)>-1},Wn.indexOf=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var r=null==n?0:ba(n);return r<0&&(r=bn(s+r,0)),Ve(t,e,r)},Wn.inRange=function(t,e,n){return e=ya(e),n===s?(n=e,e=0):n=ya(n),function(t,e,n){return t>=xn(e,n)&&t<bn(e,n)}(t=wa(t),e,n)},Wn.invoke=Na,Wn.isArguments=Yo,Wn.isArray=Xo,Wn.isArrayBuffer=Zo,Wn.isArrayLike=Ko,Wn.isArrayLikeObject=Jo,Wn.isBoolean=function(t){return!0===t||!1===t||aa(t)&&As(t)==y},Wn.isBuffer=ta,Wn.isDate=ea,Wn.isElement=function(t){return aa(t)&&1===t.nodeType&&!ca(t)},Wn.isEmpty=function(t){if(null==t)return!0;if(Ko(t)&&(Xo(t)||"string"==typeof t||"function"==typeof t.splice||ta(t)||ma(t)||Yo(t)))return!t.length;var e=gi(t);if(e==S||e==O)return!t.size;if(Ti(t))return!js(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Wn.isEqual=function(t,e){return Is(t,e)},Wn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:s)?n(t,e):s;return r===s?Is(t,e,s,n):!!r},Wn.isError=na,Wn.isFinite=function(t){return"number"==typeof t&&_n(t)},Wn.isFunction=sa,Wn.isInteger=ra,Wn.isLength=ia,Wn.isMap=la,Wn.isMatch=function(t,e){return t===e||Ps(t,e,di(e))},Wn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:s,Ps(t,e,di(e),n)},Wn.isNaN=function(t){return ua(t)&&t!=+t},Wn.isNative=function(t){if(Si(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ns(t)},Wn.isNil=function(t){return null==t},Wn.isNull=function(t){return null===t},Wn.isNumber=ua,Wn.isObject=oa,Wn.isObjectLike=aa,Wn.isPlainObject=ca,Wn.isRegExp=ha,Wn.isSafeInteger=function(t){return ra(t)&&t>=-9007199254740991&&t<=f},Wn.isSet=da,Wn.isString=fa,Wn.isSymbol=pa,Wn.isTypedArray=ma,Wn.isUndefined=function(t){return t===s},Wn.isWeakMap=function(t){return aa(t)&&gi(t)==R},Wn.isWeakSet=function(t){return aa(t)&&"[object WeakSet]"==As(t)},Wn.join=function(t,e){return null==t?"":vn.call(t,e)},Wn.kebabCase=Xa,Wn.last=eo,Wn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==s&&(i=(i=ba(n))<0?bn(r+i,0):xn(i,r-1)),e==e?function(t,e,n){for(var s=n+1;s--;)if(t[s]===e)return s;return s}(t,e,i):je(t,Le,i,!0)},Wn.lowerCase=Za,Wn.lowerFirst=Ka,Wn.lt=ga,Wn.lte=_a,Wn.max=function(t){return t&&t.length?_s(t,ul,Es):s},Wn.maxBy=function(t,e){return t&&t.length?_s(t,ci(e,2),Es):s},Wn.mean=function(t){return We(t,ul)},Wn.meanBy=function(t,e){return We(t,ci(e,2))},Wn.min=function(t){return t&&t.length?_s(t,ul,zs):s},Wn.minBy=function(t,e){return t&&t.length?_s(t,ci(e,2),zs):s},Wn.stubArray=xl,Wn.stubFalse=wl,Wn.stubObject=function(){return{}},Wn.stubString=function(){return""},Wn.stubTrue=function(){return!0},Wn.multiply=El,Wn.nth=function(t,e){return t&&t.length?$s(t,ba(e)):s},Wn.noConflict=function(){return he._===this&&(he._=Lt),this},Wn.noop=pl,Wn.now=Ro,Wn.pad=function(t,e,n){t=Sa(t);var s=(e=ba(e))?hn(t):0;if(!e||s>=e)return t;var r=(e-s)/2;return Gr(Ne(r),n)+t+Gr(ge(r),n)},Wn.padEnd=function(t,e,n){t=Sa(t);var s=(e=ba(e))?hn(t):0;return e&&s<e?t+Gr(e-s,n):t},Wn.padStart=function(t,e,n){t=Sa(t);var s=(e=ba(e))?hn(t):0;return e&&s<e?Gr(e-s,n)+t:t},Wn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),kn(Sa(t).replace(it,""),e||0)},Wn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xi(t,e,n)&&(e=n=s),n===s&&("boolean"==typeof e?(n=e,e=s):"boolean"==typeof t&&(n=t,t=s)),t===s&&e===s?(t=0,e=1):(t=ya(t),e===s?(e=t,t=0):e=ya(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sn();return xn(t+i*(e-t+ae("1e-"+((i+"").length-1))),e)}return Xs(t,e)},Wn.reduce=function(t,e,n){var s=Xo(t)?Fe:$e,r=arguments.length<3;return s(t,ci(e,4),n,r,ps)},Wn.reduceRight=function(t,e,n){var s=Xo(t)?Ie:$e,r=arguments.length<3;return s(t,ci(e,4),n,r,ms)},Wn.repeat=function(t,e,n){return e=(n?xi(t,e,n):e===s)?1:ba(e),Zs(Sa(t),e)},Wn.replace=function(){var t=arguments,e=Sa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Wn.result=function(t,e,n){var r=-1,i=(e=xr(e,t)).length;for(i||(i=1,t=s);++r<i;){var o=null==t?s:t[Wi(e[r])];o===s&&(r=i,o=n),t=sa(o)?o.call(t):o}return t},Wn.round=Ol,Wn.runInContext=t,Wn.sample=function(t){return(Xo(t)?Jn:Js)(t)},Wn.size=function(t){if(null==t)return 0;if(Ko(t))return fa(t)?hn(t):t.length;var e=gi(t);return e==S||e==O?t.size:js(t).length},Wn.snakeCase=Ja,Wn.some=function(t,e,n){var r=Xo(t)?Pe:or;return n&&xi(t,e,n)&&(e=s),r(t,ci(e,3))},Wn.sortedIndex=function(t,e){return ar(t,e)},Wn.sortedIndexBy=function(t,e,n){return lr(t,e,ci(n,2))},Wn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var s=ar(t,e);if(s<n&&Go(t[s],e))return s}return-1},Wn.sortedLastIndex=function(t,e){return ar(t,e,!0)},Wn.sortedLastIndexBy=function(t,e,n){return lr(t,e,ci(n,2),!0)},Wn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(Go(t[n],e))return n}return-1},Wn.startCase=tl,Wn.startsWith=function(t,e,n){return t=Sa(t),n=null==n?0:us(ba(n),0,t.length),e=hr(e),t.slice(n,n+e.length)==e},Wn.subtract=Dl,Wn.sum=function(t){return t&&t.length?Ge(t,ul):0},Wn.sumBy=function(t,e){return t&&t.length?Ge(t,ci(e,2)):0},Wn.template=function(t,e,n){var r=Wn.templateSettings;n&&xi(t,e,n)&&(e=s),t=Sa(t),e=Aa({},e,r,ti);var i,o,a=Aa({},e.imports,r.imports,ti),l=qa(a),u=Xe(a,l),c=0,h=e.interpolate||xt,d="__p += '",f=Et((e.escape||xt).source+"|"+h.source+"|"+(h===J?ft:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(f,(function(e,n,s,r,a,l){return s||(s=r),d+=t.slice(c,l).replace(wt,sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),s&&(d+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var m=Nt.call(e,"variable")&&e.variable;if(m){if(ht.test(m))throw new St("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(U,""):d).replace($,"$1").replace(G,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=rl((function(){return Tt(l,p+"return "+d).apply(s,u)}));if(g.source=d,na(g))throw g;return g},Wn.times=function(t,e){if((t=ba(t))<1||t>f)return[];var n=m,s=xn(t,m);e=ci(e),t-=m;for(var r=Qe(s,e);++n<t;)e(n);return r},Wn.toFinite=ya,Wn.toInteger=ba,Wn.toLength=xa,Wn.toLower=function(t){return Sa(t).toLowerCase()},Wn.toNumber=wa,Wn.toSafeInteger=function(t){return t?us(ba(t),-9007199254740991,f):0===t?t:0},Wn.toString=Sa,Wn.toUpper=function(t){return Sa(t).toUpperCase()},Wn.trim=function(t,e,n){if((t=Sa(t))&&(n||e===s))return He(t);if(!t||!(e=hr(e)))return t;var r=dn(t),i=dn(e);return kr(r,Ke(r,i),Je(r,i)+1).join("")},Wn.trimEnd=function(t,e,n){if((t=Sa(t))&&(n||e===s))return t.slice(0,fn(t)+1);if(!t||!(e=hr(e)))return t;var r=dn(t);return kr(r,0,Je(r,dn(e))+1).join("")},Wn.trimStart=function(t,e,n){if((t=Sa(t))&&(n||e===s))return t.replace(it,"");if(!t||!(e=hr(e)))return t;var r=dn(t);return kr(r,Ke(r,dn(e))).join("")},Wn.truncate=function(t,e){var n=30,r="...";if(oa(e)){var i="separator"in e?e.separator:i;n="length"in e?ba(e.length):n,r="omission"in e?hr(e.omission):r}var o=(t=Sa(t)).length;if(rn(t)){var a=dn(t);o=a.length}if(n>=o)return t;var l=n-hn(r);if(l<1)return r;var u=a?kr(a,0,l).join(""):t.slice(0,l);if(i===s)return u+r;if(a&&(l+=u.length-l),ha(i)){if(t.slice(l).search(i)){var c,h=u;for(i.global||(i=Et(i.source,Sa(pt.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var d=c.index;u=u.slice(0,d===s?l:d)}}else if(t.indexOf(hr(i),l)!=l){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},Wn.unescape=function(t){return(t=Sa(t))&&Y.test(t)?t.replace(Q,pn):t},Wn.uniqueId=function(t){var e=++qt;return Sa(t)+e},Wn.upperCase=el,Wn.upperFirst=nl,Wn.each=So,Wn.eachRight=To,Wn.first=Zi,fl(Wn,(Al={},ws(Wn,(function(t,e){Nt.call(Wn.prototype,e)||(Al[e]=t)})),Al),{chain:!1}),Wn.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Wn[t].placeholder=Wn})),Te(["drop","take"],(function(t,e){Gn.prototype[t]=function(n){n=n===s?1:bn(ba(n),0);var r=this.__filtered__&&!e?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,s=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ci(t,3),type:n}),e.__filtered__=e.__filtered__||s,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ul)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Ks((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Rs(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(Lo(ci(t)))},Gn.prototype.slice=function(t,e){t=ba(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Gn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==s&&(n=(e=ba(e))<0?n.dropRight(-e):n.take(e-t)),n)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(m)},ws(Gn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Wn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Wn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Gn,u=a[0],c=l||Xo(e),h=function(t){var e=i.apply(Wn,Re([t],a));return r&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=l&&!f;if(!o&&c){e=m?e:new Gn(this);var g=t.apply(e,a);return g.__actions__.push({func:yo,args:[h],thisArg:s}),new $n(g,d)}return p&&m?t.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);Wn.prototype[t]=function(){var t=arguments;if(s&&!this.__chain__){var r=this.value();return e.apply(Xo(r)?r:[],t)}return this[n]((function(n){return e.apply(Xo(n)?n:[],t)}))}})),ws(Gn.prototype,(function(t,e){var n=Wn[e];if(n){var s=n.name+"";Nt.call(Fn,s)||(Fn[s]=[]),Fn[s].push({name:e,func:n})}})),Fn[Wr(s,2).name]=[{name:"wrapper",func:s}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mr(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Xo(t),s=e<0,r=n?t.length:0,i=function(t,e,n){var s=-1,r=n.length;for(;++s<r;){var i=n[s],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=xn(e,t+o);break;case"takeRight":t=bn(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=i.start,a=i.end,l=a-o,u=s?a:o-1,c=this.__iteratees__,h=c.length,d=0,f=xn(l,this.__takeCount__);if(!n||!s&&r==l&&f==l)return gr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var m=-1,g=t[u+=e];++m<h;){var _=c[m],v=_.iteratee,y=_.type,b=v(g);if(2==y)g=b;else if(!b){if(1==y)continue t;break t}}p[d++]=g}return p},Wn.prototype.at=bo,Wn.prototype.chain=function(){return vo(this)},Wn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Wn.prototype.next=function(){this.__values__===s&&(this.__values__=va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?s:this.__values__[this.__index__++]}},Wn.prototype.plant=function(t){for(var e,n=this;n instanceof Un;){var r=Ui(n);r.__index__=0,r.__values__=s,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Wn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:yo,args:[io],thisArg:s}),new $n(e,this.__chain__)}return this.thru(io)},Wn.prototype.toJSON=Wn.prototype.valueOf=Wn.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},Wn.prototype.first=Wn.prototype.head,oe&&(Wn.prototype[oe]=function(){return this}),Wn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(he._=mn,define((function(){return mn}))):fe?((fe.exports=mn)._=mn,de._=mn):he._=mn}).call(this)}));var o;o=i("cjuLU"),i("fYo6y");var a;!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),a=i("gAtBI");var l,u,c=i("7U5sq"),h=i("fYo6y");h=i("fYo6y");function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},d.apply(this,arguments)}(u=l||(l={})).Pop="POP",u.Push="PUSH",u.Replace="REPLACE";function f(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,s=n.history;function r(){var t=v(n.location.hash.substr(1)),e=t.pathname,r=void 0===e?"/":e,i=t.search,o=void 0===i?"":i,a=t.hash,l=void 0===a?"":a,u=s.state||{};return[u.idx,{pathname:r,search:o,hash:l,state:u.usr||null,key:u.key||"default"}]}var i=null;function o(){if(i)y.call(i),i=null;else{var t=l.Pop,e=r(),n=e[0],s=e[1];if(y.length){if(null!=n){var o=c-n;o&&(i={action:t,location:s,retry:function(){T(-1*o)}},T(o))}}else S(t)}}n.addEventListener("popstate",o),n.addEventListener("hashchange",(function(){_(r()[1])!==_(h)&&o()}));var a=l.Pop,u=r(),c=u[0],h=u[1],f=m(),y=m();function b(t){return function(){var t=document.querySelector("base"),e="";if(t&&t.getAttribute("href")){var s=n.location.href,r=s.indexOf("#");e=-1===r?s:s.slice(0,r)}return e}()+"#"+("string"==typeof t?t:_(t))}function x(t,e){return void 0===e&&(e=null),d({pathname:h.pathname,hash:"",search:""},"string"==typeof t?v(t):t,{state:e,key:g()})}function w(t,e){return[{usr:t.state,key:t.key,idx:e},b(t)]}function k(t,e,n){return!y.length||(y.call({action:t,location:e,retry:n}),!1)}function S(t){a=t;var e=r();c=e[0],h=e[1],f.call({action:a,location:h})}function T(t){s.go(t)}null==c&&(c=0,s.replaceState(d({},s.state,{idx:c}),""));var C={get action(){return a},get location(){return h},createHref:b,push:function t(e,r){var i=l.Push,o=x(e,r);if(k(i,o,(function(){t(e,r)}))){var a=w(o,c+1),u=a[0],h=a[1];try{s.pushState(u,"",h)}catch(t){n.location.assign(h)}S(i)}},replace:function t(e,n){var r=l.Replace,i=x(e,n);if(k(r,i,(function(){t(e,n)}))){var o=w(i,c),a=o[0],u=o[1];s.replaceState(a,"",u),S(r)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(t){return f.push(t)},block:function(t){var e=y.push(t);return 1===y.length&&n.addEventListener("beforeunload",p),function(){e(),y.length||n.removeEventListener("beforeunload",p)}}};return C}function p(t){t.preventDefault(),t.returnValue=""}function m(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function _(t){var e=t.pathname,n=void 0===e?"/":e,s=t.search,r=void 0===s?"":s,i=t.hash,o=void 0===i?"":i;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}const y=(0,(h=i("fYo6y")).createContext)(null),b=(0,h.createContext)(null),x=(0,h.createContext)({outlet:null,matches:[]});function w(t,e){if(!t)throw new Error(e)}function k(t,e,n){let s,r="string"==typeof t?v(t):t,i=""===t||""===r.pathname?"/":r.pathname;if(null==i)s=n;else{let t=e.length-1;if(i.startsWith("..")){let e=i.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let o=function(t,e){void 0===e&&(e="/");let{pathname:n,search:s="",hash:r=""}="string"==typeof t?v(t):t,i=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:i,search:A(s),hash:E(r)}}(r,s);return i&&"/"!==i&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function S(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}const T=t=>t.join("/").replace(/\/\/+/g,"/"),C=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",E=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function O(t){!D()&&w(!1);let{basename:e,navigator:n}=(0,h.useContext)(y),{hash:s,pathname:r,search:i}=F(t),o=r;if("/"!==e){let n=function(t){return""===t||""===t.pathname?"/":"string"==typeof t?v(t).pathname:t.pathname}(t),s=null!=n&&n.endsWith("/");o="/"===r?e+(s?"/":""):T([e,r])}return n.createHref({pathname:o,search:i,hash:s})}function D(){return null!=(0,h.useContext)(b)}function M(){return!D()&&w(!1),(0,h.useContext)(b).location}function R(){!D()&&w(!1);let{basename:t,navigator:e}=(0,h.useContext)(y),{matches:n}=(0,h.useContext)(x),{pathname:s}=M(),r=JSON.stringify(n.map((t=>t.pathnameBase))),i=(0,h.useRef)(!1);return(0,h.useEffect)((()=>{i.current=!0})),(0,h.useCallback)((function(n,o){if(void 0===o&&(o={}),!i.current)return;if("number"==typeof n)return void e.go(n);let a=k(n,JSON.parse(r),s);"/"!==t&&(a.pathname=T([t,a.pathname])),(o.replace?e.replace:e.push)(a,o.state)}),[t,e,r,s])}function F(t){let{matches:e}=(0,h.useContext)(x),{pathname:n}=M(),s=JSON.stringify(e.map((t=>t.pathnameBase)));return(0,h.useMemo)((()=>k(t,JSON.parse(s),n)),[t,s,n])}function I(t){let{basename:e="/",children:n=null,location:s,navigationType:r=l.Pop,navigator:i,static:o=!1}=t;D()&&w(!1);let a=C(e),u=(0,h.useMemo)((()=>({basename:a,navigator:i,static:o})),[a,i,o]);"string"==typeof s&&(s=v(s));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=s,g=(0,h.useMemo)((()=>{let t=S(c,a);return null==t?null:{pathname:t,search:d,hash:f,state:p,key:m}}),[a,c,d,f,p,m]);return null==g?null:(0,h.createElement)(y.Provider,{value:u},(0,h.createElement)(b.Provider,{children:n,value:{location:g,navigationType:r}}))}function P(){return P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},P.apply(this,arguments)}function N(t,e){if(null==t)return{};var n,s,r={},i=Object.keys(t);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)>=0||(r[n]=t[n]);return r}const q=["onClick","reloadDocument","replace","state","target","to"];function j(t){let{basename:e,children:n,window:s}=t,r=(0,h.useRef)();null==r.current&&(r.current=f({window:s}));let i=r.current,[o,a]=(0,h.useState)({action:i.action,location:i.location});return(0,h.useLayoutEffect)((()=>i.listen(a)),[i]),(0,h.createElement)(I,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const V=(0,h.forwardRef)((function(t,e){let{onClick:n,reloadDocument:s,replace:r=!1,state:i,target:o,to:a}=t,l=N(t,q),u=O(a),c=function(t,e){let{target:n,replace:s,state:r}=void 0===e?{}:e,i=R(),o=M(),a=F(t);return(0,h.useCallback)((e=>{if(!(0!==e.button||n&&"_self"!==n||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e))){e.preventDefault();let n=!!s||_(o)===_(a);i(t,{replace:n,state:r})}}),[o,i,a,s,r,n,t])}(a,{replace:r,state:i,target:o});return(0,h.createElement)("a",P({},l,{href:u,onClick:function(t){n&&n(t),t.defaultPrevented||s||c(t)},ref:e,target:o}))}));const z=n(c=i("7U5sq")).range(0,12).map((t=>Q(t))).flat().sort(((t,e)=>G(t)-G(e))),L=z.filter((t=>U(t))),W=z.filter((t=>!U(t)));function B(t){return!(t.length>2)&&z.map((t=>t)).includes(t)}function U(t){return 2===t.length}function $(t){return t[0]}function G(t){switch(t){case"B#":case"C":return 0;case"C#":case"Db":return 1;case"D":return 2;case"D#":case"Eb":return 3;case"E":case"Fb":return 4;case"E#":case"F":return 5;case"F#":case"Gb":return 6;case"G":return 7;case"G#":case"Ab":return 8;case"A":return 9;case"A#":case"Bb":return 10;case"B":case"Cb":return 11;default:throw new Error("Unknown tone "+t)}}function Q(t){switch(t){case 0:return["C","B#"];case 1:return["C#","Db"];case 2:return["D"];case 3:return["D#","Eb"];case 4:return["E","Fb"];case 5:return["F","E#"];case 6:return["F#","Gb"];case 7:return["G"];case 8:return["G#","Ab"];case 9:return["A"];case 10:return["A#","Bb"];case 11:return["B","Cb"];default:throw new Error("Unknown note index "+t)}}function H(t,e){return(G(t)+e)%12}function Y(t,e){return(G(e)-G(t)+12)%12}const X={offset:(t,e)=>H(t,e)};function Z(t,e){const n=[];for(let s=0;s<t.degrees;++s){const r=(t[(s+e.startingDegree)%t.degrees]-t[e.startingDegree]+12)%12;n.push(r)}return{degrees:t.degrees,...n}}const K=t=>t.flatMap(((t,e)=>1===e||5===e?[]:[t])),J=[0,2,4,5,7,9,11],tt=[0,2,3,5,7,8,10],et=[0,2,3,5,7,8,11],nt={name:"Major",key:t=>({name:`${t} Major Scale`,keynote:t,scaleFormula:{degrees:7,...J}})},st=[nt,{name:"Minor",key:t=>({name:`${t} Minor Scale`,keynote:t,scaleFormula:{degrees:7,...tt}})},{name:"Harmonic Minor",key:t=>({name:`${t} Harmonic Minor Scale`,keynote:t,scaleFormula:{degrees:7,...et}})},{name:"Double Harmonic",key:t=>({name:`${t} Double Harmonic Scale`,keynote:t,scaleFormula:{degrees:7,...et,1:et[1]-1,2:et[2]+1}})},{name:"Chromatic",key:t=>({name:"Chromatic Scale",keynote:t,scaleFormula:{degrees:12,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11}})},{name:"Pentatonic Minor",key:t=>({keynote:t,name:`${t} Pentatonic Minor`,scaleFormula:{degrees:5,...K(tt)}})},{name:"Pentatonic Major",key:t=>({keynote:t,name:`${t} Pentatonic Major`,scaleFormula:{degrees:5,...K(J)}})},...[{name:"Ionian",startingDegree:0},{name:"Dorian",startingDegree:1},{name:"Phrygian",startingDegree:2},{name:"Lydian",startingDegree:3},{name:"Mixolydian",startingDegree:4},{name:"Aeolian",startingDegree:5},{name:"Locrian",startingDegree:6}].map((t=>({name:t.name,key:e=>({keynote:e,name:t.name,scaleFormula:Z({degrees:J.length,...J},t)})})))];function rt(t){return function(t,e){const n=[t],s=G(t);for(let t=1;t<e.degrees;++t){const r=Q((s+e[t])%12),i=r.filter((t=>!n.map((t=>$(t))).includes($(t)))),o=1===i.length?i:i.sort(((t,e)=>G(t)-G(e)));0==o.length?n.push(it(r)):n.push(o[0])}return n}(t.keynote,t.scaleFormula)}function it(t){const e=t.filter((t=>!U(t)));return 0===e.length?t[0]:e[0]}c=i("7U5sq");function ot(t){return rt(t.scale.key(t.keyCenter))}function at(t,e){return`${t}${e}`}function lt(t){return+t.substring(ut(t).length)}function ut(t){return"#"===t[1]||"b"===t[1]?t.slice(0,2):t[0]}function ct(t){return 12*lt(t)+G(ut(t))}function ht(t){switch(t){case"Cb":return-1;case"C":return 0;case"C#":case"Db":return 1;case"D":return 2;case"D#":case"Eb":return 3;case"E":case"Fb":return 4;case"E#":case"F":return 5;case"F#":case"Gb":return 6;case"G":return 7;case"G#":case"Ab":return 8;case"A":return 9;case"A#":case"Bb":return 10;case"B":return 11;case"B#":return 12}}"undefined"!=typeof self&&self,(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s},t.exports.default=t.exports,t.exports.__esModule=!0},858:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.exports=function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t},t.exports.default=t.exports,t.exports.__esModule=!0},884:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,r,i=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(s=n.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){a=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return i}},t.exports.default=t.exports,t.exports.__esModule=!0},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},38:(t,e,n)=>{var s=n(858),r=n(884),i=n(379),o=n(521);t.exports=function(t,e){return s(t)||r(t,e)||i(t,e)||o()},t.exports.default=t.exports,t.exports.__esModule=!0},379:(t,e,n)=>{var s=n(228);t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},382:function(t,e,n){!function(t,e,n,s){function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e),o=r(n),a=r(s),l=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},u=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},c=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var s=n.startTime,r=n.target,i=n.timeConstant;return r+(e-r)*Math.exp((s-t)/i)},f=function(t){return"exponentialRampToValue"===t.type},p=function(t){return"linearRampToValue"===t.type},m=function(t){return f(t)||p(t)},g=function(t){return"setValue"===t.type},_=function(t){return"setValueCurve"===t.type},v=function t(e,n,s,r){var i=e[n];return void 0===i?r:m(i)||g(i)?i.value:_(i)?i.values[i.values.length-1]:d(s,t(e,n-1,i.startTime,r),i)},y=function(t,e,n,s,r){return void 0===n?[s.insertTime,r]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:_(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,r)]},b=function(t){return"cancelAndHold"===t.type},x=function(t){return"cancelScheduledValues"===t.type},w=function(t){return b(t)||x(t)?t.cancelTime:f(t)||p(t)?t.endTime:t.startTime},k=function(t,e,n,s){var r=s.endTime,i=s.value;return n===i?i:0<n&&0<i||n<0&&i<0?n*Math.pow(i/n,(t-e)/(r-e)):0},S=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},T=function(t,e){var n=e.duration,s=e.startTime,r=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(r,(t-s)/n*(r.length-1))},C=function(t){return"setTarget"===t.type},A=function(t){function e(t){o.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return a.default(e,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=w(t);if(b(t)||x(t)){var n=this._automationEvents.findIndex((function(n){return x(t)&&_(n)?n.startTime+n.duration>=e:w(n)>=e})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(C(r))throw new Error("The internal list is malformed.");var i=_(r)?r.startTime+r.duration:w(r),o=_(r)?r.values[r.values.length-1]:r.value,a=f(s)?k(e,i,o,s):S(e,i,o,s),d=f(s)?l(a,e,this._currenTime):u(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==r&&C(r)&&this._automationEvents.push(c(this.getValue(e),e)),void 0!==r&&_(r)&&r.startTime+r.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),r.startTime,e-r.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return w(t)>e})),v=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==v&&_(v)&&w(v)+v.duration>e)return!1;var y=f(t)?l(t.value,t.endTime,this._currenTime):p(t)?u(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(y);else{if(_(t)&&e+t.duration>w(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return w(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];C(s)&&n.unshift(c(v(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return w(e)>t})),n=this._automationEvents[e],s=(-1===e?this._automationEvents.length:e)-1,r=this._automationEvents[s];if(void 0!==r&&C(r)&&(void 0===n||!m(n)||n.insertTime>t))return d(t,v(this._automationEvents,s-1,r.startTime,this._defaultValue),r);if(void 0!==r&&g(r)&&(void 0===n||!m(n)))return r.value;if(void 0!==r&&_(r)&&(void 0===n||!m(n)||r.startTime+r.duration>t))return t<r.startTime+r.duration?T(t,r):r.values[r.values.length-1];if(void 0!==r&&m(r)&&(void 0===n||!m(n)))return r.value;if(void 0!==n&&f(n)){var o=y(this._automationEvents,s,r,n,this._defaultValue),a=i.default(o,2),l=a[0],u=a[1];return k(t,l,u,n)}if(void 0!==n&&p(n)){var c=y(this._automationEvents,s,r,n,this._defaultValue),h=i.default(c,2),b=h[0],x=h[1];return S(t,b,x,n)}return this._defaultValue}}]),e}(Symbol.iterator);t.AutomationEventList=A,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=c,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(38),n(575),n(913))}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};(()=>{n.r(s),n.d(s,{AMOscillator:()=>ta,AMSynth:()=>Ra,Abs:()=>ga,Add:()=>aa,AmplitudeEnvelope:()=>Oa,Analyser:()=>Jl,AudioToGain:()=>Ko,AutoFilter:()=>gl,AutoPanner:()=>vl,AutoWah:()=>bl,BaseContext:()=>Ri,BiquadFilter:()=>Fa,BitCrusher:()=>wl,Buffer:()=>Fu,BufferSource:()=>Pu,Buffers:()=>Iu,Channel:()=>au,Chebyshev:()=>Sl,Chorus:()=>Ol,Clock:()=>ko,Compressor:()=>fu,Context:()=>Fi,Convolver:()=>yu,CrossFade:()=>fl,DCMeter:()=>su,Delay:()=>So,Destination:()=>Su,Distortion:()=>Dl,Draw:()=>Ou,DuoSynth:()=>qa,EQ3:()=>vu,Emitter:()=>Mi,Envelope:()=>Ta,FFT:()=>nu,FMOscillator:()=>ea,FMSynth:()=>ja,FatOscillator:()=>sa,FeedbackCombFilter:()=>Ha,FeedbackDelay:()=>Rl,Filter:()=>Ia,Follower:()=>yl,Freeverb:()=>ql,Frequency:()=>so,FrequencyClass:()=>to,FrequencyEnvelope:()=>Pa,FrequencyShifter:()=>Il,Gain:()=>mo,GainToAudio:()=>_a,Gate:()=>pu,GrainPlayer:()=>ma,GreaterThan:()=>xa,GreaterThanZero:()=>ba,IntervalTimeline:()=>Ro,JCReverb:()=>Ll,LFO:()=>ca,Limiter:()=>mu,Listener:()=>Au,Loop:()=>el,LowpassCombFilter:()=>Xa,Master:()=>Tu,MembraneSynth:()=>La,Merge:()=>Cl,MetalSynth:()=>za,Meter:()=>eu,MidSideCompressor:()=>gu,MidSideMerge:()=>Hl,MidSideSplit:()=>Ql,Midi:()=>Eo,MidiClass:()=>Ao,Mono:()=>lu,MonoSynth:()=>Na,MultibandCompressor:()=>_u,MultibandSplit:()=>uu,Multiply:()=>Jo,Negate:()=>va,Noise:()=>Wo,NoiseSynth:()=>Wa,Offline:()=>To,OfflineContext:()=>ji,OmniOscillator:()=>oa,OnePoleFilter:()=>Ya,Oscillator:()=>Yo,PWMOscillator:()=>ra,PanVol:()=>ou,Panner:()=>_l,Panner3D:()=>hu,Param:()=>lo,Part:()=>nl,Pattern:()=>hl,Phaser:()=>$l,PingPongDelay:()=>Bl,PitchShift:()=>Ul,Player:()=>fa,Players:()=>pa,PluckSynth:()=>Za,PolySynth:()=>Ka,Pow:()=>wa,PulseOscillator:()=>na,Recorder:()=>du,Reverb:()=>Gl,Sampler:()=>Ja,Scale:()=>la,ScaleExp:()=>ka,Sequence:()=>dl,Signal:()=>vo,Solo:()=>iu,Split:()=>Tl,StateTimeline:()=>ao,StereoWidener:()=>Xl,Subtract:()=>ya,SyncedSignal:()=>Sa,Synth:()=>Da,Ticks:()=>Do,TicksClass:()=>Oo,Time:()=>Ji,TimeClass:()=>Ki,Timeline:()=>Ci,ToneAudioBuffer:()=>qi,ToneAudioBuffers:()=>Co,ToneAudioNode:()=>uo,ToneBufferSource:()=>Lo,ToneEvent:()=>tl,ToneOscillatorNode:()=>Ho,Transport:()=>wu,TransportTime:()=>io,TransportTimeClass:()=>ro,Tremolo:()=>Zl,Unit:()=>e,UserMedia:()=>Go,Vibrato:()=>Kl,Volume:()=>Io,WaveShaper:()=>Zo,Waveform:()=>ru,Zero:()=>ua,connect:()=>ho,connectSeries:()=>co,connectSignal:()=>yo,context:()=>Mu,dbToGain:()=>Ui,debug:()=>t,defaultArg:()=>_i,disconnect:()=>fo,fanIn:()=>po,ftom:()=>Hi,gainToDb:()=>$i,getContext:()=>Li,getDestination:()=>Cu,getDraw:()=>Du,getListener:()=>Eu,getTransport:()=>ku,immediate:()=>xu,intervalToFrequencyRatio:()=>Gi,isArray:()=>$r,isBoolean:()=>Ur,isDefined:()=>zr,isFunction:()=>Lr,isNote:()=>Qr,isNumber:()=>Wr,isObject:()=>Br,isString:()=>Gr,isUndef:()=>Vr,loaded:()=>Ru,mtof:()=>Xi,now:()=>bu,optionsFromArguments:()=>gi,setContext:()=>Wi,start:()=>Bi,supported:()=>hr,version:()=>r});var t={};n.r(t),n.d(t,{assert:()=>Hr,assertContextRunning:()=>Xr,assertRange:()=>Yr,assertUsedScheduleTime:()=>ti,enterScheduledCallback:()=>Jr,log:()=>si,setLogger:()=>ni,warn:()=>ri});var e={};n.r(e);const r="14.8.40";var i=n(382);const o=new WeakSet,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g={construct:()=>g},_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,v=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(_);for(;null!==r;){const t=r[1].slice(1,-1),i=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(i),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(_)}return[n.join(";"),s]},y=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},b=t=>{if(!(t=>{try{new new Proxy(t,g)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},x=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},w=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},k=(t,e,n,s)=>{const r=x(t,e),i=w(r,(t=>t[0]===n&&t[1]===s));return 0===r.size&&t.delete(e),i},S=t=>x(d,t),T=t=>{if(o.has(t))throw new Error("The AudioNode is already stored.");o.add(t),S(t).forEach((t=>t(!0)))},C=t=>"port"in t,A=t=>{if(!o.has(t))throw new Error("The AudioNode is not stored.");o.delete(t),S(t).forEach((t=>t(!1)))},E=(t,e)=>{!C(t)&&e.every((t=>0===t.size))&&A(t)},O={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},D=(t,e)=>t.context===e,M=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},R=()=>new DOMException("","IndexSizeError"),F=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw R();throw t}})},I={numberOfChannels:1},P=-34028234663852886e22,N=-P,q=t=>o.has(t),j={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},V=t=>x(a,t),z=t=>x(u,t),L=(t,e)=>{const{activeInputs:n}=V(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||L(n,[...e,t])}))));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:C(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of s){const n=z(t);void 0!==n&&n.activeInputs.forEach((([t])=>L(t,e)))}q(t)&&A(t)},W=t=>{L(t.destination,[])},B=t=>"context"in t,U=t=>B(t[0]),$=(t,e,n,s)=>{for(const e of t)if(n(e)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},G=(t,e,[n,s],r)=>{$(t,[e,n,s],(t=>t[0]===e&&t[1]===n),r)},Q=(t,[e,n,s],r)=>{const i=t.get(e);void 0===i?t.set(e,new Set([[n,s]])):$(i,[n,s],(t=>t[0]===n),r)},H=t=>"inputs"in t,Y=(t,e,n,s)=>{if(H(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},X=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},Z=(t,e)=>{if(!S(t).delete(e))throw new Error("Missing the expected event listener.")},K=(t,e,n)=>{const s=x(t,e),r=w(s,(t=>t[0]===n));return 0===s.size&&t.delete(e),r},J=(t,e,n,s)=>{H(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},tt=t=>x(l,t),et=t=>x(c,t),nt=t=>f.has(t),st=t=>!o.has(t),rt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),s=t.createGain(),r=t.createBuffer(1,2,44100),i=r.getChannelData(0);i[0]=1,i[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(e).connect(t.destination),o.connect(s),o.disconnect(s),e.onaudioprocess=s=>{const r=s.inputBuffer.getChannelData(0);Array.prototype.some.call(r,(t=>1===t))?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(t.destination)},o.start()}})),it=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},ot=t=>"context"in t,at=t=>{const e=new Map;var n,s;t.connect=(s=t.connect.bind(t),(t,n=0,r=0)=>{const i=ot(t)?s(t,n,r):s(t,n),o=e.get(t);return void 0===o?e.set(t,[{input:r,output:n}]):o.every((t=>t.input!==r||t.output!==n))&&o.push({input:r,output:n}),i}),t.disconnect=(n=t.disconnect,(s,r,i)=>{if(n.apply(t),void 0===s)e.clear();else if("number"==typeof s)for(const[t,n]of e){const r=n.filter((t=>t.output!==s));0===r.length?e.delete(t):e.set(t,r)}else if(e.has(s))if(void 0===r)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter((t=>t.output!==r&&(t.input!==i||void 0===i)));0===n.length?e.delete(s):e.set(s,n)}}for(const[n,s]of e)s.forEach((e=>{ot(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})},lt=(t,e,n,s,r)=>{const[i,o]=((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=V(e),o=X(r[s],t,n);return null===o?[k(i,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,r);if(null!==i&&(Z(t,i),!o||e||nt(t)||J(tt(t),tt(n),s,r)),q(n)){const{activeInputs:t}=V(n);E(n,t)}},ut=(t,e,n,s)=>{const[r,i]=((t,e,n)=>{const{activeInputs:s,passiveInputs:r}=z(e),i=X(s,t,n);return null===i?[K(r,t,n)[1],!1]:[i[2],!0]})(t,n,s);null!==r&&(Z(t,r),!i||e||nt(t)||tt(t).disconnect(et(n),s))};class ct{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,s)=>t.call(e,n,s,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const ht={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function dt(t,e,n,s,r){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(0===e[n].byteLength)e[n]=i.slice(r,r+128);else{const t=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const ft=(t,e,n,s,r)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,r):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],r)},pt=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],r="number"==typeof e?e:e[s];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},mt=async(t,e,n,s,r,i,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce(((t,e)=>t+e),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===i)throw new Error("Missing the processor constructor.");const h=V(t),d=await((t,e)=>{const n=x(m,t),s=tt(e);return x(n,s)})(n,t),f=pt(s.numberOfInputs,s.channelCount),p=pt(s.numberOfOutputs,r),g=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let u=0;u<a;u+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)dt(e,f[t],n,n,u);void 0!==i.parameterDescriptors&&null!==e&&i.parameterDescriptors.forEach((({name:t},n)=>{dt(e,g,t,l+n,u)}));for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<r[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=f.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(u/n.sampleRate,n.sampleRate,(()=>d.process(t,p,g)));if(null!==c)for(let t=0,e=0;t<s.numberOfOutputs;t+=1){for(let n=0;n<r[t];n+=1)ft(c,p[t],n,e+n,u);e+=r[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return c},gt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},vt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},yt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},bt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},xt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}finally{r()}}))},wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},kt=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},St={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ct=()=>new DOMException("","InvalidStateError"),At=()=>new DOMException("","InvalidAccessError"),Et={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ot=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*u[a];for(let e=1;e<r;e+=1){const s=d-e&l-1;h+=n[e]*i[s],h-=t[e]*o[s]}for(let t=r;t<s;t+=1)h+=n[t]*i[d-t&l-1];for(let n=r;n<e;n+=1)h-=t[n]*o[d-n&l-1];i[d]=u[a],o[d]=h,d=d+1&l-1,c[a]=h}return d},Dt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Mt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Rt=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},Ft=(t,e)=>{Rt(t,e,"channelCount"),Rt(t,e,"channelCountMode"),Rt(t,e,"channelInterpretation")},It=t=>"function"==typeof t.getFloatTimeDomainData,Pt=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},Nt=t=>{t.start=(e=>(n=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},qt=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},jt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Vt=(t,e)=>{const n=t.createBiquadFilter();return Ft(n,e),Pt(n,e,"Q"),Pt(n,e,"detune"),Pt(n,e,"frequency"),Pt(n,e,"gain"),Rt(n,e,"type"),n},zt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Ft(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ct()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ct()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ct()}})})(n),n},Lt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Wt=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Ft(n,e),Pt(n,e,"delayTime"),n},Bt=(t,e)=>{const n=t.createGain();return Ft(n,e),Pt(n,e,"gain"),n};function Ut(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $t(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)r=e,n=[(s=n)[0]*r[0]-s[1]*r[1],s[0]*r[1]+s[1]*r[0]],n[0]+=t[i];var s,r;return n}const Gt=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Qt=()=>new DOMException("","NotSupportedError"),Ht={numberOfChannels:1},Yt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Xt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Zt={disableNormalization:!1},Kt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Jt=()=>new DOMException("","UnknownError"),te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ee=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),ne=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},se=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},re=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;re(t,e,n+1e-7)}},ie=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},oe=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},ae=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},le=()=>{try{new DOMException}catch{return!1}return!0},ue=()=>new Promise((t=>{const e=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),s.postMessage(e,[e])})),ce=(t,e)=>{const n=e.createGain();t.connect(n);const s=(e=>()=>{e.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Lt(t,n),t.stop=(e=>{let s=!1;return(r=0)=>{if(s)try{e.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else e.call(t,r),s=!0}})(t.stop)},he=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},de=(be=$,(t,e,[n,s,r],i)=>{be(t[s],[e,n,r],(t=>t[0]===e&&t[1]===n),i)}),fe=(ye=$,(t,e,[n,s,r],i)=>{const o=t.get(n);void 0===o?t.set(n,new Set([[s,e,r]])):ye(o,[s,e,r],(t=>t[0]===s&&t[1]===e),i)}),pe=(ve=w,(t,e,n,s)=>ve(t[s],(t=>t[0]===e&&t[1]===n))),me=new WeakMap,ge=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(me),_e=(xe=new Map,we=new WeakMap,(t,e)=>{const n=we.get(t);if(void 0!==n)return n;const s=xe.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(xe.set(t,n),n.catch((()=>!1)).then((e=>(xe.delete(t),we.set(t,e),e)))):(we.set(t,n),n)}catch{return we.set(t,!1),!1}});var ve,ye,be,xe,we;const ke="undefined"==typeof window?null:window,Se=(Re=_e,Fe=R,(t,e)=>{const n=t.createAnalyser();if(Ft(n,e),!(e.maxDecibels>e.minDecibels))throw Fe();return Rt(n,e,"fftSize"),Rt(n,e,"maxDecibels"),Rt(n,e,"minDecibels"),Rt(n,e,"smoothingTimeConstant"),Re(It,(()=>It(n)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(n),n}),Te=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(V),Ce=(Oe=V,De=Te,Me=nt,async(t,e,n)=>{const s=Oe(t);await Promise.all(s.activeInputs.map(((s,r)=>Array.from(s).map((async([s,i])=>{const o=De(s),a=await o.render(s,e),l=t.context.destination;Me(s)||t===l&&Me(t)||a.connect(n,i,r)})))).reduce(((t,e)=>[...t,...e]),[]))}),Ae=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i){const o=s.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=e(r);if(!D(o,i)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(i,e)}return s.set(i,o),await n(r,i,o),o})(r,i)}}})(Se,tt,Ce),Ee=(Ie=h,t=>{const e=Ie.get(t);if(void 0===e)throw Ct();return e});var Oe,De,Me,Re,Fe,Ie;const Pe=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(ke),Ne=(t=>e=>null!==t&&e instanceof t)(Pe),qe=new WeakMap,je=(ln=he,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,e,n){if(null!==e){let s=this._listeners.get(e);void 0===s&&(s=ln(this,e),"function"==typeof e&&this._listeners.set(e,s)),this._nativeEventTarget.addEventListener(t,s,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}}),Ve=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(ke),ze=(t=>e=>null!==t&&e instanceof t)(Ve),Le=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(ke),We=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(ke),Be=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(ke),Ue=(un=a,$e=(t,e,n)=>{const s=[];for(let t=0;t<n.numberOfInputs;t+=1)s.push(new Set);un.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},Ge=((t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const f=new WeakMap;return(p,m,g,_,v)=>{const{activeInputs:y,passiveInputs:b}=i(m),{outputs:x}=i(p),w=a(p),S=i=>{const a=l(m),u=l(p);if(i){const e=k(b,p,g,_);t(y,p,e,!1),v||h(p)||n(u,a,g,_),d(m)&&T(m)}else{const t=s(y,p,g,_);e(b,_,t,!1),v||h(p)||r(u,a,g,_);const n=o(m);if(0===n)c(m)&&E(m,y);else{const t=f.get(m);void 0!==t&&clearTimeout(t),f.set(m,setTimeout((()=>{c(m)&&E(m,y)}),1e3*n))}}};return!!u(x,[m,g,_],(t=>t[0]===m&&t[1]===g&&t[2]===_),!0)&&(w.add(S),c(p)?t(y,p,[g,_,S],!0):e(b,_,[p,g,S],!0),!0)}})(de,fe,Y,pe,J,V,ge,S,tt,$,q,nt,st),Qe=_e,He=((t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(void 0===u){if(!o&&i(a)){const t=s(a),{outputs:i}=n(a);for(const n of i)if(U(n)){const r=s(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,u+l)})(f,J,V,tt,et,q),Ye=R,Xe=At,Ze=Qt,Ke=((t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const e=s(l),{outputs:i}=n(l);for(const n of i)if(U(n)){const r=s(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(l,c-u)})(Y,f,V,tt,et,Ee,q,Ne),Je=((t,e,n)=>function s(r,i){const o=B(i)?i:n(t,i);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>s([...r,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(qe,V,x),tn=je,en=Ee,nn=ze,sn=Le,rn=We,on=Ne,an=Be,class extends tn{constructor(t,e,n,s){super(n),this._context=t,this._nativeAudioNode=n;const r=en(t);nn(r)&&!0!==Qe(rt,(()=>rt(r,an)))&&at(n),l.set(this,n),d.set(this,new Set),"closed"!==t.state&&e&&T(this),$e(this,s,n)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,e=0,n=0){if(e<0||e>=this._nativeAudioNode.numberOfOutputs)throw Ye();const s=en(this._context),r=on(s);if(sn(t)||rn(t))throw Xe();if(B(t)){const s=tt(t);try{const i=Y(this._nativeAudioNode,s,e,n),o=st(this);(r||o)&&this._nativeAudioNode.disconnect(...i),"closed"!==this.context.state&&!o&&st(t)&&T(t)}catch(t){if(12===t.code)throw Xe();throw t}if(Ge(this,t,e,n,r)){const e=Je([this],t);it(e,He(r))}return t}const i=et(t);if("playbackRate"===i.name&&1024===i.maxValue)throw Ze();try{this._nativeAudioNode.connect(i,e),(r||st(this))&&this._nativeAudioNode.disconnect(i,e)}catch(t){if(12===t.code)throw Xe();throw t}if(((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=z(e),{outputs:o}=V(t),a=S(t),l=o=>{const a=tt(t),l=et(e);if(o){const e=K(i,t,n);G(r,t,e,!1),s||nt(t)||a.connect(l,n)}else{const e=((t,e,n)=>w(t,(t=>t[0]===e&&t[1]===n)))(r,t,n);Q(i,e,!1),s||nt(t)||a.disconnect(l,n)}};return!!$(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),q(t)?G(r,t,[n,l],!0):Q(i,[t,n,l],!0),!0)})(this,t,e,r)){const e=Je([this],t);it(e,He(r))}}disconnect(t,e,n){let s;const r=en(this._context),i=on(r);if(void 0===t)s=((t,e)=>{const n=V(t),s=[];for(const r of n.outputs)U(r)?lt(t,e,...r):ut(t,e,...r),s.push(r[0]);return n.outputs.clear(),s})(this,i);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw Ye();s=((t,e,n)=>{const s=V(t),r=[];for(const i of s.outputs)i[1]===n&&(U(i)?lt(t,e,...i):ut(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r})(this,i,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw Ye();if(B(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw Ye();if(s=((t,e,n,s,r)=>{const i=V(t);return Array.from(i.outputs).filter((t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==r&&t[2]!==r))).map((n=>(U(n)?lt(t,e,...n):ut(t,e,...n),i.outputs.delete(n),n[0])))})(this,i,t,e,n),0===s.length)throw Xe()}for(const t of s){const e=Je([this],t);it(e,Ke)}}});var $e,Ge,Qe,He,Ye,Xe,Ze,Ke,Je,tn,en,nn,sn,rn,on,an,ln,un;const cn=(pn=Ue,mn=Ae,gn=R,_n=Se,vn=Ee,yn=Ne,class extends pn{constructor(t,e){const n=vn(t),s={...O,...e},r=_n(n,s);super(t,!1,r,yn(n)?mn():null),this._nativeAnalyserNode=r}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,gn()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,gn()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}}),hn=new WeakSet,dn=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(ke),fn=(bn=new Uint32Array(1),t=>(bn[0]=t,bn[0]));var pn,mn,gn,_n,vn,yn,bn;const xn=((t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)s[t]=u[t+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)u[t+o]=s[t]}})(fn,R),wn=(t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(fn),kn=((t,e,n,s,r,i,o,a)=>{let l=null;return class u{constructor(u){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...I,...u};null===l&&(l=new r(1,1,44100));const f=null!==s&&e(i,i)?new s({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===f.numberOfChannels)throw n();return"function"!=typeof f.copyFromChannel?(o(f),F(f)):e(M,(()=>M(f)))||a(f),t.add(f),f}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(hn,_e,Qt,dn,Pe,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(dn),xn,wn),Sn=(t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)})(Bt),Tn=((t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map((async([e,s])=>{const o=t(e),a=await o.render(e,r);n(e)||a.connect(i,s)})))})(Te,z,nt),Cn=(t=>(e,n,s)=>t(n,e,s))(Tn),An=((t,e,n,s,r,i,o,a,l,u,c)=>(l,h)=>{const d=l.createBufferSource();return Ft(d,h),Pt(d,h,"playbackRate"),Rt(d,h,"buffer"),Rt(d,h,"loop"),Rt(d,h,"loopEnd"),Rt(d,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Ct();e.call(t,s,r,i),n=!0}})(t.start)})(d),e(s,(()=>s(l)))||(t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=null===i?s:Math.min(i.duration,s);null!==i&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)})(d),e(r,(()=>r(l)))||u(d,l),e(i,(()=>i(l)))||Nt(d),e(o,(()=>o(l)))||c(d,l),e(a,(()=>a(l)))||qt(d),t(l,d),d})(Sn,_e,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),ie,oe,ae,0,(Mn=se,(t,e)=>{const n=e.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=n),Mn(t,"buffer",(e=>()=>{const s=e.call(t);return s===n?null:s}),(e=>s=>e.call(t,null===s?n:s)))}),ce),En=((t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(z),Tn),On=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=i.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=D(c,u);if(!h){const t={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=e(u,t),null!==o&&c.start(...o),null!==a&&c.stop(a)}return i.set(u,c),h?await t(u,l.playbackRate,c.playbackRate):await s(u,l.playbackRate,c.playbackRate),await r(l,u,c),c})(l,u)}}})(Cn,An,tt,En,Ce),Dn=((t,e,n,s,r,o,a,l,u,c,h,d,f)=>(s,p,m,g=null,_=null)=>{const v=new i.AutomationEventList(m.defaultValue),y=p?(x=v,{replay(t){for(const e of x)if("exponentialRampToValue"===e.type){const{endTime:n,value:s}=e;t.exponentialRampToValueAtTime(s,n)}else if("linearRampToValue"===e.type){const{endTime:n,value:s}=e;t.linearRampToValueAtTime(s,n)}else if("setTarget"===e.type){const{startTime:n,target:s,timeConstant:r}=e;t.setTargetAtTime(s,n,r)}else if("setValue"===e.type){const{startTime:n,value:s}=e;t.setValueAtTime(s,n)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:n,startTime:s,values:r}=e;t.setValueCurveAtTime(r,s,n)}}}}):null,b={get defaultValue(){return m.defaultValue},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===_?m.minValue:_},get value(){return m.value},set value(t){m.value=t,b.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof m.cancelAndHoldAtTime)null===y&&v.flush(s.context.currentTime),v.add(r(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(v).pop();null===y&&v.flush(s.context.currentTime),v.add(r(t));const n=Array.from(v).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:t=>(null===y&&v.flush(s.context.currentTime),v.add(o(t)),m.cancelScheduledValues(t),b),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===y&&v.flush(s.context.currentTime),v.add(a(t,e)),m.exponentialRampToValueAtTime(t,e),b},linearRampToValueAtTime:(t,e)=>(null===y&&v.flush(s.context.currentTime),v.add(l(t,e)),m.linearRampToValueAtTime(t,e),b),setTargetAtTime:(t,e,n)=>(null===y&&v.flush(s.context.currentTime),v.add(u(t,e,n)),m.setTargetAtTime(t,e,n),b),setValueAtTime:(t,e)=>(null===y&&v.flush(s.context.currentTime),v.add(c(t,e)),m.setValueAtTime(t,e),b),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,i=s.context.sampleRate,o=Math.ceil(e*i),a=Math.floor(t*i),l=a-o,u=new Float32Array(l);for(let t=0;t<l;t+=1){const s=(r.length-1)/n*((o+t)/i-e),a=Math.floor(s),l=Math.ceil(s);u[t]=a===l?r[a]:(1-(s-a))*r[a]+(1-(l-s))*r[l]}null===y&&v.flush(s.context.currentTime),v.add(h(u,e,n)),m.setValueCurveAtTime(u,e,n);const c=a/i;c<t&&f(b,u[u.length-1],c),f(b,r[r.length-1],t)}else null===y&&v.flush(s.context.currentTime),v.add(h(r,e,n)),m.setValueCurveAtTime(r,e,n);return b}};var x;return n.set(b,m),e.set(b,s),t(b,y),b})((Rn=u,(t,e)=>{Rn.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),qe,c,0,i.createCancelAndHoldAutomationEvent,i.createCancelScheduledValuesAutomationEvent,i.createExponentialRampToValueAutomationEvent,i.createLinearRampToValueAutomationEvent,i.createSetTargetAutomationEvent,i.createSetValueAutomationEvent,i.createSetValueCurveAutomationEvent,Ve,re);var Mn,Rn;const Fn=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,s){const a=i(t),l={...j,...s},u=r(a,l),c=o(a),h=c?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,N,P)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){T(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),q(this)&&A(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Ue,On,Dn,Ct,An,Ee,Ne,he),In=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,e){const n=i(t),s=o(n),l=r(n,e,s);super(t,!1,l,s?(t=>{const e=new WeakMap;return{render(n,s){const r=e.get(s);return void 0!==r?Promise.resolve(r):(async(n,s)=>{const r=s.destination;return e.set(s,r),await t(n,s,r),r})(n,s)}}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ue,0,R,Ct,(qr=Bt,jr=se,(t,e,n)=>{const s=t.destination;if(s.channelCount!==e)try{s.channelCount=e}catch{}n&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:e});const r=qr(t,{channelCount:e,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return jr(r,"channelCount",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e);try{s.channelCount=e}catch(t){if(e>s.maxChannelCount)throw t}})),jr(r,"channelCountMode",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),s.channelCountMode=e})),jr(r,"channelInterpretation",(t=>()=>t.call(r)),(t=>e=>{t.call(r,e),s.channelInterpretation=e})),Object.defineProperty(r,"maxChannelCount",{get:()=>s.maxChannelCount}),r.connect(s),r}),Ee,Ne,Ce),Pn=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=D(l,a);if(!u){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return i.set(a,l),u?(await t(a,o.Q,l.Q),await t(a,o.detune,l.detune),await t(a,o.frequency,l.frequency),await t(a,o.gain,l.gain)):(await s(a,o.Q,l.Q),await s(a,o.detune,l.detune),await s(a,o.frequency,l.frequency),await s(a,o.gain,l.gain)),await r(o,a,l),l})(o,a)}}})(Cn,Vt,tt,En,Ce),Nn=(t=>(e,n)=>t.set(e,n))(me),qn=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,s){const l=i(t),u={...gt,...s},c=r(l,u),h=o(l);super(t,!1,c,h?n():null),this._Q=e(this,h,c.Q,N,P),this._detune=e(this,h,c.detune,1200*Math.log2(N),-1200*Math.log2(N)),this._frequency=e(this,h,c.frequency,t.sampleRate/2,0),this._gain=e(this,h,c.gain,40*Math.log10(N),P),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw s();throw t}if(t.length!==e.length||e.length!==n.length)throw s()}})(Ue,Dn,Pn,At,Vt,Ee,Ne,Nn),jn=((t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(r=>(o,a=0,l=0)=>{const u=0===i.size;if(e(o))return r.call(n,o,a,l),t(i,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),u&&s(),o;r.call(n,o,a),t(i,[o,a],(t=>t[0]===o&&t[1]===a),!0),u&&s()})(n.connect),n.disconnect=(t=>(s,o,a)=>{const l=i.size>0;if(void 0===s)t.apply(n),i.clear();else if("number"==typeof s){t.call(n,s);for(const t of i)t[1]===s&&i.delete(t)}else{e(s)?t.call(n,s,o,a):t.call(n,s,o);for(const t of i)t[0]!==s||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||i.delete(t)}const u=0===i.size;l&&u&&r()})(n.disconnect),n})($,Le),Vn=(Pr=Ct,Nr=jn,(t,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw Pr()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw Pr()}});const n=t.createBufferSource();Nr(e,(()=>{const t=e.numberOfInputs;for(let s=0;s<t;s+=1)n.connect(e,0,s)}),(()=>n.disconnect(e)))}),zn=((t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),Ft(r,s),r})(Ve,Vn),Ln=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i){const o=s.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=e(r);if(!D(o,i)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(i,e)}return s.set(i,o),await n(r,i,o),o})(r,i)}}})(zn,tt,Ce),Wn=((t,e,n,s,r)=>class extends t{constructor(t,i){const o=s(t),a={..._t,...i};super(t,!1,n(o,a),r(o)?e():null)}})(Ue,Ln,zn,Ee,Ne),Bn=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i){const o=s.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=e(r);if(!D(o,i)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(i,e)}return s.set(i,o),await n(r,i,o),o})(r,i)}}})(zt,tt,Ce),Un=((t,e,n,s,r,i)=>class extends t{constructor(t,i){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...vt,...i});super(t,!1,n(o,a),r(o)?e():null)}})(Ue,Bn,zt,Ee,Ne),$n=((t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(r,l),s(Lt(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})(Sn,An,Bt,jn),Gn=((t,e,n,s,r)=>(i,o)=>{if(void 0===i.createConstantSource)return n(i,o);const a=i.createConstantSource();return Ft(a,o),Pt(a,o,"offset"),e(s,(()=>s(i)))||Nt(a),e(r,(()=>r(i)))||qt(a),t(i,a),a})(Sn,_e,$n,ie,ae),Qn=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=i.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=D(c,u);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=e(u,t),null!==o&&c.start(o),null!==a&&c.stop(a)}return i.set(u,c),h?await t(u,l.offset,c.offset):await s(u,l.offset,c.offset),await r(l,u,c),c})(l,u)}}})(Cn,Gn,tt,En,Ce),Hn=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),l={...yt,...o},u=s(a,l),c=i(a),h=c?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,c,u.offset,N,P),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),q(this)&&A(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Ue,Dn,Qn,Gn,Ee,Ne,he),Yn=(Fr=Qt,Ir=se,(t,e)=>{const n=t.createConvolver();if(Ft(n,e),e.disableNormalization===n.normalize&&(n.normalize=!e.disableNormalization),Rt(n,e,"buffer"),e.channelCount>2)throw Fr();if(Ir(n,"channelCount",(t=>()=>t.call(n)),(t=>e=>{if(e>2)throw Fr();return t.call(n,e)})),"max"===e.channelCountMode)throw Fr();return Ir(n,"channelCountMode",(t=>()=>t.call(n)),(t=>e=>{if("max"===e)throw Fr();return t.call(n,e)})),n}),Xn=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i){const o=s.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=e(r);if(!D(o,i)){const e={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(i,e)}return s.set(i,o),H(o)?await n(r,i,o.inputs[0]):await n(r,i,o),o})(r,i)}}})(Yn,tt,Ce),Zn=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),l={...bt,...o},u=n(a,l);super(t,!1,u,r(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Ue,Xn,Yn,Ee,Ne,Nn),Kn=((t,e,n,s,r)=>i=>{const o=new WeakMap;return{render(a,l){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l)=>{let u=n(a);const c=D(u,l);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(l,t)}return o.set(l,u),c?await t(l,a.delayTime,u.delayTime):await s(l,a.delayTime,u.delayTime),await r(a,l,u),u})(a,l)}}})(Cn,Wt,tt,En,Ce),Jn=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const l=r(t),u={...wt,...a},c=s(l,u),h=i(l);super(t,!1,c,h?n(u.maxDelayTime):null),this._delayTime=e(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Ue,Dn,Kn,Wt,Ee,Ne,Nn),ts=(t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Ft(s,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Pt(s,n,"attack"),Pt(s,n,"knee"),Pt(s,n,"ratio"),Pt(s,n,"release"),Pt(s,n,"threshold"),s})(Qt),es=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=D(l,a);if(!u){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return i.set(a,l),u?(await t(a,o.attack,l.attack),await t(a,o.knee,l.knee),await t(a,o.ratio,l.ratio),await t(a,o.release,l.release),await t(a,o.threshold,l.threshold)):(await s(a,o.attack,l.attack),await s(a,o.knee,l.knee),await s(a,o.ratio,l.ratio),await s(a,o.release,l.release),await s(a,o.threshold,l.threshold)),await r(o,a,l),l})(o,a)}}})(Cn,ts,tt,En,Ce),ns=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,r){const l=i(t),u={...St,...r},c=s(l,u),h=o(l);super(t,!1,c,h?n():null),this._attack=e(this,h,c.attack),this._knee=e(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=e(this,h,c.ratio),this._release=e(this,h,c.release),this._threshold=e(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ue,Dn,es,ts,Qt,Ee,Ne,Nn),ss=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=D(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return i.set(a,l),u?await t(a,o.gain,l.gain):await s(a,o.gain,l.gain),await r(o,a,l),l})(o,a)}}})(Cn,Bt,tt,En,Ce),rs=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),l={...Tt,...o},u=s(a,l),c=i(a);super(t,!1,u,c?n():null),this._gain=e(this,c,u.gain,N,P)}get gain(){return this._gain}})(Ue,Dn,ss,Bt,Ee,Ne),is=(Or=At,Dr=Ct,Mr=Gt,Rr=Qt,(t,e,{channelCount:n,channelCountMode:s,channelInterpretation:r,feedback:i,feedforward:o})=>{const a=jt(e,t.sampleRate),l=i instanceof Float64Array?i:new Float64Array(i),u=o instanceof Float64Array?o:new Float64Array(o),c=l.length,h=u.length,d=Math.min(c,h);if(0===c||c>20)throw Rr();if(0===l[0])throw Dr();if(0===h||h>20)throw Rr();if(0===u[0])throw Dr();if(1!==l[0]){for(let t=0;t<h;t+=1)u[t]/=l[0];for(let t=1;t<c;t+=1)l[t]/=l[0]}const f=Mr(t,a,n,n);f.channelCount=n,f.channelCountMode=s,f.channelInterpretation=r;const p=[],m=[],g=[];for(let t=0;t<n;t+=1){p.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),m.push(t),g.push(e)}f.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let t=0;t<s;t+=1){const s=e.getChannelData(t),r=n.getChannelData(t);p[t]=Ot(l,c,u,h,d,m[t],g[t],p[t],32,s,r)}};const _=t.sampleRate/2;return Lt({get bufferSize(){return a},get channelCount(){return f.channelCount},set channelCount(t){f.channelCount=t},get channelCountMode(){return f.channelCountMode},set channelCountMode(t){f.channelCountMode=t},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(t){f.channelInterpretation=t},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener:(...t)=>f.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>f.dispatchEvent(t[0]),getFrequencyResponse(t,e,n){if(t.length!==e.length||e.length!==n.length)throw Or();const s=t.length;for(let r=0;r<s;r+=1){const s=-Math.PI*(t[r]/_),i=[Math.cos(s),Math.sin(s)],o=Ut($t(u,i),$t(l,i));e[r]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),n[r]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>f.removeEventListener(t[0],t[1],t[2])},f)}),os=((t,e,n,s)=>r=>t(Mt,(()=>Mt(r)))?Promise.resolve(t(s,s)).then((t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()})):new Promise((t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()})))(_e,Bt,Gt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Bt,Pe)),as=(Sr=An,Tr=tt,Cr=Pe,Ar=Ce,Er=os,(t,e)=>{const n=new WeakMap;let s=null;return{render(r,i){const o=n.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=null,a=Tr(r);const l=D(a,i);if(void 0===i.createIIRFilter?o=Sr(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):l||(a=i.createIIRFilter(e,t)),n.set(i,null===o?a:o),null!==o){if(null===s){if(null===Cr)throw new Error("Missing the native OfflineAudioContext constructor.");const n=new Cr(r.context.destination.channelCount,r.context.length,i.sampleRate);s=(async()=>(await Ar(r,n,n.destination),((t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(1!==r[0]){for(let t=0;t<o;t+=1)i[t]/=r[0];for(let t=1;t<a;t+=1)r[t]/=r[0]}const u=new Float32Array(32),c=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),s=h.getChannelData(e);u.fill(0),c.fill(0),Ot(r,o,i,a,l,u,c,0,32,n,s)}return h})(await Er(n),i,t,e)))()}const n=await s;return o.buffer=n,o.start(0),o}return await Ar(r,i,a),a})(r,i)}}}),ls=(t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Ft(r,s),r})(is),us=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),l=r(a),u={...Et,...o},c=e(a,l?null:t.baseLatency,u);super(t,!1,c,l?n(u.feedback,u.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw At();return e.call(t,n,s,r)})})(c),this._nativeIIRFilterNode=c,i(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Ue,ls,as,Ee,Ne,Nn),cs=((t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:f,positionX:p,positionY:m,positionZ:g,upX:_,upY:v,upZ:y}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),f=o(u);let p=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const _=()=>{if(p)return;p=!0;const t=s(u,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[i(t,h,0),i(t,h,1),i(t,h,2),i(t,h,3),i(t,h,4),i(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(c.setOrientation(...e),m=e);const n=[i(t,h,6),i(t,h,7),i(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(c.setPosition(...n),g=n)},d.connect(t)},v=t=>e=>{e!==m[t]&&(m[t]=e,c.setOrientation(...m))},y=t=>e=>{e!==g[t]&&(g[t]=e,c.setPosition(...g))},b=(e,s,i)=>{const o=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});o.connect(d,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>s});const c=t({context:l},f,o.offset,N,P);var h,p,m,g,v,y,b;return a(c,"value",(t=>()=>t.call(c)),(t=>e=>{try{t.call(c,e)}catch(t){if(9!==t.code)throw t}_(),f&&i(e)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,f?()=>{throw r()}:(...t)=>{const e=h.apply(c,t);return _(),e}),c.cancelScheduledValues=(p=c.cancelScheduledValues,f?()=>{throw r()}:(...t)=>{const e=p.apply(c,t);return _(),e}),c.exponentialRampToValueAtTime=(m=c.exponentialRampToValueAtTime,f?()=>{throw r()}:(...t)=>{const e=m.apply(c,t);return _(),e}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,f?()=>{throw r()}:(...t)=>{const e=g.apply(c,t);return _(),e}),c.setTargetAtTime=(v=c.setTargetAtTime,f?()=>{throw r()}:(...t)=>{const e=v.apply(c,t);return _(),e}),c.setValueAtTime=(y=c.setValueAtTime,f?()=>{throw r()}:(...t)=>{const e=y.apply(c,t);return _(),e}),c.setValueCurveAtTime=(b=c.setValueCurveAtTime,f?()=>{throw r()}:(...t)=>{const e=b.apply(c,t);return _(),e}),c};return{forwardX:b(0,0,v(0)),forwardY:b(1,0,v(1)),forwardZ:b(2,-1,v(2)),positionX:b(6,0,y(0)),positionY:b(7,0,y(1)),positionZ:b(8,0,y(2)),upX:b(3,0,v(3)),upY:b(4,1,v(4)),upZ:b(5,0,v(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return f},get positionX(){return p},get positionY(){return m},get positionZ(){return g},get upX(){return _},get upY(){return v},get upZ(){return y}}})(Dn,zn,Gn,Gt,Qt,ee,Ne,se),hs=new WeakMap,ds=((t,e,n,s,r,i)=>class extends n{constructor(n,i){super(n),this._nativeContext=n,h.set(this,n),s(n)&&r.set(n,new Set),this._destination=new t(this,i),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?i(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(In,cs,je,Ne,hs,he),fs=((t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return Ft(l,a),Pt(l,a,"detune"),Pt(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Rt(l,a,"type"),e(n,(()=>n(o)))||Nt(l),e(s,(()=>s(o)))||i(l,o),e(r,(()=>r(o)))||qt(l),t(o,l),l})(Sn,_e,ie,oe,ae,ce),ps=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(u,c){const h=i.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=D(h,c);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=e(c,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return i.set(c,h),d?(await t(c,u.detune,h.detune),await t(c,u.frequency,h.frequency)):(await s(c,u.detune,h.detune),await s(c,u.frequency,h.frequency)),await r(u,c,h),h})(u,c)}}})(Cn,fs,tt,En,Ce),ms=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),l={...Yt,...o},u=n(a,l),c=i(a),h=c?s():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,c,u.detune,153600,-153600),this._frequency=e(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),q(this)&&A(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Ue,Dn,fs,ps,Ee,Ne,he),gs=(t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(An),_s=(yr=gs,br=Ct,xr=Bt,wr=ne,kr=jn,(t,{curve:e,oversample:n,...s})=>{const r=t.createWaveShaper(),i=t.createWaveShaper();Ft(r,s),Ft(i,s);const o=xr(t,{...s,gain:1}),a=xr(t,{...s,gain:-1}),l=xr(t,{...s,gain:1}),u=xr(t,{...s,gain:-1});let c=null,h=!1,d=null;const f={get bufferSize(){},get channelCount(){return r.channelCount},set channelCount(t){o.channelCount=t,a.channelCount=t,r.channelCount=t,l.channelCount=t,i.channelCount=t,u.channelCount=t},get channelCountMode(){return r.channelCountMode},set channelCountMode(t){o.channelCountMode=t,a.channelCountMode=t,r.channelCountMode=t,l.channelCountMode=t,i.channelCountMode=t,u.channelCountMode=t},get channelInterpretation(){return r.channelInterpretation},set channelInterpretation(t){o.channelInterpretation=t,a.channelInterpretation=t,r.channelInterpretation=t,l.channelInterpretation=t,i.channelInterpretation=t,u.channelInterpretation=t},get context(){return r.context},get curve(){return d},set curve(e){if(null!==e&&e.length<2)throw br();if(null===e)r.curve=e,i.curve=e;else{const t=e.length,n=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);n[0]=e[0],s[0]=-e[t-1];const o=Math.ceil((t+1)/2),a=(t+1)/2-1;for(let r=1;r<o;r+=1){const i=r/o*a,l=Math.floor(i),u=Math.ceil(i);n[r]=l===u?e[l]:(1-(i-l))*e[l]+(1-(u-i))*e[u],s[r]=l===u?-e[t-1-l]:-(1-(i-l))*e[t-1-l]-(1-(u-i))*e[t-1-u]}n[o]=t%2==1?e[o-1]:(e[o-2]+e[o-1])/2,r.curve=n,i.curve=s}d=e,h&&(wr(d)&&null===c?c=yr(t,o):null!==c&&(c(),c=null))},get inputs(){return[o]},get numberOfInputs(){return r.numberOfInputs},get numberOfOutputs(){return r.numberOfOutputs},get oversample(){return r.oversample},set oversample(t){r.oversample=t,i.oversample=t},addEventListener:(...t)=>o.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>o.dispatchEvent(t[0]),removeEventListener:(...t)=>o.removeEventListener(t[0],t[1],t[2])};return null!==e&&(f.curve=e instanceof Float32Array?e:new Float32Array(e)),n!==f.oversample&&(f.oversample=n),kr(Lt(f,l),(()=>{o.connect(r).connect(l),o.connect(a).connect(i).connect(u).connect(l),h=!0,wr(d)&&(c=yr(t,o))}),(()=>{o.disconnect(r),r.disconnect(l),o.disconnect(a),a.disconnect(i),i.disconnect(u),u.disconnect(l),h=!1,null!==c&&(c(),c=null)}))}),vs=((t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Ft(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw e();Rt(u,{curve:c},"curve"),Rt(u,l,"oversample");let h=null,d=!1;return o(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(s(n)&&null===h?h=t(a,u):s(n)||null===h||(h(),h=null)),n))),r(u,(()=>{d=!0,s(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(gs,Ct,_s,ne,jn,Ve,se),ys=((t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:g,orientationY:_,orientationZ:v,panningModel:y,positionX:b,positionY:x,positionZ:w,refDistance:k,rolloffFactor:S,...T})=>{const C=c.createPanner();if(T.channelCount>2)throw o();if("max"===T.channelCountMode)throw o();Ft(C,T);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(c,{...A,channelInterpretation:"speakers",numberOfInputs:6}),O=s(c,{...T,gain:1}),D=s(c,{...A,gain:1}),M=s(c,{...A,gain:0}),R=s(c,{...A,gain:0}),F=s(c,{...A,gain:0}),I=s(c,{...A,gain:0}),P=s(c,{...A,gain:0}),N=r(c,256,6,1),q=i(c,{...A,curve:new Float32Array([1,1]),oversample:"none"});let j=[g,_,v],V=[b,x,w];const z=new Float32Array(1);N.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,z,0),l(t,z,1),l(t,z,2)];e.some(((t,e)=>t!==j[e]))&&(C.setOrientation(...e),j=e);const n=[l(t,z,3),l(t,z,4),l(t,z,5)];n.some(((t,e)=>t!==V[e]))&&(C.setPosition(...n),V=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const L={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(t){if(t>2)throw o();O.channelCount=t,C.channelCount=t},get channelCountMode(){return C.channelCountMode},set channelCountMode(t){if("max"===t)throw o();O.channelCountMode=t,C.channelCountMode=t},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,C.channelInterpretation=t},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(t){C.coneInnerAngle=t},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(t){C.coneOuterAngle=t},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();C.coneOuterGain=t},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(t){C.distanceModel=t},get inputs(){return[O]},get maxDistance(){return C.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;C.maxDistance=t},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return M.gain},get orientationZ(){return R.gain},get panningModel(){return C.panningModel},set panningModel(t){C.panningModel=t},get positionX(){return F.gain},get positionY(){return I.gain},get positionZ(){return P.gain},get refDistance(){return C.refDistance},set refDistance(t){if(t<0)throw new RangeError;C.refDistance=t},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;C.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return h!==L.coneInnerAngle&&(L.coneInnerAngle=h),d!==L.coneOuterAngle&&(L.coneOuterAngle=d),f!==L.coneOuterGain&&(L.coneOuterGain=f),p!==L.distanceModel&&(L.distanceModel=p),m!==L.maxDistance&&(L.maxDistance=m),g!==L.orientationX.value&&(L.orientationX.value=g),_!==L.orientationY.value&&(L.orientationY.value=_),v!==L.orientationZ.value&&(L.orientationZ.value=v),y!==L.panningModel&&(L.panningModel=y),b!==L.positionX.value&&(L.positionX.value=b),x!==L.positionY.value&&(L.positionY.value=x),w!==L.positionZ.value&&(L.positionZ.value=w),k!==L.refDistance&&(L.refDistance=k),S!==L.rolloffFactor&&(L.rolloffFactor=S),1===j[0]&&0===j[1]&&0===j[2]||C.setOrientation(...j),0===V[0]&&0===V[1]&&0===V[2]||C.setPosition(...V),u(Lt(L,C),(()=>{O.connect(C),t(O,q,0,0),q.connect(D).connect(E,0,0),q.connect(M).connect(E,0,1),q.connect(R).connect(E,0,2),q.connect(F).connect(E,0,3),q.connect(I).connect(E,0,4),q.connect(P).connect(E,0,5),E.connect(N).connect(c.destination)}),(()=>{O.disconnect(C),a(O,q,0,0),q.disconnect(D),D.disconnect(E),q.disconnect(M),M.disconnect(E),q.disconnect(R),R.disconnect(E),q.disconnect(F),F.disconnect(E),q.disconnect(I),I.disconnect(E),q.disconnect(P),P.disconnect(E),E.disconnect(N),N.disconnect(c.destination)}))})(Y,Ct,zn,Bt,Gt,vs,Qt,J,ee,jn),bs=(t=>(e,n)=>{const s=e.createPanner();return void 0===s.orientationX?t(e,n):(Ft(s,n),Pt(s,n,"orientationX"),Pt(s,n,"orientationY"),Pt(s,n,"orientationZ"),Pt(s,n,"positionX"),Pt(s,n,"positionY"),Pt(s,n,"positionZ"),Rt(s,n,"coneInnerAngle"),Rt(s,n,"coneOuterAngle"),Rt(s,n,"coneOuterGain"),Rt(s,n,"distanceModel"),Rt(s,n,"maxDistance"),Rt(s,n,"panningModel"),Rt(s,n,"refDistance"),Rt(s,n,"rolloffFactor"),s)})(ys),xs=((t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,f){const p=c.get(f);return void 0!==p?Promise.resolve(p):(async(d,f)=>{let p=null,m=i(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},_={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},v=D(m,f);if("bufferSize"in m)p=s(f,{...g,gain:1});else if(!v){const t={..._,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(f,t)}if(c.set(f,null===p?m:p),null!==p){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,f.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,s)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,r.offset),r})));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return u(t)})()}const t=await h,i=s(f,{...g,gain:1});await l(d,f,i);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let m=[c[0][0],c[1][0],c[2][0]],v=[c[3][0],c[4][0],c[5][0]],y=s(f,{...g,gain:1}),b=r(f,{..._,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]});i.connect(y).connect(b.inputs[0]),b.connect(p);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==v[e]))){m=t,v=n;const o=e/f.sampleRate;y.gain.setValueAtTime(0,o),y=s(f,{...g,gain:0}),b=r(f,{..._,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]}),y.gain.setValueAtTime(1,o),i.connect(y).connect(b.inputs[0]),b.connect(p)}}return p}return v?(await t(f,d.orientationX,m.orientationX),await t(f,d.orientationY,m.orientationY),await t(f,d.orientationZ,m.orientationZ),await t(f,d.positionX,m.positionX),await t(f,d.positionY,m.positionY),await t(f,d.positionZ,m.positionZ)):(await a(f,d.orientationX,m.orientationX),await a(f,d.orientationY,m.orientationY),await a(f,d.orientationZ,m.orientationZ),await a(f,d.positionX,m.positionX),await a(f,d.positionY,m.positionY),await a(f,d.positionZ,m.positionZ)),H(m)?await l(d,f,m.inputs[0]):await l(d,f,m),m})(d,f)}}})(Cn,zn,Gn,Bt,bs,tt,Pe,En,Ce,os),ws=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const l=r(t),u={...Xt,...a},c=n(l,u),h=i(l);super(t,!1,c,h?s():null),this._nativePannerNode=c,this._orientationX=e(this,h,c.orientationX,N,P),this._orientationY=e(this,h,c.orientationY,N,P),this._orientationZ=e(this,h,c.orientationZ,N,P),this._positionX=e(this,h,c.positionX,N,P),this._positionY=e(this,h,c.positionY,N,P),this._positionZ=e(this,h,c.positionZ,N,P),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Ue,Dn,bs,xs,Ee,Ne,Nn),ks=(t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(R),Ss=(gr=ks,_r=Ee,vr=new WeakSet,class t{constructor(t,e){const n=_r(t),s=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Zt,...e}),r=gr(n,s);return vr.add(r),r}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===t.prototype||vr.has(e)}}),Ts=((t,e,n,s,r,i)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(t,i,h,d,f)=>{if(1===i)return((t,e,r,i)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*l;h[t]=Math.cos(e),d[t]=Math.sin(e)}const f=n(t,{...u,gain:0}),p=s(t,{...c,curve:h}),m=s(t,{...c,curve:a}),g=n(t,{...u,gain:0}),_=s(t,{...c,curve:d});return{connectGraph(){e.connect(f),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===_.inputs?_:_.inputs[0]),p.connect(f.gain),_.connect(g.gain),f.connect(i,0,0),g.connect(i,0,1)},disconnectGraph(){e.disconnect(f),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===_.inputs?_:_.inputs[0]),p.disconnect(f.gain),_.disconnect(g.gain),f.disconnect(i,0,0),g.disconnect(i,0,1)}}})(t,h,d,f);if(2===i)return((t,r,i,h)=>{const d=new Float32Array(o),f=new Float32Array(o),p=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),f[t]=Math.sin(e),p[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,f[t]=0,p[t]=Math.cos(e),m[t]=Math.sin(e)}const _=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...u,gain:0}),y=s(t,{...c,curve:d}),b=n(t,{...u,gain:0}),x=s(t,{...c,curve:f}),w=s(t,{...c,curve:a}),k=n(t,{...u,gain:0}),S=s(t,{...c,curve:p}),T=n(t,{...u,gain:0}),C=s(t,{...c,curve:m});return{connectGraph(){r.connect(_),r.connect(void 0===w.inputs?w:w.inputs[0]),_.connect(v,0),_.connect(b,0),_.connect(k,1),_.connect(T,1),w.connect(i),i.connect(void 0===y.inputs?y:y.inputs[0]),i.connect(void 0===x.inputs?x:x.inputs[0]),i.connect(void 0===S.inputs?S:S.inputs[0]),i.connect(void 0===C.inputs?C:C.inputs[0]),y.connect(v.gain),x.connect(b.gain),S.connect(k.gain),C.connect(T.gain),v.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){r.disconnect(_),r.disconnect(void 0===w.inputs?w:w.inputs[0]),_.disconnect(v,0),_.disconnect(b,0),_.disconnect(k,1),_.disconnect(T,1),w.disconnect(i),i.disconnect(void 0===y.inputs?y:y.inputs[0]),i.disconnect(void 0===x.inputs?x:x.inputs[0]),i.disconnect(void 0===S.inputs?S:S.inputs[0]),i.disconnect(void 0===C.inputs?C:C.inputs[0]),y.disconnect(v.gain),x.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),v.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,d,f);throw r()};return(e,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw r();const u=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),c=n(e,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:f,disconnectGraph:p}=h(e,s,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount!==t&&(g&&p(),({connectGraph:f,disconnectGraph:p}=h(e,t,c,d,u)),g&&f()),c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2])};let g=!1;return i(Lt(m,u),(()=>{f(),g=!0}),(()=>{p(),g=!1}))}})(zn,zt,Bt,vs,Qt,jn),Cs=((t,e)=>(n,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,s);const i=n.createStereoPanner();return Ft(i,s),Pt(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:t=>{if(t!==r)throw e()}}),i})(Ts,Qt),As=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=D(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return i.set(a,l),u?await t(a,o.pan,l.pan):await s(a,o.pan,l.pan),H(l)?await r(o,a,l.inputs[0]):await r(o,a,l),l})(o,a)}}})(Cn,Cs,tt,En,Ce),Es=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),l={...Kt,...o},u=n(a,l),c=i(a);super(t,!1,u,c?s():null),this._pan=e(this,c,u.pan)}get pan(){return this._pan}})(Ue,Dn,Cs,As,Ee,Ne),Os=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i){const o=s.get(i);return void 0!==o?Promise.resolve(o):(async(r,i)=>{let o=e(r);if(!D(o,i)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(i,e)}return s.set(i,o),H(o)?await n(r,i,o.inputs[0]):await n(r,i,o),o})(r,i)}}})(vs,tt,Ce),Ds=((t,e,n,s,r,i,o)=>class extends t{constructor(t,e){const a=r(t),l={...te,...e},u=n(a,l);super(t,!0,u,i(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Ue,Ct,vs,Os,Ee,Ne,Nn),Ms=(t=>null!==t&&t.isSecureContext)(ke),Rs=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(ke),Fs=new WeakMap,Is=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s})(Fs,Pe),Ps=Ms?((t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let f=0;return(m,g,_={credentials:"omit"})=>{const x=c.get(m);if(void 0!==x&&x.has(g))return Promise.resolve();const w=u.get(m);if(void 0!==w){const t=w.get(g);if(void 0!==t)return t}const k=i(m),S=void 0===k.audioWorklet?r(g).then((([t,e])=>{const[s,r]=v(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;s(k.currentTime,k.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const s=p.get(k);if(void 0!==s){if(s.has(t))throw e();b(n),y(n.parameterDescriptors),s.set(t,n)}else b(n),y(n.parameterDescriptors),p.set(k,new Map([[t,n]]))}),k.sampleRate,void 0,void 0)))})):Promise.all([r(g),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const s=f+1;f=s;const[r,i]=v(t,e),u=new Blob([`${r};((AudioWorkletProcessor,registerProcessor)=>{${i}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(u);return k.audioWorklet.addModule(c,_).then((()=>{if(a(k))return k;const t=o(k);return t.audioWorklet.addModule(c,_).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${s}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(c)))}));return void 0===w?u.set(m,new Map([[g,S]])):w.set(g,S),S.then((()=>{const t=c.get(m);void 0===t?c.set(m,new Set([g])):t.add(g)})).finally((()=>{const t=u.get(m);void 0!==t&&t.delete(g)})),S}})(_e,Qt,(t=>e=>new Promise(((n,s)=>{if(null===t)return void s(new SyntaxError);const r=t.document.head;if(null===r)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,r,i,o)=>n===a||n===t.location.href&&1===r&&1===i?(u(),s(o),!1):null!==l?l(e,n,r,i,o):void 0,i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}})))(ke),Rs,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),Ee,Is,Ne,Be,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>i=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o})(Be,Pe),ke):void 0,Ns=((t,e)=>n=>t(n)||e(n))(ze,Ne),qs=((t,e,n,s,r,i,o,a,l,u,c)=>(n,s)=>{const h=o(n)?n:i(n);if(r.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{r.add(s)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(s).then((n=>(xt(s).catch((()=>{})),e(a,(()=>a(n)))||c(n),t.add(n),n))):new Promise(((e,n)=>{const r=async()=>{try{await xt(s)}catch{}},i=t=>{n(t),r()};try{h.decodeAudioData(s,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),F(n)),t.add(n),r().then((()=>e(n)))}),(t=>{i(null===t?new DOMException("","EncodingError"):t)}))}catch(t){i(t)}}))})(hn,_e,0,0,new WeakSet,Ee,Ns,M,Mt,xn,wn),js=((t,e,n,s,r,i,o,a,l,u,c,h,d,f,p,m,g,_,v,y)=>class extends p{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new i(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new c(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new f(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new _(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(Ps,cn,kn,Fn,qn,Wn,Un,Hn,Zn,qs,Jn,ns,rs,us,ds,ms,ws,Ss,Es,Ds),Vs=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t),i=((t,e)=>t.createMediaElementSource(e.mediaElement))(r,e);if(s(r))throw TypeError();super(t,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ue,0,Ee,Ne),zs=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t);if(s(r))throw new TypeError;const i=((t,e)=>{const n=t.createMediaStreamDestination();return Ft(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(r,{...Dt,...e});super(t,!1,i,null),this._nativeMediaStreamAudioDestinationNode=i}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ue,0,Ee,Ne),Ls=(fr=Ue,pr=Ee,mr=Ne,class extends fr{constructor(t,e){const n=pr(t),s=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r})(n,e);if(mr(n))throw new TypeError;super(t,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}}),Ws=((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return i})(Ct,Ne),Bs=((t,e,n)=>class extends t{constructor(t,s){const r=n(t);super(t,!0,e(r,s),null)}})(Ue,Ws,Ee),Us=((t,e,n,s,r,i,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:i}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===r?512/i:"interactive"===r||void 0===r?256/i:"playback"===r?1024/i:128*Math.max(2,Math.min(128,Math.round(r*i/128)))/i,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)})))}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(js,Ct,Qt,Jt,Vs,zs,Ls,Bs,Ve),$s=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(hs),Gs=(t=>(e,n)=>{t(e).add(n)})($s),Qs=(t=>(e,n,s=0,r=0)=>{const i=e[s];if(void 0===i)throw t();return ot(n)?i.connect(n,0,r):i.connect(n,0)})(R),Hs=(t=>(e,n)=>{t(e).delete(n)})($s),Ys=(dr=R,(t,e,n,s=0)=>void 0===e?t.forEach((t=>t.disconnect())):"number"==typeof e?kt(dr,t,e).disconnect():ot(e)?void 0===n?t.forEach((t=>t.disconnect(e))):void 0===s?kt(dr,t,n).disconnect(e,0):kt(dr,t,n).disconnect(e,0,s):void 0===n?t.forEach((t=>t.disconnect(e))):kt(dr,t,n).disconnect(e,0)),Xs=new WeakMap,Zs=((t,e)=>n=>e(t,n))(Xs,x),Ks=((t,e,n,s,r,i,o,a,l,u,c,h,d)=>(f,p,g,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw l();const v=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(v.some((t=>t<1)))throw l();if(v.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw l();const y=_.channelCount*_.numberOfInputs,b=v.reduce(((t,e)=>t+e),0),x=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(y+x>6||b>6)throw l();const w=new MessageChannel,k=[],S=[];for(let t=0;t<_.numberOfInputs;t+=1)k.push(o(f,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),S.push(r(f,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const T=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of g.parameterDescriptors){const r=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[s]?_.parameterData[s]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?N:e},minValue:{get:()=>void 0===n?P:n}}),T.push(r)}const C=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+x)}),A=jt(p,f.sampleRate),E=a(f,A,y+x,Math.max(1,b)),O=r(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),D=[];for(let t=0;t<_.numberOfOutputs;t+=1)D.push(s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[t]}));for(let t=0;t<_.numberOfInputs;t+=1){k[t].connect(S[t]);for(let e=0;e<_.channelCount;e+=1)S[t].connect(C,e,t*_.channelCount+e)}const M=new ct(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map((({name:t},e)=>{const n=T[e];return n.connect(C,0,y+e),n.start(0),[t,n.offset]})));C.connect(E);let R=_.channelInterpretation,F=null;const I=0===_.numberOfOutputs?[E]:D,q={get bufferSize(){return A},get channelCount(){return _.channelCount},set channelCount(t){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return R},set channelInterpretation(t){for(const e of k)e.channelInterpretation=t;R=t},get context(){return E.context},get inputs(){return k},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(t){"function"==typeof F&&q.removeEventListener("processorerror",F),F="function"==typeof t?t:null,"function"==typeof F&&q.addEventListener("processorerror",F)},get parameters(){return M},get port(){return w.port2},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,I),disconnect:u.bind(null,I),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])},j=new Map;var V,z;w.port1.addEventListener=(V=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=j.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{c(f.currentTime,f.sampleRate,(()=>e(t)))},j.set(e,t[1]))}}return V.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(z=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=j.get(t[1]);void 0!==e&&(j.delete(t[1]),t[1]=e)}return z.call(w.port1,t[0],t[1],t[2])});let L=null;Object.defineProperty(w.port1,"onmessage",{get:()=>L,set:t=>{"function"==typeof L&&w.port1.removeEventListener("message",L),L="function"==typeof t?t:null,"function"==typeof L&&(w.port1.addEventListener("message",L),w.port1.start())}}),g.prototype.port=w.port1;let W=null;const B=((t,e,n,s)=>{let r=m.get(t);void 0===r&&(r=new WeakMap,m.set(t,r));const i=(async(t,e)=>{const n=await(s=e,new Promise(((t,e)=>{const{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:e})=>{n.close(),r.close(),t(e)},n.onmessageerror=({data:t})=>{n.close(),r.close(),e(t)},r.postMessage(s)})));var s;return new t(n)})(n,s);return r.set(e,i),i})(f,q,g,_);B.then((t=>W=t));const U=pt(_.numberOfInputs,_.channelCount),$=pt(_.numberOfOutputs,v),G=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let Q=!0;const H=()=>{_.numberOfOutputs>0&&E.disconnect(O);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=D[t];for(let s=0;s<v[t];s+=1)O.disconnect(n,e+s,s);e+=v[t]}},Y=new Map;E.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==W){const n=h(q);for(let s=0;s<A;s+=128){for(let e=0;e<_.numberOfInputs;e+=1)for(let n=0;n<_.channelCount;n+=1)dt(t,U[e],n,n,s);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach((({name:e},n)=>{dt(t,G,e,y+n,s)}));for(let t=0;t<_.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===$[t][e].byteLength&&($[t][e]=new Float32Array(128));try{const t=U.map(((t,e)=>{if(n[e].size>0)return Y.set(e,A/128),t;const s=Y.get(e);return void 0===s?[]:(t.every((t=>t.every((t=>0===t))))&&(1===s?Y.delete(e):Y.set(e,s-1)),t)})),r=c(f.currentTime+s/f.sampleRate,f.sampleRate,(()=>W.process(t,$,G)));Q=r;for(let t=0,n=0;t<_.numberOfOutputs;t+=1){for(let r=0;r<v[t];r+=1)ft(e,$[t],r,n+r,s);n+=v[t]}}catch(t){Q=!1,q.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!Q){for(let t=0;t<_.numberOfInputs;t+=1){k[t].disconnect(S[t]);for(let e=0;e<_.channelCount;e+=1)S[s].disconnect(C,e,t*_.channelCount+e)}if(void 0!==g.parameterDescriptors){const t=g.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=T[e];t.disconnect(C,0,y+e),t.stop()}}C.disconnect(E),E.onaudioprocess=null,X?H():J();break}}}};let X=!1;const Z=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),K=()=>E.connect(Z).connect(f.destination),J=()=>{E.disconnect(Z),Z.disconnect()};return K(),d(q,(()=>{if(Q){J(),_.numberOfOutputs>0&&E.connect(O);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=D[t];for(let s=0;s<v[t];s+=1)O.connect(n,e+s,s);e+=v[t]}}X=!0}),(()=>{Q&&(K(),H()),X=!1}))})(Qs,R,Ct,zn,zt,Gn,Bt,Gt,Qt,Ys,Rs,Zs,jn),Js=((t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(null!==a)try{const e=new a(i,l,c),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==c.numberOfOutputs){const t=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(i.destination),r(e,(()=>t.disconnect()),(()=>t.connect(i.destination)))}return e}catch(t){if(11===t.code)throw s();throw t}var h,d;if(void 0===u)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(c),e(i,o,u,c)})(Ct,Ks,Bt,Qt,jn),tr=((t,e,n,s,r,i,o,a,l,u,c,h,d,f,p,m)=>(g,_,v)=>{const y=new WeakMap;let b=null;return{render(x,w){a(w,x);const k=y.get(w);return void 0!==k?Promise.resolve(k):(async(a,x)=>{let w=c(a),k=null;const S=D(w,x),T=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const t=T.reduce(((t,e)=>t+e),0),n=r(x,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),i=[];for(let t=0;t<a.numberOfOutputs;t+=1)i.push(s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[t]}));const u=o(x,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});u.connect=e.bind(null,i),u.disconnect=l.bind(null,i),k=[n,i,u]}else S||(w=new h(x,g));if(y.set(x,null===k?w:k[2]),null!==k){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),x.sampleRate),u=[],c=[];for(let t=0;t<_.numberOfInputs;t+=1)u.push(o(l,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),c.push(r(l,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await f(l,t,e.offset),e}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<_.numberOfInputs;t+=1){u[t].connect(c[t]);for(let e=0;e<_.channelCount;e+=1)c[t].connect(g,e,t*_.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(u.map((t=>p(a,l,t)))),m(l)};b=mt(a,0===n?null:await l(),x,_,T,v,u)}const t=await b,e=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=c[t];for(let s=0;s<T[t];s+=1)l.connect(n,e+s,s);e+=T[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(x,n,w.parameters.get(e));else for(const[t,e]of a.parameters.entries())await f(x,e,w.parameters.get(t));return await p(a,x,w),w})(x,w)}}})(Cn,Qs,An,zn,zt,Gn,Bt,Hs,Ys,Rs,tt,Be,Pe,En,Ce,os),er=(t=>e=>t.get(e))(Fs),nr=(t=>(e,n)=>{t.set(e,n)})(Xs),sr=Ms?((t,e,n,s,r,i,o,a,l,u,c,h,d,f)=>class extends e{constructor(e,c,d){var f;const m=a(e),g=l(m),_=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...ht,...d});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(_);const v=p.get(m),y=null==v?void 0:v.get(c),b=g||"closed"!==m.state?m:null!==(f=o(m))&&void 0!==f?f:m,x=r(b,g?null:e.baseLatency,u,c,y,_);super(e,!0,x,g?s(c,_,y):null);const w=[];x.parameters.forEach(((t,e)=>{const s=n(this,g,t);w.push([e,s])})),this._nativeAudioWorkletNode=x,this._onprocessorerror=null,this._parameters=new ct(w),g&&t(m,this);const{activeInputs:k}=i(this);h(x,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?f(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Gs,Ue,Dn,tr,Js,V,er,Ee,Ne,Be,0,nr,0,he):void 0,rr=((t,e)=>(n,s,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Qt,Pe),ir=((t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(s(u)).map((t=>n(t).render(t,u)))))).then((()=>r(u))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),F(n)):e(i,(()=>i(n)))||a(n),t.add(n),n))))(hn,_e,Te,$s,os,M,xn,wn),or=((t,e,n,s,r)=>class extends t{constructor(t,n,r){let i;if("number"==typeof t&&void 0!==n&&void 0!==r)i={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");i=t}const{length:o,numberOfChannels:a,sampleRate:l}={...Ht,...i},u=s(a,o,l);e(Mt,(()=>Mt(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,W(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(js,_e,Ct,rr,ir),ar=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(h,ze),lr=((t,e)=>n=>t.has(n)||e(n))(l,Le),ur=((t,e)=>n=>t.has(n)||e(n))(c,We),cr=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(h,Ne),hr=()=>{return(async(t,e,n,s,r,i,o,a,l,u,c,h,d,f,p,m)=>!!(t(e,e)&&t(n,n)&&t(r,r)&&t(i,i)&&t(a,a)&&t(l,l)&&t(u,u)&&t(c,c)&&t(h,h)&&t(d,d)&&t(f,f))&&(await Promise.all([t(s,s),t(o,o),t(p,p),t(m,m)])).every((t=>t)))(_e,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(Pe),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(Ve),(s=Pe,()=>{if(null===s)return Promise.resolve(!1);const t=new s(1,1,44100);return new Promise((e=>{let n=!0;const s=s=>{n&&(n=!1,t.startRendering(),e(s instanceof TypeError))};let r;try{r=t.decodeAudioData(null,(()=>{}),s)}catch(t){s(t)}void 0!==r&&r.catch(s)}))}),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(Ve),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Pe),(e=Be,n=Pe,async()=>{if(null===e)return!0;if(null===n)return!1;const t=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,r=new n(1,128,44100),i=URL.createObjectURL(t);let o=!1;try{await r.audioWorklet.addModule(i);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();await new Promise((e=>{t.port.onmessage=()=>e(),t.port.postMessage(s.port2,[s.port2])})),t.port.onmessage=()=>o=!0,n.connect(t),n.start(0),await r.startRendering(),o=await new Promise((t=>{s.port1.onmessage=({data:e})=>t(1===e),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(i)}return o}),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Pe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);return void 0===e.createConstantSource||e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Pe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(Pe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Pe),le,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(ke),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}finally{e.close()}})(Ve),(t=Pe,()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),s=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(e.destination),e.startRendering().then((t=>1!==t.getChannelData(0)[0]))}),ue);var t,e,n,s};var dr,fr,pr,mr,gr,_r,vr,yr,br,xr,wr,kr,Sr,Tr,Cr,Ar,Er,Or,Dr,Mr,Rr,Fr,Ir,Pr,Nr,qr,jr;function Vr(t){return void 0===t}function zr(t){return!Vr(t)}function Lr(t){return"function"==typeof t}function Wr(t){return"number"==typeof t}function Br(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Ur(t){return"boolean"==typeof t}function $r(t){return Array.isArray(t)}function Gr(t){return"string"==typeof t}function Qr(t){return Gr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Hr(t,e){if(!t)throw new Error(e)}function Yr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Xr(t){t.isOffline||"running"===t.state||ri('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Zr=!1,Kr=!1;function Jr(t){Zr=t}function ti(t){Vr(t)&&Zr&&!Kr&&(Kr=!0,ri("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let ei=console;function ni(t){ei=t}function si(...t){ei.log(...t)}function ri(...t){ei.warn(...t)}const ii="object"==typeof self?self:null,oi=ii&&(ii.hasOwnProperty("AudioContext")||ii.hasOwnProperty("webkitAudioContext"));function ai(t,e,n,s){var r,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function li(t,e,n,s){return new(n||(n=Promise))((function(r,i){function o(t){try{l(s.next(t))}catch(t){i(t)}}function a(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((s=s.apply(t,e||[])).next())}))}Object.create,Object.create;class ui{constructor(t,e,n,s){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),"worker"===this._type&&(null===(e=this._worker)||void 0===e||e.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ci(t){return ur(t)}function hi(t){return lr(t)}function di(t){return cr(t)}function fi(t){return ar(t)}function pi(t,e){return"value"===t||ci(e)||hi(e)||function(t){return t instanceof kn}(e)}function mi(t,...e){if(!e.length)return t;const n=e.shift();if(Br(t)&&Br(n))for(const e in n)pi(e,n[e])?t[e]=n[e]:Br(n[e])?(t[e]||Object.assign(t,{[e]:{}}),mi(t[e],n[e])):Object.assign(t,{[e]:n[e]});return mi(t,...e)}function gi(t,e,n=[],s){const r={},i=Array.from(e);if(Br(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some((e=>Reflect.has(t,e)))||(mi(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),1===i.length&&Br(i[0]))mi(r,i[0]);else for(let t=0;t<n.length;t++)zr(i[t])&&(r[n[t]]=i[t]);return mi(t,r)}function _i(t,e){return Vr(t)?e:t}function vi(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class yi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||ii&&this.toString()===ii.TONE_DEBUG_CLASS)&&si(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}yi.version=r;const bi=1e-6;function xi(t,e){return t>e+bi}function wi(t,e){return xi(t,e)||Si(t,e)}function ki(t,e){return t+bi<e}function Si(t,e){return Math.abs(t-e)<bi}function Ti(t,e,n){return Math.max(Math.min(t,n),e)}class Ci extends yi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=gi(Ci.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Hr(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Hr(wi(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Si(this._timeline[e].time,t)){for(let n=e;n>=0&&Si(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&wi(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<r;){let s=Math.floor(n+(r-n)/2);const i=this._timeline[s],o=this._timeline[s+1];if(Si(i[e],t)){for(let n=s;n<this._timeline.length&&Si(this._timeline[n][e],t);n++)s=n;return s}if(ki(i[e],t)&&xi(o[e],t))return s;xi(i[e],t)?r=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),r=this._search(e);return-1!==s&&-1!==r?(this._timeline[s].time!==t&&(s+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,s,r)):-1===s&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Si(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&Si(this._timeline[e].time,t);e--)s=e;this._iterate((t=>{e(t)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ai=[];function Ei(t){Ai.push(t)}const Oi=[];function Di(t){Oi.push(t)}class Mi extends yi{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Vr(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((t=>{if(Vr(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Vr(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(Mi.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Ri extends Mi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Fi extends Ri{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ci,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletPromise=null;const n=gi(Fi.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(t=arguments[0])||void 0===t?void 0:t.latencyHint)||""):(this._context=function(t){return new Us(t)}({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new ui(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(e=arguments[0])||void 0===e?void 0:e.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Ai.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Hr(fi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Hr(fi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Hr(fi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Hr(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Hr(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Hr(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Hr(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Hr(zr(sr),"This node only works in a secure context (https or localhost)"),new sr(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t){return li(this,void 0,void 0,(function*(){Hr(zr(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise}))}workletsAreReady(){return li(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return fi(this._context)?this._context.resume():Promise.resolve()}close(){return li(this,void 0,void 0,(function*(){var t;fi(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Oi.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:r+e})};return s(),n}}function Ii(t,e){$r(e)?e.forEach((e=>Ii(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Pi(t,e){$r(e)?e.forEach((e=>Pi(t,e))):Object.defineProperty(t,e,{writable:!0})}const Ni=()=>{};class qi extends yi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ni;const t=gi(qi.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Gr(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Ni,onload:Ni,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Li().sampleRate}set(t){return t instanceof qi?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return li(this,void 0,void 0,(function*(){const e=qi.load(t).then((t=>{this.set(t),this.onload(this)}));qi.downloads.push(e);try{yield e}finally{const t=qi.downloads.indexOf(e);qi.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=$r(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,r=Li(),i=r.createBuffer(n,s,r.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)i.copyToChannel(o[t],t);return this._buffer=i,this}toMono(t){if(Wr(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Wr(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){Hr(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);Hr(n<s,"The start time must be less than the end time");const r=s-n,i=Li().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)i.copyToChannel(this.getChannelData(t).subarray(n,s),t);return new qi(i)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new qi).fromArray(t)}static fromUrl(t){return li(this,void 0,void 0,(function*(){const e=new qi;return yield e.load(t)}))}static load(t){return li(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(qi.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===qi.baseUrl||qi.baseUrl.endsWith("/")?qi.baseUrl:qi.baseUrl+"/",s=document.createElement("a");s.href=n+t,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const r=yield fetch(s.href);if(!r.ok)throw new Error(`could not load url: ${t}`);const i=yield r.arrayBuffer();return yield Li().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return li(this,void 0,void 0,(function*(){for(yield Promise.resolve();qi.downloads.length;)yield qi.downloads[0]}))}}qi.baseUrl="",qi.downloads=[];class ji extends Fi{constructor(){var t,e,n;super({clockSource:"offline",context:di(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new or(t,e,n)),lookAhead:0,updateInterval:di(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=di(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return li(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return li(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new qi(e)}))}close(){return Promise.resolve()}}const Vi=new class extends Ri{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return li(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let zi=Vi;function Li(){return zi===Vi&&oi&&Wi(new Fi),zi}function Wi(t,e=!1){e&&zi.dispose(),zi=fi(t)?new Fi(t):di(t)?new ji(t):t}function Bi(){return zi.resume()}if(ii&&!ii.TONE_SILENCE_LOGGING){let t="v";"dev"===r&&(t="");const e=` * Tone.js ${t}${r} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Ui(t){return Math.pow(10,t/20)}function $i(t){return Math.log(t)/Math.LN10*20}function Gi(t){return Math.pow(2,t/12)}let Qi=440;function Hi(t){return Math.round(Yi(t))}function Yi(t){return 69+12*Math.log2(t/Qi)}function Xi(t){return Qi*Math.pow(2,(t-69)/12)}class Zi extends yi{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Zi&&this.fromType(this._val),Vr(this._val))return this._noArg();if(Gr(this._val)&&Vr(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Br(this._val)){let t=0;for(const e in this._val)if(zr(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(zr(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Gr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Ki extends Zi{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Ki(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],s=new Ki(this.context,e[0]).toSeconds();return e.forEach((e=>{const r=new Ki(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(s-t)&&(n=e,s=r)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=s.toString();return r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Hi(this.toFrequency())}_now(){return this.context.now()}}function Ji(t,e){return new Ki(Li(),t,e)}class to extends Ki{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Qi}static set A4(t){!function(t){Qi=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:to.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const n=eo[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:to.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new to(this.context,this.valueOf()*Gi(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Hi(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/to.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),no[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Xi(t)}static ftom(t){return Hi(t)}}const eo={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},no=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function so(t,e){return new to(Li(),t,e)}class ro extends Ki{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function io(t,e){return new ro(Li(),t,e)}class oo extends yi{constructor(){super();const t=gi(oo.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Li()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return ti(t),new Ki(this.context,t).toSeconds()}toFrequency(t){return new to(this.context,t).toFrequency()}toTicks(t){return new ro(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Vr(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];zr(n)&&zr(n.value)&&zr(n.setValueAtTime)?t[e]=n.value:n instanceof oo?t[e]=n._getPartialProperties(t[e]):$r(n)||Wr(n)||Gr(n)||Ur(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&zr(this[e])&&(this[e]&&zr(this[e].value)&&zr(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof oo?this[e].set(t[e]):this[e]=t[e])})),this}}class ao extends Ci{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Yr(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class lo extends oo{constructor(){super(gi(lo.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=gi(lo.getDefaults(),arguments,["param","units","convert"]);for(Hr(zr(t.param)&&(ci(t.param)||t.param instanceof lo),"param must be an AudioParam");!ci(t.param);)t.param=t.param._param;this._swappable=!!zr(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Ci(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,zr(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(oo.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return zr(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return zr(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return zr(this.maxValue)&&zr(this.minValue)&&Yr(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ui(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?$i(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return Hr(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let r=this._initialValue;if(null===s)r=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else r=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(r=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return Hr(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Si(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return Hr(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);Hr(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(s),Hr(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(s,r,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*s;this.setValueAtTime(this._toType(r),e);const i=n/(t.length-1);for(let n=1;n<t.length;n++){const r=this._fromType(t[n])*s;this.linearRampToValueAtTime(this._toType(r),e+n*i)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Hr(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Hr(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),r=this._events.getAfter(e);return s&&Si(s.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),r=s?s.time:e+2,i=(r-e)/10;for(let n=e;n<r;n+=i)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Hr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,r){return n+(e-n)*Math.exp(-(r-t)/s)}_linearInterpolate(t,e,n,s,r){return e+(r-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,r){return e*Math.pow(s/e,(r-t)/(n-t))}}class uo extends oo{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return zr(this.input)?ci(this.input)||this.input instanceof lo?1:this.input.numberOfInputs:0}get numberOfOutputs(){return zr(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return zr(t)&&(t instanceof uo||hi(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Hr(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return ho(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ri("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return fo(this,t,e,n),this}chain(...t){return co(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),zr(this.input)&&(this.input instanceof uo?this.input.dispose():hi(this.input)&&this.input.disconnect()),zr(this.output)&&(this.output instanceof uo?this.output.dispose():hi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function co(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof uo?t.connect(e):hi(t)&&ho(t,e),e)),e)}function ho(t,e,n=0,s=0){for(Hr(zr(t),"Cannot connect from undefined node"),Hr(zr(e),"Cannot connect to undefined node"),(e instanceof uo||hi(e))&&Hr(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Hr(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof uo||e instanceof lo;)zr(e.input)&&(e=e.input);for(;t instanceof uo;)zr(t.output)&&(t=t.output);ci(e)?t.connect(e,n):t.connect(e,n,s)}function fo(t,e,n=0,s=0){if(zr(e))for(;e instanceof uo;)e=e.input;for(;!hi(t);)zr(t.output)&&(t=t.output);ci(e)?t.disconnect(e,n):hi(e)?t.disconnect(e,n,s):t.disconnect()}function po(...t){const e=t.pop();zr(e)&&t.forEach((t=>ho(t,e)))}class mo extends uo{constructor(){super(gi(mo.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=gi(mo.getDefaults(),arguments,["gain","units"]);this.gain=new lo({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ii(this,"gain")}static getDefaults(){return Object.assign(uo.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class go extends uo{constructor(t){super(t),this.onended=Ni,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new mo({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(uo.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ni})}_startGain(t,e=1){Hr(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Hr(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ni&&(this.onended(this),this.onended=Ni,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Hr(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ni,this}}class _o extends go{constructor(){super(gi(_o.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=gi(_o.getDefaults(),arguments,["offset"]);ho(this._source,this._gainNode),this.offset=new lo({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(go.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class vo extends uo{constructor(){super(gi(vo.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=gi(vo.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new _o({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(uo.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return yo(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function yo(t,e,n,s){(e instanceof lo||ci(e)||e instanceof vo&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof vo&&(e.overridden=!0)),ho(t,e,n,s)}class bo extends lo{constructor(){super(gi(bo.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Ci(1/0),this._multiplier=1;const t=gi(bo.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(lo.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(1/n,1));for(let t=0;t<=i;t++){const i=n*t+e,o=this._exponentialApproach(r.time,r.value,s,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),r=Math.round(Math.max(10*(e-s.time),1)),i=(e-s.time)/r;for(let t=0;t<=r;t++){const r=i*t+s.time,o=this._exponentialInterpolate(s.time,s.value,e,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Vr(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),i=Math.sqrt(Math.pow(s,2)-2*r*(e.ticks-t)),o=(-s+i)/r,a=(-s-i)/r;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class xo extends vo{constructor(){super(gi(xo.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=gi(xo.getDefaults(),arguments,["value"]);this.input=this._param=new bo({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(vo.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class wo extends oo{constructor(){super(gi(wo.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new ao,this._tickOffset=new Ci,this._ticksAtTime=new Ci,this._secondsAtTime=new Ci;const t=gi(wo.getDefaults(),arguments,["frequency"]);this.frequency=new xo({context:this.context,units:t.units,value:t.frequency}),Ii(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},oo.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),zr(e)&&this.setTicksAtTime(e,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s=this._ticksAtTime.get(e),r={state:"paused",time:e};this._state.add(r);let i=s||n,o=s?s.ticks:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(o=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e),t.time!=r.time&&(a={state:t.state,time:t.time,ticks:o})),i=t})),this._state.remove(r),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const s=this._secondsAtTime.get(t);let r=s||e,i=s?s.seconds:0,o=null;return this._state.forEachBetween(r.time,t+this.sampleTime,(t=>{let e=r.time;const s=this._tickOffset.get(t.time);s&&s.time>=r.time&&(i=s.seconds,e=s.time),"started"===r.state&&"started"!==t.state&&(i+=t.time-e,t.time!=n.time&&(o={state:t.state,time:t.time,seconds:i})),r=t})),this._state.remove(n),o&&this._secondsAtTime.add(o),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),r=Math.max(n.time,s.time),i=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,(e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e}));let r=null;if(s&&"started"===s.state){const i=Math.max(s.time,t),o=this.frequency.getTicksAtTime(i),a=o-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(a)-a;l=Si(l,1)?0:l;let u=this.frequency.getTimeOfTick(o+l);for(;u<e;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(t){r=t;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ko extends oo{constructor(){super(gi(ko.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ni,this._lastUpdate=0,this._state=new ao("stopped"),this._boundLoop=this._loop.bind(this);const t=gi(ko.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new wo({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ii(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(oo.getDefaults(),{callback:Ni,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Xr(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Mi.mixin(ko);class So extends uo{constructor(){super(gi(So.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=gi(So.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new lo({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ii(this,"delayTime")}static getDefaults(){return Object.assign(uo.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function To(t,e,n=2,s=Li().sampleRate){return li(this,void 0,void 0,(function*(){const r=Li(),i=new ji(n,e,s);Wi(i),yield t(i);const o=i.render();Wi(r);const a=yield o;return new qi(a)}))}class Co extends yi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=gi(Co.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Ni,onload:Ni,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Hr(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=Ni,s=Ni){return Gr(e)?(this.baseUrl&&"data:audio/"===e.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(t.toString(),new qi(this.baseUrl+e,n,s))):this._buffers.set(t.toString(),new qi(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Ao extends to{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Hi(super._frequencyToUnits(t))}_ticksToUnits(t){return Hi(super._ticksToUnits(t))}_beatsToUnits(t){return Hi(super._beatsToUnits(t))}_secondsToUnits(t){return Hi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Xi(this.toMidi())}transpose(t){return new Ao(this.context,this.toMidi()+t)}}function Eo(t,e){return new Ao(Li(),t,e)}class Oo extends ro{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function Do(t,e){return new Oo(Li(),t,e)}class Mo extends oo{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ci,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ei((t=>{t.draw=new Mo({context:t})})),Di((t=>{t.draw.dispose()}));class Ro extends yi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Hr(zr(t.time),"Events must have a time property"),Hr(zr(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Fo(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class Fo{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Io extends uo{constructor(){super(gi(Io.getDefaults(),arguments,["volume"])),this.name="Volume";const t=gi(Io.getDefaults(),arguments,["volume"]);this.input=this.output=new mo({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Ii(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(uo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Po extends uo{constructor(){super(gi(Po.getDefaults(),arguments)),this.name="Destination",this.input=new Io({context:this.context}),this.output=new mo({context:this.context}),this.volume=this.input.volume;const t=gi(Po.getDefaults(),arguments);co(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(uo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),co(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ei((t=>{t.destination=new Po({context:t})})),Di((t=>{t.destination.dispose()}));class No extends yi{constructor(t){super(),this.name="TimelineValue",this._timeline=new Ci({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class qo{constructor(t,e){this.id=qo._eventId++,this._remainderTime=0;const n=Object.assign(qo.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:Ni,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}qo._eventId=0;class jo extends qo{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(jo.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},qo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return ki(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){ki(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);xi(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Vo extends oo{constructor(){super(gi(Vo.getDefaults(),arguments)),this.name="Transport",this._loop=new No(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ci,this._repeatedEvents=new Ro,this._syncedSignals=[],this._swingAmount=0;const t=gi(Vo.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new ko({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ii(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(oo.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=new Oo(this.context,2*this._swingTicks/3).toSeconds()*s}Jr(!0),this._timeline.forEachAtTime(e,(e=>e.invoke(t))),Jr(!1)}schedule(t,e){const n=new qo(this,{callback:t,time:new ro(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const r=new jo(this,{callback:t,duration:new Ki(this.context,s).toTicks(),interval:new Ki(this.context,e).toTicks(),time:new ro(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new qo(this,{callback:t,once:!0,time:new ro(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new Oo(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return this.context.resume(),zr(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){$r(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Ki(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Ki(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Oo(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Oo(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/s}else e=0}const n=new mo(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Pi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Mi.mixin(Vo),Ei((t=>{t.transport=new Vo({context:t})})),Di((t=>{t.transport.dispose()}));class zo extends uo{constructor(t){super(t),this.input=void 0,this._state=new ao("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ni,this._syncedStop=Ni,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Io({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ii(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(uo.getDefaults(),{mute:!1,onstop:Ni,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=Vr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(_i(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule((t=>{this._start(t,e,n)}),s);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Xr(this.context),this._start(s,e,n);else Hr(xi(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=Vr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||zr(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(xi(e,0)){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ni,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Lo extends go{constructor(){super(gi(Lo.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=gi(Lo.getDefaults(),arguments,["url","onload"]);ho(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new lo({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new qi(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(go.getDefaults(),{url:new qi,loop:!1,loopEnd:0,loopStart:0,onload:Ni,onerror:Ni,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){Hr(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,s),e=this.loop?_i(e,this.loopStart):_i(e,0);let i=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;wi(i,t)&&(i=(i-e)%n+e),Si(i,this.buffer.duration)&&(i=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ki(i,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,i)),zr(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Wo extends zo{constructor(){super(gi(Wo.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=gi(Wo.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(zo.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Hr(t in $o,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=$o[this._type];this._source=new Lo({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Bo=220500,Uo={brown:null,pink:null,white:null},$o={get brown(){if(!Uo.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Bo);t[e]=n;let s=0;for(let t=0;t<Bo;t++){const e=2*Math.random()-1;n[t]=(s+.02*e)/1.02,s=n[t],n[t]*=3.5}}Uo.brown=(new qi).fromArray(t)}return Uo.brown},get pink(){if(!Uo.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Bo);let s,r,i,o,a,l,u;t[e]=n,s=r=i=o=a=l=u=0;for(let t=0;t<Bo;t++){const e=2*Math.random()-1;s=.99886*s+.0555179*e,r=.99332*r+.0750759*e,i=.969*i+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=s+r+i+o+a+l+u+.5362*e,n[t]*=.11,u=.115926*e}}Uo.pink=(new qi).fromArray(t)}return Uo.pink},get white(){if(!Uo.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Bo);t[e]=n;for(let t=0;t<Bo;t++)n[t]=2*Math.random()-1}Uo.white=(new qi).fromArray(t)}return Uo.white}};class Go extends uo{constructor(){super(gi(Go.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=gi(Go.getDefaults(),arguments,["volume"]);this._volume=this.output=new Io({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ii(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(uo.getDefaults(),{mute:!1,volume:0})}open(t){return li(this,void 0,void 0,(function*(){Hr(Go.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield Go.enumerateDevices();Wr(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),Hr(zr(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const t=this.context.createMediaStreamSource(s);ho(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return li(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return zr(navigator.mediaDevices)&&zr(navigator.mediaDevices.getUserMedia)}}function Qo(t,e){return li(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,s=new ji(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)}))}class Ho extends go{constructor(){super(gi(Ho.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=gi(Ho.getDefaults(),arguments,["frequency","type"]);ho(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new lo({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new lo({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Ii(this,["frequency","detune"])}static getDefaults(){return Object.assign(go.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Yo extends zo{constructor(){super(gi(Yo.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=gi(Yo.getDefaults(),arguments,["frequency","type"]);this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency}),Ii(this,"frequency"),this.detune=new vo({context:this.context,units:"cents",value:t.detune}),Ii(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(zo.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Ho({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Yo._periodicWaveCache.find((t=>{var e,n;return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)))}));{const t=Yo._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(zr(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Yo._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Yo._periodicWaveCache.length>100&&Yo._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Yr(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),r=new Float32Array(n);let i=1;if("custom"===t){if(i=this._partials.length+1,this._partialCount=this._partials.length,n=i,0===this._partials.length)return[s,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(i=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],i=Math.max(i,2),n=i):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=i?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),r[o]=a*Math.cos(e*o)):(s[o]=0,r[o]=0)}return[s,r]}_inverseFFT(t,e,n){let s=0;const r=t.length;for(let i=0;i<r;i++)s+=t[i]*Math.cos(i*n)+e[i]*Math.sin(i*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let r=0;r<32;r++)n=Math.max(this._inverseFFT(t,e,r/32*s),n);return Ti(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Yo._periodicWaveCache=[];class Xo extends uo{constructor(){super(Object.assign(gi(Xo.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return yo(this,t,e,n),this}}class Zo extends Xo{constructor(){super(Object.assign(gi(Zo.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=gi(Zo.getDefaults(),arguments,["mapping","length"]);$r(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Lr(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(vo.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,r=e;s<r;s++){const e=s/(r-1)*2-1;n[s]=t(e,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Hr(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ko extends Xo{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Zo({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Jo extends vo{constructor(){super(Object.assign(gi(Jo.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=gi(Jo.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new mo({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ta extends zo{constructor(){super(gi(ta.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ko({context:this.context}),this._modulationNode=new mo({context:this.context});const t=gi(ta.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Yo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Yo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Jo({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ii(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Yo.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ea extends zo{constructor(){super(gi(ea.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new mo({context:this.context,gain:0});const t=gi(ea.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Yo({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Yo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Jo({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Jo({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ii(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Yo.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class na extends zo{constructor(){super(gi(na.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new mo({context:this.context,gain:0}),this._thresh=new Zo({context:this.context,mapping:t=>t<=0?-1:1});const t=gi(na.getDefaults(),arguments,["frequency","width"]);this.width=new vo({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Yo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ii(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zo.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class sa extends zo{constructor(){super(gi(sa.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=gi(sa.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vo({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ii(this,["frequency","detune"])}static getDefaults(){return Object.assign(Yo.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,s)=>t.detune.value=e+n*s))}}get count(){return this._oscillators.length}set count(t){if(Yr(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new Yo({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Ni});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class ra extends zo{constructor(){super(gi(ra.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Jo({context:this.context,value:2});const t=gi(ra.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new na({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Yo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ii(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zo.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ia={am:ta,fat:sa,fm:ea,oscillator:Yo,pulse:na,pwm:ra};class oa extends zo{constructor(){super(gi(oa.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=gi(oa.getDefaults(),arguments,["frequency","type"]);this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vo({context:this.context,units:"cents",value:t.detune}),Ii(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Yo.getDefaults(),ea.getDefaults(),ta.getDefaults(),sa.getDefaults(),na.getDefaults(),ra.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=ia[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof ia[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Wr(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Wr(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Gr(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return li(this,void 0,void 0,(function*(){return Qo(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class aa extends vo{constructor(){super(Object.assign(gi(aa.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new mo({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,co(this._constantSource,this._sum)}static getDefaults(){return Object.assign(vo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class la extends Xo{constructor(){super(Object.assign(gi(la.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=gi(la.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Jo({context:this.context,value:t.max-t.min}),this._add=this.output=new aa({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Xo.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class ua extends Xo{constructor(){super(Object.assign(gi(ua.getDefaults(),arguments))),this.name="Zero",this._gain=new mo({context:this.context}),this.output=this._gain,this.input=void 0,ho(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),fo(this.context.getConstant(0),this._gain),this}}class ca extends uo{constructor(){super(gi(ca.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=lo.prototype._fromType,this._toType=lo.prototype._toType,this._is=lo.prototype._is,this._clampValue=lo.prototype._clampValue;const t=gi(ca.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Yo(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new mo({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new vo({context:this.context,units:"audioRange",value:0}),this._zeros=new ua({context:this.context}),this._a2g=new Ko({context:this.context}),this._scaler=this.output=new la({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ii(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Yo.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof lo||t instanceof vo)&&(this.convert=t.convert,this.units=t.units),yo(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function ha(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Yr(s,t,e),n.set(this,s)}})}}function da(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Yr(this.toSeconds(s),t,e),n.set(this,s)}})}}class fa extends zo{constructor(){super(gi(fa.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=gi(fa.getDefaults(),arguments,["url","onload"]);this._buffer=new qi({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(zo.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ni,onerror:Ni,playbackRate:1,reverse:!1})}load(t){return li(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Ni){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?_i(e,this._loopStart):_i(e,0);const s=this.toSeconds(e),r=n;n=_i(n,Math.max(this._buffer.duration-s,0));let i=this.toSeconds(n);i/=this._playbackRate,t=this.toSeconds(t);const o=new Lo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+i),this._state.setStateAtTime("stopped",t+i,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Vr(r)?o.start(t,s):o.start(t,s,i-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){var s;null===(s=[...this._activeSources].pop())||void 0===s||s.stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Yr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Yr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}ai([da(0)],fa.prototype,"fadeIn",void 0),ai([da(0)],fa.prototype,"fadeOut",void 0);class pa extends uo{constructor(){super(gi(pa.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=gi(pa.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Io({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ii(this,"volume"),this._buffers=new Co({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(zo.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Ni,onerror:Ni,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach((e=>{e.fadeIn=t}))}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach((e=>{e.fadeOut=t}))}get state(){return Array.from(this._players).some((([t,e])=>"started"===e.state))?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(Hr(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new fa({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return Hr(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach((e=>e.stop(t))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((t=>t.dispose())),this._buffers.dispose(),this}}class ma extends zo{constructor(){super(gi(ma.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=gi(ma.getDefaults(),arguments,["url","onload"]);this.buffer=new qi({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new ko({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(zo.getDefaults(),{onload:Ni,onerror:Ni,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=_i(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const s=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/s),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach((e=>{e.fadeOut=0,e.stop(t)})),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const s=n<this._overlap?0:this._overlap,r=new Lo({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Gi(this.detune/100)}).connect(this.output);r.start(t,this._grainSize*e),r.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(r),r.onended=()=>{const t=this._activeSources.indexOf(r);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){Yr(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&Yr(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&Yr(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);Yr(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((t=>t.dispose())),this}}class ga extends Xo{constructor(){super(...arguments),this.name="Abs",this._abs=new Zo({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class _a extends Xo{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Zo({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class va extends Xo{constructor(){super(...arguments),this.name="Negate",this._multiply=new Jo({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class ya extends vo{constructor(){super(Object.assign(gi(ya.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new mo({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new va({context:this.context}),this.subtrahend=this._param,co(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(vo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class ba extends Xo{constructor(){super(Object.assign(gi(ba.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Zo({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new Jo({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class xa extends vo{constructor(){super(Object.assign(gi(xa.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=gi(xa.getDefaults(),arguments,["value"]);this._subtract=this.input=new ya({context:this.context,value:t.value}),this._gtz=this.output=new ba({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ii(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(vo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class wa extends Xo{constructor(){super(Object.assign(gi(wa.getDefaults(),arguments,["value"]))),this.name="Pow";const t=gi(wa.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Zo({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Xo.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ka extends la{constructor(){super(Object.assign(gi(ka.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=gi(ka.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new wa({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(la.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class Sa extends vo{constructor(){super(gi(vo.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=gi(vo.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new _o({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new ro(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new ro(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new ro(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new ro(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const s=new ro(this.context,e).toSeconds();return super.setTargetAtTime(t,s,n),this}cancelScheduledValues(t){const e=new ro(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,s){const r=new ro(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,r,n,s),this}cancelAndHoldAtTime(t){const e=new ro(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new ro(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const s=new ro(this.context,n).toSeconds();return super.exponentialRampTo(t,e,s),this}linearRampTo(t,e,n){const s=new ro(this.context,n).toSeconds();return super.linearRampTo(t,e,s),this}targetRampTo(t,e,n){const s=new ro(this.context,n).toSeconds();return super.targetRampTo(t,e,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Ta extends uo{constructor(){super(gi(Ta.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new vo({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=gi(Ta.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(uo.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Gr(t))return t;{let n;for(n in Ca)if(Ca[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Gr(n)&&Reflect.has(Ca,n)){const s=Ca[n];Br(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!$r(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Hr(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0&&(n=(1-r)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=r&&r<=s[t]){s=this._attackCurve.slice(t),s[0]=r;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const r=e*this.sustain,i=t+n;this.log("decay",i),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,s+i):this._sig.exponentialApproachValueAtTime(r,i,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Hr($r(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return yo(this,t,e,n),this}asArray(t=1024){return li(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new ji(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),i=.1*r,o=r+i,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+i)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}ai([da(0)],Ta.prototype,"attack",void 0),ai([da(0)],Ta.prototype,"decay",void 0),ai([ha(0,1)],Ta.prototype,"sustain",void 0),ai([da(0)],Ta.prototype,"release",void 0);const Ca=(()=>{const t=128;let e,n;const s=[];for(e=0;e<t;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;r[e]=t/10+.83*n}r[127]=1;const i=[];for(e=0;e<t;e++)i[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,s=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(s*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}var u;return{bounce:{In:l(a),Out:a},cosine:{In:s,Out:(u=s,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:o,Out:l(o)},step:{In:i,Out:l(i)}}})();class Aa extends uo{constructor(){super(gi(Aa.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t);const t=gi(Aa.getDefaults(),arguments);this._volume=this.output=new Io({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ii(this,"volume")}static getDefaults(){return Object.assign(uo.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=t[e],r=this.context.transport.schedule((s=>{t[e]=s,n.apply(this,t)}),s);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,n,s){const r=this.toSeconds(n),i=this.toSeconds(e);return this.triggerAttack(t,r,s),this.triggerRelease(r+i),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ea extends Aa{constructor(){super(gi(Ea.getDefaults(),arguments));const t=gi(Ea.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Aa.getDefaults(),{detune:0,onsilence:Ni,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof to?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}ai([da(0)],Ea.prototype,"portamento",void 0);class Oa extends Ta{constructor(){super(gi(Oa.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new mo({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Da extends Ea{constructor(){super(gi(Da.getDefaults(),arguments)),this.name="Synth";const t=gi(Da.getDefaults(),arguments);this.oscillator=new oa(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Oa(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ii(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ea.getDefaults(),{envelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(vi(oa.getDefaults(),[...Object.keys(zo.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ma extends Ea{constructor(){super(gi(Ma.getDefaults(),arguments)),this.name="ModulationSynth";const t=gi(Ma.getDefaults(),arguments);this._carrier=new Da({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Da({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new vo({context:this.context,units:"frequency"}),this.detune=new vo({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Jo({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new mo({context:this.context,gain:0}),Ii(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ea.getDefaults(),{harmonicity:3,oscillator:Object.assign(vi(oa.getDefaults(),[...Object.keys(zo.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(vi(oa.getDefaults(),[...Object.keys(zo.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Ra extends Ma{constructor(){super(gi(Ra.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Ko({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Fa extends uo{constructor(){super(gi(Fa.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=gi(Fa.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new lo({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new lo({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new lo({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new lo({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(uo.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Hr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ia extends uo{constructor(){super(gi(Ia.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this._filters=[];const t=gi(Ia.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new vo({context:this.context,units:"positive",value:t.Q}),this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vo({context:this.context,units:"cents",value:t.detune}),this.gain=new vo({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ii(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(uo.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Hr(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Wr(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let s=n.indexOf(e);Hr(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(s);for(let t=0;t<s;t++){const e=new Fa({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,co(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Fa({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),Pi(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Pa extends Ta{constructor(){super(gi(Pa.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=gi(Pa.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new wa({context:this.context,value:t.exponent}),this._scale=this.output=new la({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ta.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);Yr(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Na extends Ea{constructor(){super(gi(Na.getDefaults(),arguments)),this.name="MonoSynth";const t=gi(Na.getDefaults(),arguments);this.oscillator=new oa(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ia(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Pa(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new Oa(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ii(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ea.getDefaults(),{envelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(vi(Ia.getDefaults(),Object.keys(uo.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(vi(Pa.getDefaults(),Object.keys(uo.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(vi(oa.getDefaults(),Object.keys(zo.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class qa extends Ea{constructor(){super(gi(qa.getDefaults(),arguments)),this.name="DuoSynth";const t=gi(qa.getDefaults(),arguments);this.voice0=new Na(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Na(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Jo({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new ca({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new mo({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new vo({context:this.context,units:"frequency",value:440}),this.detune=new vo({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ii(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return mi(Ea.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:mi(vi(Na.getDefaults(),Object.keys(Ea.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:mi(vi(Na.getDefaults(),Object.keys(Ea.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class ja extends Ma{constructor(){super(gi(ja.getDefaults(),arguments)),this.name="FMSynth";const t=gi(ja.getDefaults(),arguments);this.modulationIndex=new Jo({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Ma.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Va=[1,1.483,1.932,2.546,2.63,3.897];class za extends Ea{constructor(){super(gi(za.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=gi(za.getDefaults(),arguments);this.detune=new vo({context:this.context,units:"cents",value:t.detune}),this.frequency=new vo({context:this.context,units:"frequency"}),this._amplitude=new mo({context:this.context,gain:0}).connect(this.output),this._highpass=new Ia({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<Va.length;e++){const n=new ea({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):Ni,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const s=new Jo({context:this.context,value:Va[e]});this._freqMultipliers[e]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new la({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Ta({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return mi(Ea.getDefaults(),{envelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class La extends Da{constructor(){super(gi(La.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=gi(La.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ii(this,["oscillator","envelope"])}static getDefaults(){return mi(Ea.getDefaults(),Da.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof to?t.toFrequency():t),r=s*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ai([ha(0)],La.prototype,"octaves",void 0),ai([da(0)],La.prototype,"pitchDecay",void 0);class Wa extends Aa{constructor(){super(gi(Wa.getDefaults(),arguments)),this.name="NoiseSynth";const t=gi(Wa.getDefaults(),arguments);this.noise=new Wo(Object.assign({context:this.context},t.noise)),this.envelope=new Oa(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Aa.getDefaults(),{envelope:Object.assign(vi(Ta.getDefaults(),Object.keys(uo.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(vi(Wo.getDefaults(),Object.keys(zo.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Ba=new Set;function Ua(t){Ba.add(t)}function $a(t,e){const n=`registerProcessor("${t}", ${e})`;Ba.add(n)}class Ga extends uo{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Ni;const e=URL.createObjectURL(new Blob([Array.from(Ba).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}Ua('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Ua("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Ua("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const Qa="feedback-comb-filter";$a(Qa,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Ha extends Ga{constructor(){super(gi(Ha.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=gi(Ha.getDefaults(),arguments,["delayTime","resonance"]);this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this.delayTime=new lo({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new lo({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Ii(this,["resonance","delayTime"])}_audioWorkletName(){return Qa}static getDefaults(){return Object.assign(uo.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){co(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Ya extends uo{constructor(){super(gi(Ya.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=gi(Ya.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(uo.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(t),t.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Xa extends uo{constructor(){super(gi(Xa.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=gi(Xa.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new Ha({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Ya({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(uo.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Za extends Aa{constructor(){super(gi(Za.getDefaults(),arguments)),this.name="PluckSynth";const t=gi(Za.getDefaults(),arguments);this._noise=new Wo({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Xa({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return mi(Aa.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,e),this._noise.start(e),this._noise.stop(e+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Ka extends Aa{constructor(){super(gi(Ka.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=t=>this.releaseAll(t);const t=gi(Ka.getDefaults(),arguments,["voice","options"]);Hr(!Wr(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Aa.getDefaults(),{maxPolyphony:32,options:{},voice:Da})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Hr(t instanceof Ea,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}ri("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const s=new Ao(this.context,t).toMidi(),r=this._getNextAvailableVoice();r&&(r.triggerAttack(t,e,n),this._activeVoices.push({midi:s,voice:r,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new Ao(this.context,t).toMidi(),s=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));s&&(s.voice.triggerRelease(e),s.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,s){Hr(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,s):this._triggerRelease(e,n):this.context.setTimeout((()=>{this.disposed||this._scheduleEvent(t,e,n,s)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent("attack",t,s,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,s){const r=this.toSeconds(n);if(this.triggerAttack(t,r,s),$r(e)){Hr($r(t),"If the duration is an array, the notes must also be an array");for(let n=0;n<t.length;n++){const s=e[Math.min(n,e.length-1)],i=this.toSeconds(s);Hr(i>0,"The duration must be greater than 0"),this.triggerRelease(t[n],r+i)}}else{const n=this.toSeconds(e);Hr(n>0,"The duration must be greater than 0"),this.triggerRelease(t,r+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const e=vi(t,["onsilence","context"]);return this.options=mi(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ja extends Aa{constructor(){super(gi(Ja.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=gi(Ja.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const s=parseInt(n,10);if(Hr(Qr(n)||Wr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),Qr(n)){const s=new to(this.context,n).toMidi();e[s]=t.urls[n]}else Wr(s)&&isFinite(s)&&(e[s]=t.urls[s])})),this._buffers=new Co({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Aa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ni,onerror:Ni,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const s=Yi(new to(this.context,t).toFrequency()),r=Math.round(s),i=s-r,o=this._findClosest(r),a=r-o,l=this._buffers.get(a),u=Gi(o+i),c=new Lo({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(e,0,l.duration/u,n),$r(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new to(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const r=this.toSeconds(n);return this.triggerAttack(t,r,s),$r(e)?(Hr($r(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(s))}))):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(Hr(Qr(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Qr(t)){const s=new to(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}ai([da(0)],Ja.prototype,"attack",void 0),ai([da(0)],Ja.prototype,"release",void 0);class tl extends oo{constructor(){super(gi(tl.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new ao("stopped"),this._startOffset=0;const t=gi(tl.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(oo.getDefaults(),{callback:Ni,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Wr(this._loop)&&this._loop>1){e=1/0,Wr(this._loop)&&(e=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(e=new Oo(this.context,e));const r=new Oo(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),r,new Oo(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new Oo(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=_i(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Ur(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Oo(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new Oo(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class el extends oo{constructor(){super(gi(el.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=gi(el.getDefaults(),arguments,["callback","interval"]);this._event=new tl({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(oo.getDefaults(),{interval:"4n",callback:Ni,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class nl extends tl{constructor(){super(gi(nl.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new ao("stopped"),this._events=new Set;const t=gi(nl.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{$r(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(tl.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=_i(e,this._loop?this._loopStart:0),e=this._loop?_i(e,this._loopStart):_i(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new Oo(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new Oo(this.context,e))):t.startOffset>=n&&t.start(new Oo(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new ro(this.context,t).toTicks(),s=new Oo(this.context,1).toSeconds(),r=this._events.values();let i=r.next();for(;!i.done;){const t=i.value;if(Math.abs(n-t.startOffset)<s)return zr(e)&&(t.value=e),t;i=r.next()}return zr(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let s;return e instanceof tl?(s=e,s.callback=this._tick.bind(this)):s=new tl({callback:this._tick.bind(this),context:this.context,value:e}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new Oo(this.context,e.time))}))}remove(t,e){return Br(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(Vr(e)||zr(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof nl?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new Oo(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new Oo(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*sl(t){let e=0;for(;e<t;)e=Ti(e,0,t-1),yield e,e++}function*rl(t){let e=t-1;for(;e>=0;)e=Ti(e,0,t-1),yield e,e--}function*il(t,e){for(;;)yield*e(t)}function*ol(t,e){let n=e?0:t-1;for(;;)n=Ti(n,0,t-1),yield n,e?(n++,n>=t-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*al(t){let e=0,n=0;for(;e<t;)e=Ti(e,0,t-1),yield e,n++,e+=n%2?2:-1}function*ll(t){let e=t-1,n=0;for(;e>=0;)e=Ti(e,0,t-1),yield e,n++,e+=n%2?-2:1}function*ul(t){const e=[];for(let n=0;n<t;n++)e.push(n);for(;e.length>0;){const n=Ti(e.splice(Math.floor(e.length*Math.random()),1)[0],0,t-1);yield n}}function*cl(t,e="up",n=0){switch(Hr(t>=1,"The number of values must be at least one"),e){case"up":yield*il(t,sl);case"down":yield*il(t,rl);case"upDown":yield*ol(t,!0);case"downUp":yield*ol(t,!1);case"alternateUp":yield*il(t,al);case"alternateDown":yield*il(t,ll);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t);yield e}}(t);case"randomOnce":yield*il(t,ul);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t);for(;;)0===e?e++:e===t-1||Math.random()<.5?e--:e++,yield e}(t)}}class hl extends el{constructor(){super(gi(hl.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=gi(hl.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=cl(t.values.length,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(el.getDefaults(),{pattern:"up",values:[],callback:Ni})}_tick(t){const e=this._pattern.next();this._index=e.value,this._value=this._values[e.value],this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get index(){return this._index}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=cl(this._values.length,this._type)}}class dl extends tl{constructor(){super(gi(dl.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new nl({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=gi(dl.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(vi(tl.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null===e||this.mute||this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new Oo(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(Gr(e)&&isFinite(parseInt(e,10))&&$r(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,s)=>{const r=s*e+n;if($r(t))this._rescheduleSequence(t,e/t.length,r);else{const e=new Oo(this.context,r,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new Oo(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class fl extends uo{constructor(){super(Object.assign(gi(fl.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new _a({context:this.context}),this.a=new mo({context:this.context,gain:0}),this.b=new mo({context:this.context,gain:0}),this.output=new mo({context:this.context}),this._internalChannels=[this.a,this.b];const t=gi(fl.getDefaults(),arguments,["fade"]);this.fade=new vo({context:this.context,units:"normalRange",value:t.fade}),Ii(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ho(this._split,this.a.gain,0),ho(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(uo.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class pl extends uo{constructor(t){super(t),this.name="Effect",this._dryWet=new fl({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new mo({context:this.context}),this.effectReturn=new mo({context:this.context}),this.input=new mo({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ii(this,"wet")}static getDefaults(){return Object.assign(uo.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class ml extends pl{constructor(t){super(t),this.name="LFOEffect",this._lfo=new ca({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ii(this,["frequency","depth"])}static getDefaults(){return Object.assign(pl.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class gl extends ml{constructor(){super(gi(gl.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=gi(gl.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Ia(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(ml.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class _l extends uo{constructor(){super(Object.assign(gi(_l.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=gi(_l.getDefaults(),arguments,["pan"]);this.pan=new lo({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Ii(this,"pan")}static getDefaults(){return Object.assign(uo.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class vl extends ml{constructor(){super(gi(vl.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=gi(vl.getDefaults(),arguments,["frequency"]);this._panner=new _l({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(ml.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class yl extends uo{constructor(){super(gi(yl.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=gi(yl.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new ga({context:this.context}),this._lowpass=this.output=new Ya({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(uo.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class bl extends pl{constructor(){super(gi(bl.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=gi(bl.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new yl({context:this.context,smoothing:t.follower}),this._sweepRange=new ka({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new mo({context:this.context}),this._bandpass=new Ia({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Ia({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ii(this,["gain","Q"])}static getDefaults(){return Object.assign(pl.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return $i(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Ui(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const xl="bit-crusher";$a(xl,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class wl extends pl{constructor(){super(gi(wl.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=gi(wl.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new kl({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(pl.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class kl extends Ga{constructor(){super(gi(kl.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=gi(kl.getDefaults(),arguments);this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this.bits=new lo({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Ga.getDefaults(),{bits:12})}_audioWorkletName(){return xl}onReady(t){co(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Sl extends pl{constructor(){super(gi(Sl.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=gi(Sl.getDefaults(),arguments,["order"]);this._shaper=new Zo({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(pl.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){Hr(Number.isInteger(t),"'order' must be an integer"),this._order=t,this._shaper.setMap((e=>this._getCoefficient(e,t,new Map)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Tl extends uo{constructor(){super(gi(Tl.getDefaults(),arguments,["channels"])),this.name="Split";const t=gi(Tl.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(uo.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Cl extends uo{constructor(){super(gi(Cl.getDefaults(),arguments,["channels"])),this.name="Merge";const t=gi(Cl.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(uo.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Al extends uo{constructor(t){super(t),this.name="StereoEffect",this.input=new mo({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new fl({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Tl({context:this.context,channels:2}),this._merge=new Cl({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ii(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),co(...t),ho(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),co(...t),ho(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(uo.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class El extends Al{constructor(t){super(t),this.feedback=new vo({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new mo({context:this.context}),this._feedbackR=new mo({context:this.context}),this._feedbackSplit=new Tl({context:this.context,channels:2}),this._feedbackMerge=new Cl({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ii(this,["feedback"])}static getDefaults(){return Object.assign(Al.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Ol extends El{constructor(){super(gi(Ol.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=gi(Ol.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new ca({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new ca({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new So({context:this.context}),this._delayNodeR=new So({context:this.context}),this.frequency=this._lfoL.frequency,Ii(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(El.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Dl extends pl{constructor(){super(gi(Dl.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=gi(Dl.getDefaults(),arguments,["distortion"]);this._shaper=new Zo({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(pl.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap((t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Ml extends pl{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new mo({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Ii(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(pl.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Rl extends Ml{constructor(){super(gi(Rl.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=gi(Rl.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new So({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ii(this,"delayTime")}static getDefaults(){return Object.assign(Ml.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Fl extends uo{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this.offset90=new mo({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),co(this.input,...this._bank0,this._oneSampleDelay,this.output),co(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map((t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((t=>t.disconnect())),this._bank1.forEach((t=>t.disconnect())),this._oneSampleDelay.disconnect(),this}}class Il extends pl{constructor(){super(gi(Il.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=gi(Il.getDefaults(),arguments,["frequency"]);this.frequency=new vo({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Ho({context:this.context,type:"sine"}),this._cosine=new Yo({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Jo({context:this.context}),this._cosineMultiply=new Jo({context:this.context}),this._negate=new va({context:this.context}),this._add=new aa({context:this.context}),this._phaseShifter=new Fl({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(pl.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Pl=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Nl=[225,556,441,341];class ql extends Al{constructor(){super(gi(ql.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=gi(ql.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new vo({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=Nl.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._allpassFiltersR=Nl.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._combFilters=Pl.map(((e,n)=>{const s=new Xa({context:this.context,dampening:t.dampening,delayTime:e});return n<Pl.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),Ii(this,["roomSize"])}static getDefaults(){return Object.assign(Al.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach((e=>e.dampening=t))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((t=>t.disconnect())),this._allpassFiltersR.forEach((t=>t.disconnect())),this._combFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this}}const jl=[.06748,.06404,.08212,.09004],Vl=[.773,.802,.753,.733],zl=[347,113,37];class Ll extends Al{constructor(){super(gi(Ll.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=gi(Ll.getDefaults(),arguments,["roomSize"]);this.roomSize=new vo({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new la({context:this.context,min:-.733,max:.197}),this._allpassFilters=zl.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._feedbackCombFilters=jl.map(((t,e)=>{const n=new Ha({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=Vl[e],e<jl.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Ii(this,["roomSize"])}static getDefaults(){return Object.assign(Al.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((t=>t.disconnect())),this._feedbackCombFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Wl extends El{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ii(this,["feedback"])}}class Bl extends Wl{constructor(){super(gi(Bl.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=gi(Bl.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new So({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new So({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new So({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new vo({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ii(this,["delayTime"])}static getDefaults(){return Object.assign(Wl.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Ul extends Ml{constructor(){super(gi(Ul.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=gi(Ul.getDefaults(),arguments,["pitch"]);this._frequency=new vo({context:this.context}),this._delayA=new So({maxDelay:1,context:this.context}),this._lfoA=new ca({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new So({maxDelay:1,context:this.context}),this._lfoB=new ca({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new fl({context:this.context}),this._crossFadeLFO=new ca({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new So({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ii(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Ml.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=Gi(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=Gi(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class $l extends Al{constructor(){super(gi($l.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=gi($l.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new ca({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new ca({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new vo({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ii(this,["frequency","Q"])}static getDefaults(){return Object.assign(Al.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let s=0;s<t;s++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((t=>t.disconnect())),this._filtersR.forEach((t=>t.disconnect())),this.frequency.dispose(),this}}class Gl extends pl{constructor(){super(gi(Gl.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=gi(Gl.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(pl.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Yr(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Yr(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return li(this,void 0,void 0,(function*(){const t=this.ready,e=new ji(2,this._decay+this._preDelay,this.context.sampleRate),n=new Wo({context:e}),s=new Wo({context:e}),r=new Cl({context:e});n.connect(r,0,0),s.connect(r,0,1);const i=new mo({context:e}).toDestination();r.connect(i),n.start(0),s.start(0),i.gain.setValueAtTime(0,0),i.gain.setValueAtTime(1,this._preDelay),i.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(Ni),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Ql extends uo{constructor(){super(gi(Ql.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Tl({channels:2,context:this.context}),this._midAdd=new aa({context:this.context}),this.mid=new Jo({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new ya({context:this.context}),this.side=new Jo({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Hl extends uo{constructor(){super(gi(Hl.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new mo({context:this.context}),this.side=new mo({context:this.context}),this._left=new aa({context:this.context}),this._leftMult=new Jo({context:this.context,value:Math.SQRT1_2}),this._right=new ya({context:this.context}),this._rightMult=new Jo({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Cl({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Yl extends pl{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new Hl({context:this.context}),this._midSideSplit=new Ql({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Xl extends Yl{constructor(){super(gi(Xl.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=gi(Xl.getDefaults(),arguments,["width"]);this.width=new vo({context:this.context,value:t.width,units:"normalRange"}),Ii(this,["width"]),this._twoTimesWidthMid=new Jo({context:this.context,value:2}),this._twoTimesWidthSide=new Jo({context:this.context,value:2}),this._midMult=new Jo({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new ya({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),ho(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Jo({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Yl.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Zl extends Al{constructor(){super(gi(Zl.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=gi(Zl.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new ca({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new ca({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new mo({context:this.context}),this._amplitudeR=new mo({context:this.context}),this.frequency=new vo({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new vo({context:this.context,value:t.depth,units:"normalRange"}),Ii(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(Al.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Kl extends pl{constructor(){super(gi(Kl.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=gi(Kl.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new So({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new ca({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ii(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(pl.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Jl extends uo{constructor(){super(gi(Jl.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=gi(Jl.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new mo({context:this.context}),this._split=new Tl({context:this.context,channels:t.channels}),this.input.connect(this._split),Yr(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type,this.smoothing=t.smoothing}static getDefaults(){return Object.assign(uo.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Hr("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class tu extends uo{constructor(){super(gi(tu.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Jl({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class eu extends tu{constructor(){super(gi(eu.getDefaults(),arguments,["smoothing"])),this.name="Meter";const t=gi(eu.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Jl({context:this.context,size:256,type:"waveform",channels:t.channelCount}),this.smoothing=t.smoothing,this.normalRange=t.normalRange,this._rms=new Array(t.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(tu.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return ri("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map(((t,e)=>{const n=t.reduce(((t,e)=>t+e*e),0),s=Math.sqrt(n/t.length);return this._rms[e]=Math.max(s,this._rms[e]*this.smoothing),this.normalRange?this._rms[e]:$i(this._rms[e])}));return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class nu extends tu{constructor(){super(gi(nu.getDefaults(),arguments,["size"])),this.name="FFT";const t=gi(nu.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(uo.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?Ui(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Hr(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class su extends tu{constructor(){super(gi(su.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class ru extends tu{constructor(){super(gi(ru.getDefaults(),arguments,["size"])),this.name="Waveform";const t=gi(ru.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(tu.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class iu extends uo{constructor(){super(gi(iu.getDefaults(),arguments,["solo"])),this.name="Solo";const t=gi(iu.getDefaults(),arguments,["solo"]);this.input=this.output=new mo({context:this.context}),iu._allSolos.has(this.context)||iu._allSolos.set(this.context,new Set),iu._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(uo.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),iu._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){iu._soloed.has(this.context)||iu._soloed.set(this.context,new Set),iu._soloed.get(this.context).add(this)}_removeSolo(){iu._soloed.has(this.context)&&iu._soloed.get(this.context).delete(this)}_isSoloed(){return iu._soloed.has(this.context)&&iu._soloed.get(this.context).has(this)}_noSolos(){return!iu._soloed.has(this.context)||iu._soloed.has(this.context)&&0===iu._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),iu._allSolos.get(this.context).delete(this),this._removeSolo(),this}}iu._allSolos=new Map,iu._soloed=new Map;class ou extends uo{constructor(){super(gi(ou.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=gi(ou.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new _l({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Io({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ii(this,["pan","volume"])}static getDefaults(){return Object.assign(uo.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class au extends uo{constructor(){super(gi(au.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=gi(au.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new iu({solo:t.solo,context:this.context}),this._panVol=this.output=new ou({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ii(this,["pan","volume"])}static getDefaults(){return Object.assign(uo.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return au.buses.has(t)||au.buses.set(t,new mo({context:this.context})),au.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new mo({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}au.buses=new Map;class lu extends uo{constructor(){super(gi(lu.getDefaults(),arguments)),this.name="Mono",this.input=new mo({context:this.context}),this._merge=this.output=new Cl({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class uu extends uo{constructor(){super(gi(uu.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new mo({context:this.context}),this.output=void 0,this.low=new Ia({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Ia({context:this.context,frequency:0,type:"highpass"}),this.mid=new Ia({context:this.context,frequency:0,type:"lowpass"}),this.high=new Ia({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=gi(uu.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new vo({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new vo({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new vo({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ii(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(uo.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Pi(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class cu extends uo{constructor(){super(...arguments),this.name="Listener",this.positionX=new lo({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new lo({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new lo({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new lo({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new lo({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new lo({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new lo({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new lo({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new lo({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(uo.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ei((t=>{t.listener=new cu({context:t})})),Di((t=>{t.listener.dispose()}));class hu extends uo{constructor(){super(gi(hu.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=gi(hu.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new lo({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new lo({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new lo({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new lo({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new lo({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new lo({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(uo.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class du extends uo{constructor(){super(gi(du.getDefaults(),arguments)),this.name="Recorder";const t=gi(du.getDefaults(),arguments);this.input=new mo({context:this.context}),Hr(du.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return uo.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==ii&&Reflect.has(ii,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return li(this,void 0,void 0,(function*(){Hr("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return li(this,void 0,void 0,(function*(){Hr("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return Hr("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class fu extends uo{constructor(){super(gi(fu.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=gi(fu.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new lo({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new lo({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new lo({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new lo({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new lo({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Ii(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(uo.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class pu extends uo{constructor(){super(Object.assign(gi(pu.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=gi(pu.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new yl({context:this.context,smoothing:t.smoothing}),this._gt=new xa({context:this.context,value:Ui(t.threshold)}),this.input=new mo({context:this.context}),this._gate=this.output=new mo({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(uo.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return $i(this._gt.value)}set threshold(t){this._gt.value=Ui(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class mu extends uo{constructor(){super(Object.assign(gi(mu.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=gi(mu.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new fu({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ii(this,"threshold")}static getDefaults(){return Object.assign(uo.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class gu extends uo{constructor(){super(Object.assign(gi(gu.getDefaults(),arguments))),this.name="MidSideCompressor";const t=gi(gu.getDefaults(),arguments);this._midSideSplit=this.input=new Ql({context:this.context}),this._midSideMerge=this.output=new Hl({context:this.context}),this.mid=new fu(Object.assign(t.mid,{context:this.context})),this.side=new fu(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ii(this,["mid","side"])}static getDefaults(){return Object.assign(uo.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class _u extends uo{constructor(){super(Object.assign(gi(_u.getDefaults(),arguments))),this.name="MultibandCompressor";const t=gi(_u.getDefaults(),arguments);this._splitter=this.input=new uu({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new mo({context:this.context}),this.low=new fu(Object.assign(t.low,{context:this.context})),this.mid=new fu(Object.assign(t.mid,{context:this.context})),this.high=new fu(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ii(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(uo.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class vu extends uo{constructor(){super(gi(vu.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new mo({context:this.context}),this._internalChannels=[];const t=gi(vu.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new uu({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new mo({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new mo({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new mo({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ii(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(uo.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Pi(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class yu extends uo{constructor(){super(gi(yu.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=gi(yu.getDefaults(),arguments,["url","onload"]);this._buffer=new qi(t.url,(e=>{this.buffer=e,t.onload()})),this.input=new mo({context:this.context}),this.output=new mo({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(uo.getDefaults(),{normalize:!0,onload:Ni})}load(t){return li(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function bu(){return Li().now()}function xu(){return Li().immediate()}const wu=Li().transport;function ku(){return Li().transport}const Su=Li().destination,Tu=Li().destination;function Cu(){return Li().destination}const Au=Li().listener;function Eu(){return Li().listener}const Ou=Li().draw;function Du(){return Li().draw}const Mu=Li();function Ru(){return qi.loaded()}const Fu=qi,Iu=Co,Pu=Lo})()})();const dt={offset:(t,e)=>function(t){const e=Math.trunc(t/12);return Q(t%12).map((t=>at(t,e-Math.trunc(ht(t)/12))))}(ct(t)+e),pitchOctave:t=>lt(t)+Math.trunc(ht(ut(t))/12),subtract:(t,e)=>function(t){const e=t%12,n=(t-e)/12;return dt.offset(at("C",n),e)}(ct(t)-e),octaveOffset(t,e){const n=this.offset(t,12-G(e))[0];return this.pitchOctave(n)},interval:(t,e)=>ct(e)-ct(t),enharmonics:t=>dt.offset(t,0)};function ft(t){const e=L.find((e=>t.startsWith(e)))??W.find((e=>t.startsWith(e)));if(void 0===e)return[void 0,t];const n=t.slice(e.length);let s=t.slice(e.length),r="";for(;/\d+/.test(s[0]);)r+=s[0],s=s.slice(1);return 0===r.length?[e,n]:[at(e,+r),s]}function pt(t){const e=[],n=t.notes;for(let t=0;t<n.length-1;++t)e.push((G(n[t+1])-G(n[t])+12)%12);return e}function mt(t,e=0){const s=function(t){const e=[],n=t.tones;for(let t=0;t<n.length-1;++t)e.push(dt.interval(n[t],n[t+1]));return e}(t.tuning);return n(c).range(0,t.tuning.tones.length).map((r=>n(c).range(-1,s[r%s.length]).map((n=>dt.offset(t.tuning.tones[r],e+n)))))}function gt(t){return Math.max(...t.map((t=>t.length)))+1}function _t(t,e=0){const n=mt(t,e),s=ot(t);return n.map((t=>t.flatMap((t=>t.filter((t=>s.includes(ut(t))))))))}const vt=(t,e)=>(n,s)=>(r,i,o,a)=>{const l=t.slice().reverse(),u=l[r],c=r>0&&n.some((t=>l[r-1].includes(t))),h=n.some((t=>u.includes(t)))&&!c&&!0;return e(!h)(n,s)(r,i,o,a)};const yt=[{name:"Standard",notes:["E","A","D","G","B","E"]},{name:"All Fourths Standard",notes:["E","A","D","G","C","F"]},{name:"Drop D",notes:["D","A","D","G","B","E"]}].map((t=>function(t,e){const n=pt(t),s=[at(t.notes[0],e)];for(const t of n)s.push(dt.offset(s[s.length-1],t)[0]);return{name:t.name,tones:s}}(t,2)));function bt(t){const[e,n]=ft(t.trim());if(void 0===e)throw new Error(`${t} is an invalid tuning.`);return[e,...n.length>0?bt(n):[]]}function xt(t){return wt(bt(t))}function wt(t,e=4){if(0==t.length)return[];const[n,s,...r]=t,i=B(n);if(void 0===s)return B(n)?[at(n,e)]:[n];const o=B(s);if(i&&o)return function(t,e,n){const s=wt([e,...n]);return wt([t,...s])}(n,s,r);if(i&&!o)return function(t,e,n){const s=Y(t,ut(e));return[dt.subtract(e,s)[0],...wt([e,...n])]}(n,s,r);if(!i&&o)return function(t,e,n){const s=Y(ut(t),e);return[t,...wt([dt.offset(t,s)[0],...n])]}(n,s,r);if(i||o)throw new Error("Impossible");return function(t,e,n){return[t,...wt([e,...n])]}(n,s,r)}var kt,St,Tt={};St={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Ct,At;At=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))};var Et=Array.prototype.concat,Ot=Array.prototype.slice,Dt=Ct=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var r=t[n];At(r)?e=Et.call(e,Ot.call(r)):e.push(r)}return e};Dt.wrap=function(t){return function(){return t(Dt(arguments))}};var Mt=Object.hasOwnProperty,Rt=Object.create(null);for(var Ft in St)Mt.call(St,Ft)&&(Rt[St[Ft]]=Ft);var It=Tt={to:{},get:{}};function Pt(t,e,n){return Math.min(Math.max(e,t),n)}function Nt(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}It.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=It.get.hsl(t),n="hsl";break;case"hwb":e=It.get.hwb(t),n="hwb";break;default:e=It.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},It.get.rgb=function(t){if(!t)return null;var e,n,s,r=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(s=e[2],e=e[1],n=0;n<3;n++){var i=2*n;r[n]=parseInt(e.slice(i,i+2),16)}s&&(r[3]=parseInt(s,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(s=(e=e[1])[3],n=0;n<3;n++)r[n]=parseInt(e[n]+e[n],16);s&&(r[3]=parseInt(s+s,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)r[n]=parseInt(e[n+1],0);e[4]&&(e[5]?r[3]=.01*parseFloat(e[4]):r[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:Mt.call(St,e[1])?((r=St[e[1]])[3]=1,r):null:null;for(n=0;n<3;n++)r[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?r[3]=.01*parseFloat(e[4]):r[3]=parseFloat(e[4]))}for(n=0;n<3;n++)r[n]=Pt(r[n],0,255);return r[3]=Pt(r[3],0,1),r},It.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,Pt(parseFloat(e[2]),0,100),Pt(parseFloat(e[3]),0,100),Pt(isNaN(n)?1:n,0,1)]}return null},It.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,Pt(parseFloat(e[2]),0,100),Pt(parseFloat(e[3]),0,100),Pt(isNaN(n)?1:n,0,1)]}return null},It.to.hex=function(){var t=Ct(arguments);return"#"+Nt(t[0])+Nt(t[1])+Nt(t[2])+(t[3]<1?Nt(Math.round(255*t[3])):"")},It.to.rgb=function(){var t=Ct(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},It.to.rgb.percent=function(){var t=Ct(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+s+"%)":"rgba("+e+"%, "+n+"%, "+s+"%, "+t[3]+")"},It.to.hsl=function(){var t=Ct(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},It.to.hwb=function(){var t=Ct(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},It.to.keyword=function(t){return Rt[t.slice(0,3)]};var qt,jt={};const Vt={};for(const t of Object.keys(St))Vt[St[t]]=t;const zt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};qt=zt;for(const t of Object.keys(zt)){if(!("channels"in zt[t]))throw new Error("missing channels property: "+t);if(!("labels"in zt[t]))throw new Error("missing channel labels property: "+t);if(zt[t].labels.length!==zt[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=zt[t];delete zt[t].channels,delete zt[t].labels,Object.defineProperty(zt[t],"channels",{value:e}),Object.defineProperty(zt[t],"labels",{value:n})}zt.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.min(e,n,s),i=Math.max(e,n,s),o=i-r;let a,l;i===r?a=0:e===i?a=(n-s)/o:n===i?a=2+(s-e)/o:s===i&&(a=4+(e-n)/o),a=Math.min(60*a,360),a<0&&(a+=360);const u=(r+i)/2;return l=i===r?0:u<=.5?o/(i+r):o/(2-i-r),[a,100*l,100*u]},zt.rgb.hsv=function(t){let e,n,s,r,i;const o=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(o,a,l),c=u-Math.min(o,a,l),h=function(t){return(u-t)/6/c+.5};return 0===c?(r=0,i=0):(i=c/u,e=h(o),n=h(a),s=h(l),o===u?r=s-n:a===u?r=1/3+e-s:l===u&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*u]},zt.rgb.hwb=function(t){const e=t[0],n=t[1];let s=t[2];const r=zt.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,s));return s=1-1/255*Math.max(e,Math.max(n,s)),[r,100*i,100*s]},zt.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.min(1-e,1-n,1-s);return[100*((1-e-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-s-r)/(1-r)||0),100*r]},zt.rgb.keyword=function(t){const e=Vt[t];if(e)return e;let n,s=1/0;for(const e of Object.keys(St)){const o=(i=St[e],((r=t)[0]-i[0])**2+(r[1]-i[1])**2+(r[2]-i[2])**2);o<s&&(s=o,n=e)}var r,i;return n},zt.keyword.rgb=function(t){return St[t]},zt.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,s=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;return[100*(.4124*e+.3576*n+.1805*s),100*(.2126*e+.7152*n+.0722*s),100*(.0193*e+.1192*n+.9505*s)]},zt.rgb.lab=function(t){const e=zt.rgb.xyz(t);let n=e[0],s=e[1],r=e[2];n/=95.047,s/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*s-16,500*(n-s),200*(s-r)]},zt.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,s=t[2]/100;let r,i,o;if(0===n)return o=255*s,[o,o,o];r=s<.5?s*(1+n):s+n-s*n;const a=2*s-r,l=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,o=6*i<1?a+6*(r-a)*i:2*i<1?r:3*i<2?a+(r-a)*(2/3-i)*6:a,l[t]=255*o;return l},zt.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,s=t[2]/100,r=n;const i=Math.max(s,.01);s*=2,n*=s<=1?s:2-s,r*=i<=1?i:2-i;return[e,100*(0===s?2*r/(i+r):2*n/(s+n)),100*((s+n)/2)]},zt.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let s=t[2]/100;const r=Math.floor(e)%6,i=e-Math.floor(e),o=255*s*(1-n),a=255*s*(1-n*i),l=255*s*(1-n*(1-i));switch(s*=255,r){case 0:return[s,l,o];case 1:return[a,s,o];case 2:return[o,s,l];case 3:return[o,a,s];case 4:return[l,o,s];case 5:return[s,o,a]}},zt.hsv.hsl=function(t){const e=t[0],n=t[1]/100,s=t[2]/100,r=Math.max(s,.01);let i,o;o=(2-n)*s;const a=(2-n)*r;return i=n*r,i/=a<=1?a:2-a,i=i||0,o/=2,[e,100*i,100*o]},zt.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,s=t[2]/100;const r=n+s;let i;r>1&&(n/=r,s/=r);const o=Math.floor(6*e),a=1-s;i=6*e-o,0!=(1&o)&&(i=1-i);const l=n+i*(a-n);let u,c,h;switch(o){default:case 6:case 0:u=a,c=l,h=n;break;case 1:u=l,c=a,h=n;break;case 2:u=n,c=a,h=l;break;case 3:u=n,c=l,h=a;break;case 4:u=l,c=n,h=a;break;case 5:u=a,c=n,h=l}return[255*u,255*c,255*h]},zt.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,s*(1-r)+r))]},zt.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,s=t[2]/100;let r,i,o;return r=3.2406*e+-1.5372*n+-.4986*s,i=-.9689*e+1.8758*n+.0415*s,o=.0557*e+-.204*n+1.057*s,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*r,255*i,255*o]},zt.xyz.lab=function(t){let e=t[0],n=t[1],s=t[2];e/=95.047,n/=100,s/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*n-16,500*(e-n),200*(n-s)]},zt.lab.xyz=function(t){let e,n,s;n=(t[0]+16)/116,e=t[1]/500+n,s=n-t[2]/200;const r=n**3,i=e**3,o=s**3;return n=r>.008856?r:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,s=o>.008856?o:(s-16/116)/7.787,e*=95.047,n*=100,s*=108.883,[e,n,s]},zt.lab.lch=function(t){const e=t[0],n=t[1],s=t[2];let r;r=360*Math.atan2(s,n)/2/Math.PI,r<0&&(r+=360);return[e,Math.sqrt(n*n+s*s),r]},zt.lch.lab=function(t){const e=t[0],n=t[1],s=t[2]/360*2*Math.PI;return[e,n*Math.cos(s),n*Math.sin(s)]},zt.rgb.ansi16=function(t,e=null){const[n,s,r]=t;let i=null===e?zt.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),0===i)return 30;let o=30+(Math.round(r/255)<<2|Math.round(s/255)<<1|Math.round(n/255));return 2===i&&(o+=60),o},zt.hsv.ansi16=function(t){return zt.rgb.ansi16(zt.hsv.rgb(t),t[2])},zt.rgb.ansi256=function(t){const e=t[0],n=t[1],s=t[2];if(e===n&&n===s)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(s/255*5)},zt.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},zt.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},zt.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},zt.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const s=parseInt(n,16);return[s>>16&255,s>>8&255,255&s]},zt.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,s=t[2]/255,r=Math.max(Math.max(e,n),s),i=Math.min(Math.min(e,n),s),o=r-i;let a,l;return a=o<1?i/(1-o):0,l=o<=0?0:r===e?(n-s)/o%6:r===n?2+(s-e)/o:4+(e-n)/o,l/=6,l%=1,[360*l,100*o,100*a]},zt.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,s=n<.5?2*e*n:2*e*(1-n);let r=0;return s<1&&(r=(n-.5*s)/(1-s)),[t[0],100*s,100*r]},zt.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,s=e*n;let r=0;return s<1&&(r=(n-s)/(1-s)),[t[0],100*s,100*r]},zt.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,s=t[2]/100;if(0===n)return[255*s,255*s,255*s];const r=[0,0,0],i=e%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return l=(1-n)*s,[255*(n*r[0]+l),255*(n*r[1]+l),255*(n*r[2]+l)]},zt.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let s=0;return n>0&&(s=e/n),[t[0],100*s,100*n]},zt.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[t[0],100*s,100*n]},zt.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},zt.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,s=n-e;let r=0;return s<1&&(r=(n-s)/(1-s)),[t[0],100*s,100*r]},zt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},zt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},zt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},zt.gray.hsl=function(t){return[0,0,t[0]]},zt.gray.hsv=zt.gray.hsl,zt.gray.hwb=function(t){return[0,100,t[0]]},zt.gray.cmyk=function(t){return[0,0,0,t[0]]},zt.gray.lab=function(t){return[t[0],0,0]},zt.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},zt.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};var Lt;function Wt(t){const e=function(){const t={},e=Object.keys(qt);for(let n=e.length,s=0;s<n;s++)t[e[s]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),s=Object.keys(qt[t]);for(let r=s.length,i=0;i<r;i++){const r=s[i],o=e[r];-1===o.distance&&(o.distance=e[t].distance+1,o.parent=t,n.unshift(r))}}return e}function Bt(t,e){return function(n){return e(t(n))}}function Ut(t,e){const n=[e[t].parent,t];let s=qt[e[t].parent][t],r=e[t].parent;for(;e[r].parent;)n.unshift(e[r].parent),s=Bt(qt[e[r].parent][r],s),r=e[r].parent;return s.conversion=n,s}Lt=function(t){const e=Wt(t),n={},s=Object.keys(e);for(let t=s.length,r=0;r<t;r++){const t=s[r];null!==e[t].parent&&(n[t]=Ut(t,e))}return n};const $t={};Object.keys(qt).forEach((t=>{$t[t]={},Object.defineProperty($t[t],"channels",{value:qt[t].channels}),Object.defineProperty($t[t],"labels",{value:qt[t].labels});const e=Lt(t);Object.keys(e).forEach((n=>{const s=e[n];$t[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const s=t(e);if("object"==typeof s)for(let t=s.length,e=0;e<t;e++)s[e]=Math.round(s[e]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}(s),$t[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(s)}))})),jt=$t;const Gt=["keyword","gray","hex"],Qt={};for(const t of Object.keys(jt))Qt[[...jt[t].labels].sort().join("")]=t;const Ht={};function Yt(t,e){if(!(this instanceof Yt))return new Yt(t,e);if(e&&e in Gt&&(e=null),e&&!(e in jt))throw new Error("Unknown model: "+e);let n,s;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Yt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=Tt.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,s=jt[this.model].channels,this.color=e.value.slice(0,s),this.valpha="number"==typeof e.value[s]?e.value[s]:1}else if(t.length>0){this.model=e||"rgb",s=jt[this.model].channels;const n=Array.prototype.slice.call(t,0,s);this.color=Jt(n,s),this.valpha="number"==typeof t[s]?t[s]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const s=e.sort().join("");if(!(s in Qt))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Qt[s];const{labels:r}=jt[this.model],i=[];for(n=0;n<r.length;n++)i.push(t[r[n]]);this.color=Jt(i)}if(Ht[this.model])for(s=jt[this.model].channels,n=0;n<s;n++){const t=Ht[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Yt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Tt.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return Tt.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return Tt.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=jt[this.model],{labels:n}=jt[this.model];for(let s=0;s<e;s++)t[n[s]]=this.color[s];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Yt([...this.color.map(Xt(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new Yt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Zt("rgb",0,Kt(255)),green:Zt("rgb",1,Kt(255)),blue:Zt("rgb",2,Kt(255)),hue:Zt(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:Zt("hsl",1,Kt(100)),lightness:Zt("hsl",2,Kt(100)),saturationv:Zt("hsv",1,Kt(100)),value:Zt("hsv",2,Kt(100)),chroma:Zt("hcg",1,Kt(100)),gray:Zt("hcg",2,Kt(100)),white:Zt("hwb",1,Kt(100)),wblack:Zt("hwb",2,Kt(100)),cyan:Zt("cmyk",0,Kt(100)),magenta:Zt("cmyk",1,Kt(100)),yellow:Zt("cmyk",2,Kt(100)),black:Zt("cmyk",3,Kt(100)),x:Zt("xyz",0,Kt(95.047)),y:Zt("xyz",1,Kt(100)),z:Zt("xyz",2,Kt(108.833)),l:Zt("lab",0,Kt(100)),a:Zt("lab",1),b:Zt("lab",2),keyword(t){return void 0!==t?new Yt(t):jt[this.model].keyword(this.color)},hex(t){return void 0!==t?new Yt(t):Tt.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new Yt(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),Tt.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,s]of t.entries()){const t=s/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return Yt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),s=this.rgb(),r=void 0===e?.5:e,i=2*r-1,o=n.alpha()-s.alpha(),a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,l=1-a;return Yt.rgb(a*n.red()+l*s.red(),a*n.green()+l*s.green(),a*n.blue()+l*s.blue(),n.alpha()*r+s.alpha()*(1-r))}};for(const t of Object.keys(jt)){if(Gt.includes(t))continue;const{channels:e}=jt[t];Yt.prototype[t]=function(...e){return this.model===t?new Yt(this):e.length>0?new Yt(e,t):new Yt([...(n=jt[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},Yt[t]=function(...n){let s=n[0];return"number"==typeof s&&(s=Jt(n,e)),new Yt(s,t)}}function Xt(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function Zt(t,e,n){t=Array.isArray(t)?t:[t];for(const s of t)(Ht[s]||(Ht[s]=[]))[e]=n;return t=t[0],function(s){let r;return void 0!==s?(n&&(s=n(s)),r=this[t](),r.color[e]=s,r):(r=this[t]().color[e],n&&(r=n(r)),r)}}function Kt(t){return function(e){return Math.max(0,Math.min(t,e))}}function Jt(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}function te(t){return t instanceof n(kt)?t.hsl().string(2):t}function ee(t){return t instanceof n(kt)?t:new(n(kt))(t)}kt=Yt;h=i("fYo6y");function ne(t){return(0,o.jsx)("div",{style:{display:"inline-block",marginRight:"10px",borderRadius:"5px",padding:"0 10px",color:te(t.textColor??"white"),cursor:"pointer",backgroundColor:te(t.color)},children:t.children})}function se(t){return(0,o.jsx)("div",{onClick:t.onClick,style:{cursor:"pointer",userSelect:"none"},children:(0,o.jsx)(ne,{...t})})}i("fYo6y");h=i("fYo6y");const re={octaveColors:["red","crimson","slateblue","forestgreen","orangered","dodgerblue","purple"].map((t=>ee(t).lightness(65))),primaryColor:"#30c2ba",secondaryColor:"#ff5070",mutedColor:"#dadada",backgroundColor:"ghostwhite",neutralColor:"grey",textColor:"#0a0a0c",guitarColors:{stringcolor:"#b0b0b0",nutColor:"#505060",fretColor:"#bbbbbb"}},ie=["#ff6188","#fc9867","#ffd866","#a9dc76","#78dce8","#ab9df2"].map((t=>ee(t))),oe=ie[4].darken(.25).desaturate(.2),ae=ie[0].darken(.1).desaturate(.2),le={...re,octaveColors:ie.map((t=>t.darken(.1))),textColor:"ghostwhite",backgroundColor:"#272229",mutedColor:ee("#272229").lighten(.2).alpha(.95),neutralColor:ee("grey").darken(.5),primaryColor:oe,secondaryColor:ae,guitarColors:{fretColor:ee("#272229").lighten(.5),nutColor:ee("#272229").lighten(.3),stringcolor:ee("#272229").lighten(.4)}},ue=[{name:"light",theme:re},{name:"dark",theme:le}],ce=n(h).createContext(le),he=ce.Provider,de=ce.Consumer;function fe(t){const[e,s]=n(h).useState(!1);return(0,o.jsx)("div",{children:(0,o.jsx)(de,{children:n=>(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("div",{onClick:()=>s(!e),style:{cursor:"pointer",userSelect:"none"},children:(0,o.jsx)(ne,{color:n.neutralColor,children:t.title})}),(0,o.jsx)("div",{children:e&&(0,o.jsx)("div",{style:{position:"absolute",top:"calc(100% + 5px)",left:0,zIndex:100},children:t.children})})]})})})}i("fYo6y");c=i("7U5sq");function pe(t){return!Array.isArray(t)}function me(t){switch(t){case"U":return 0;case"m2":return 1;case"M2":return 2;case"m3":return 3;case"M3":return 4;case"p4":return 5;case"d5":case"A4":return 6;case"p5":return 7;case"m6":case"A5":return 8;case"M6":case"d7":return 9;case"m7":return 10;case"M7":return 11;default:throw new Error("Unknown interval "+t)}}function ge(t){switch(t){case 0:return["U"];case 1:return["m2"];case 2:return["M2"];case 3:return["m3"];case 4:return["M3"];case 5:return["p4"];case 6:return["d5","A4"];case 7:return["p5"];case 8:return["m6","A5"];case 9:return["M6","d7"];case 10:return["m7"];case 11:return["M7"];default:throw new Error("Unknown interval "+t)}}const _e={add(t,e){return this.fromWidth(this.width(t)+this.width(e))},offset(t,e){return this.fromWidth(this.width(t)+e)},width:t=>pe(t)?me(t):function(t){return 12*t[0]+me(t[1])}(t),fromWidth:t=>function(t){const e=Math.trunc(t/12);return ge(t-e).map((t=>function(t,e){return[t,e]}(e,t)))}(t),octaves(t){return Math.trunc(this.width(t)/12)},coerce:t=>pe(t)?t:t[1],coerceDelta:t=>t.slice(1),deltaWidth(t){const e=t[0],n=t.slice(1);return"-"===e?-this.width(n):this.width(n)},up:t=>`+${t}`,down:t=>`-${t}`,withDelta(t,e){return this.offset(t,this.deltaWidth(e))},applyDelta(t,e){return"-"===e[0]?dt.subtract(t,-this.deltaWidth(e)):dt.offset(t,this.deltaWidth(e))},coerceDown(t){return`-${this.coerceDelta(t)}`},coerceUp(t){return`+${this.coerceDelta(t)}`},invertDelta(t){const e=(n=this.coerceDelta(t),ge(12-me(n)))[0];var n;const s=`${t[0]}${e}`;return this.deltaWidth(t)>0?this.coerceDown(s):this.coerceUp(s)}};const ve=[{name:"Major",structure:["+M3","+p5"]},{name:"Minor",structure:["+m3","+p5"]},{name:"Δ7",structure:["+M3","+p5","+m7"]},{name:"minMaj7",structure:["+m3","+p5","+M7"]},{name:"maj7",structure:["+M3","+p5","+M7"]},{name:"min7",structure:["+m3","+p5","+m7"]},{name:"Diminished",structure:["+m3","+d5"]}];function ye(t,e){const s=t.key(e).scaleFormula,r=[0,2,4],i=s.degrees,o=n(c).range(0,i);return o.map((t=>r.map((n=>(t=>{const n=s[t%i];return Q(X.offset(e,n))})((n+t)%i)))))}function be({tonality:t}){return(0,o.jsx)(de,{children:e=>{const n=ye(t.scale,t.keyCenter),s=n.map((t=>{return e=t,ve.find((t=>{const n=[0,...t.structure.map((t=>_e.deltaWidth(t)))],s=e.map((t=>Y(e[0][0],t[0])));return n.length===e.length&&s.every(((t,e)=>n[e]===t))}));var e})).filter((t=>t));return(0,o.jsx)(o.Fragment,{children:s.map(((t,e)=>(0,o.jsxs)("div",{children:[n[e][0][0]," ",t.name]})))})}})}i("fYo6y"),i("fYo6y");c=i("7U5sq");i("fYo6y");const xe="#bbbbbb",we=[0,3,5,7,9],ke=(z.flatMap((t=>G(t))),(t=!1,e=we)=>(n,s)=>t||!s?(0,o.jsx)("div",{style:{display:"inline-flex",width:"100%",height:"100%",justifyContent:"center",alignItems:s?"flex-start":"flex-end",fontWeight:"bold",fontSize:"20px"},children:n>0&&e.includes(n%12)?n:""}):void 0);function Se(t,e,n="rgba(0, 0, 0, 0)"){return`linear-gradient(\n    180deg, \n    ${te(n)} calc(50% - ${t}px),\n    ${te(e)} calc(50% - ${t}px),\n    ${te(e)} calc(50% + ${t}px),\n    ${te(n)} calc(50% + ${t}px))\n  `}function Te(t){return(0,o.jsxs)("div",{className:"fretboard",style:{transform:`rotate(${t.rotation??0}deg)`,color:"#999999",gridTemplateRows:`repeat(${t.strings+(t.labels??1?2:1)}, 60px)`,gridTemplateColumns:`repeat(${t.frets+1}, 141px)`},children:[(t.labels??!0)&&n(c).range(0,t.frets+1).map(((e,n)=>(0,o.jsx)("div",{className:"fretboard-labels",children:t.getLabel(e,!1)??(0,o.jsx)(o.Fragment,{})},`upper-${e}`))),n(c).range(0,t.strings).flatMap(((e,s)=>n(c).range(0,t.frets+1).map(((n,r)=>(0,o.jsx)("div",{style:{width:"100%",height:"100%"},children:t.getFret(e,n,(n=>({background:Se(t.getStringSize?.(e)??.34*e+1,t.stringColor??Re,n)})),{borderRight:`${t.fretSize??5}px solid ${t.fretColor??xe}`})},`${s}${r}`))))),(t.labels??!0)&&n(c).range(0,t.frets+1).map(((e,n)=>(0,o.jsx)("div",{className:"fretboard-labels",children:t.getLabel(e,!0)??(0,o.jsx)(o.Fragment,{})},`lower-${e}`)))]})}h=i("fYo6y");function Ce(t){const e=n(h).useCallback(((e,n)=>t.getLabel(e+t.startingFret,n)),[t.getLabel]),s=n(h).useCallback(((e,n,s,r)=>t.getFret(e,n+t.startingFret,s,r)),[t.getFret]);return(0,o.jsx)(Te,{...t,getLabel:e,getFret:s})}function Ae({color:t,children:e,border:n=""}){return(0,o.jsx)("div",{className:"fretboard-note",style:{backgroundColor:te(t),border:n,userSelect:"none"},children:e})}function Ee(t){return(0,o.jsx)(Ae,{color:t.color,border:t.border??"",children:t.showTone?t.includeOctave??1?t.tone:ut(t.tone):""})}i("fYo6y");const Oe="#ff5070",De="#30c2ba",Me="#dadada",Re="#b0b0b0",Fe="#505060";function Ie(t,e,n){return ee(n[dt.octaveOffset(t,e)%n.length])}function Pe(t,e){return t>0&&we.includes(t%12)?(0,o.jsx)("div",{style:{width:"100%",height:"100%",display:"inline-flex",justifyContent:"center",alignItems:e?"flex-end":"flex-start"},children:"⬤".repeat(t%12?1:t/12+1).split("").join(" ")}):(0,o.jsx)(o.Fragment,{})}function Ne(t,e,n,s,r,i,a,l,u,c,h,d,f,p,m){const g=rt(n.scale.key(n.keyCenter)),_=t,v=_.filter((t=>g.includes(ut(t))));return(0,o.jsx)("div",{style:{display:"flex",width:"100%",height:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",boxSizing:c>0&&"border-box",...d,...0===c?{borderRight:`10px solid ${r}`}:h(void 0)},children:(1!==v.length?_:v).map(((t,r)=>(0,o.jsx)(Ee,{showTone:e,tone:t,includeOctave:f,border:!s&&ut(t)===n.keyCenter&&p?`4px solid ${te(Ie(t,n.keyCenter,m).rotate(-10).lighten(.25))}`:"",color:s?a:ut(t)===n.keyCenter?p?Ie(t,n.keyCenter,m):i:g.includes(ut(t))?p?Ie(t,n.keyCenter,m):l:a},r)))})}function qe(t){const{tonality:e,selectedColor:n=Oe,unselectedColor:s=De,stringColor:r=Re,outOfKeyColor:i=Me,nutColor:a=Fe,fretColor:l=xe,frets:u=12,showOctaves:c=!1,octaveColors:h=!1,showNotes:d=!0,getFret:f,...p}=t;return(0,o.jsx)(Te,{fretColor:l,stringColor:r,strings:e.tuning.tones.length,frets:u,getFret:(r,o,l,u)=>{const m=e.tuning.tones.slice().reverse()[r],g=dt.offset(m,o);return f?.(g,t)(r,o,l,u)??Ne(g,d,e,!1,a,n,i,s,0,o,l,u,c,h,p.octaveColorsValues??[n])},getLabel:p.getLabel??Pe,...p})}function je(t){const{tonality:e,selectedColor:n=Oe,unselectedColor:s=De,stringColor:r=Re,fretColor:i=xe,outOfKeyColor:a=Me,nutColor:l=Fe,frets:u=12,showOctaves:c=!1,octaveColors:h=!1,showNotes:d=!0,...f}=t;return(0,o.jsx)(Ce,{strings:t.tonality.tuning.tones.length,getFret:(r,i,o,u)=>{const p=e.tuning.tones.slice().reverse()[r],m=dt.offset(p,i);return f.getFret?.(m,t)(r,i,o,u)??Ne(m,d,e,!1,l,n,a,s,0,i,o,u,c,h,t.octaveColorsValues??[])},getLabel:f.getLabel??Pe,frets:u,startingFret:t.startingFret,tonality:e,fretColor:i,stringColor:r,rotation:f.rotation,labels:f.labels})}function Ve({tonality:t}){return(0,o.jsx)(de,{children:e=>(0,o.jsx)(qe,{tonality:t,octaveColors:!0,showOctaves:!0,stringColor:e.guitarColors.stringcolor,fretColor:e.guitarColors.fretColor,outOfKeyColor:e.mutedColor,selectedColor:e.secondaryColor,unselectedColor:e.primaryColor,nutColor:e.guitarColors.nutColor,octaveColorsValues:e.octaveColors})})}h=i("fYo6y");function ze({positions:t,tonality:e}){return(0,o.jsx)(de,{children:s=>t.map(((t,r)=>{const i=_t(e,t);return(0,o.jsxs)(n(h).Fragment,{children:[(0,o.jsx)(je,{octaveColors:!0,showOctaves:!0,nutColor:s.guitarColors.nutColor,fretColor:s.guitarColors.fretColor,stringColor:s.guitarColors.stringcolor,octaveColorsValues:s.octaveColors,outOfKeyColor:s.mutedColor,tonality:e,labels:!0,getLabel:ke(!0),startingFret:t-1,frets:gt(i),getFret:vt(i,(t=>{return e=t,n=!1,(t,s)=>(r,i,o,a)=>Ne(t,!n,s.tonality,e,s.nutColor??Fe,s.selectedColor??Oe,s.outOfKeyColor??Me,s.unselectedColor??De,0,i,o,a,s.showOctaves??!1,s.octaveColors??!1,s.octaveColorsValues??["red"]);var e,n}))}),(0,o.jsx)("br",{})]},r)}))})}const Le=[1];function We(t){return`?scale=${encodeURIComponent(t.scale)}&keyCenter=${encodeURIComponent(t.keyCenter)}&tuning=${encodeURIComponent(t.tuning)}&theme=${t.theme??"light"}${void 0===t.tab?"":`&tab=${t.tab}`}`}function Be(t){const e=st.find((e=>e.name===t.scale))??nt,s=z.find((e=>e===t.keyCenter))??"E",r=function(t){try{return xt(t)}catch{return}}(t.tuning),i=yt.find((e=>e.name===t.tuning))??(void 0===r?yt[0]:{name:t.tuning,tones:r}),a={keyCenter:s,scale:e,tuning:i},{name:l,theme:u}=ue.find((e=>e.name===t.theme))??ue[0];document.body.style.backgroundColor=te(u.backgroundColor);const[d,f]=n(h).useState("Fretboard");return(0,o.jsx)(he,{value:u,children:(0,o.jsx)(de,{children:r=>(0,o.jsxs)("div",{style:{display:"inline-block",margin:0,height:"inherit",width:"inherit",backgroundColor:te(r.backgroundColor),color:te(r.textColor)},children:[(0,o.jsxs)("div",{style:{display:"flex",padding:"20px"},children:[(0,o.jsx)(fe,{title:l,children:ue.map(((e,n)=>(0,o.jsx)("div",{style:{marginBottom:"5px"},children:(0,o.jsx)(V,{to:We({...t,theme:e.name}),children:(0,o.jsx)(ne,{color:e.name===l?r.secondaryColor:r.primaryColor,children:e.name})})},n)))}),(0,o.jsx)(fe,{title:a.tuning.name,children:yt.map(((e,n)=>(0,o.jsx)("div",{style:{marginBottom:"5px"},children:(0,o.jsx)(V,{to:We({...t,tuning:e.name}),children:(0,o.jsx)(ne,{color:e.name===i.name?r.secondaryColor:r.primaryColor,children:e.name})})},n)))}),(0,o.jsx)(fe,{title:a.scale.name,children:Object.entries(n(c).groupBy(st,(t=>t.key(s).scaleFormula.degrees))).map((([n,s],i)=>(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:s.map(((n,s)=>(0,o.jsx)(V,{to:We({...t,scale:n.name}),children:(0,o.jsx)("div",{style:{display:"inline-block",flexBasis:"initial",marginTop:"10px",borderRadius:"5px",flexShrink:"0",padding:"0 10px",color:"white",cursor:"pointer",backgroundColor:te(n.name===e.name?r.secondaryColor:r.primaryColor)},children:n.name})},`${i}${s}`)))})))}),(0,o.jsx)(fe,{title:a.keyCenter,children:[...W,...L].map(((e,n)=>(0,o.jsx)(V,{to:We({...t,keyCenter:e}),children:(0,o.jsx)("div",{style:{marginTop:"5px",display:"inline-block",cursor:"pointer"},children:(0,o.jsx)(Ee,{color:te(e===s?r.secondaryColor:r.primaryColor),tone:`${e}0`,showTone:!0,border:`5px solid ${ee(te(e===s?r.secondaryColor:r.primaryColor)).lighten(.3)}`,includeOctave:!1})})},n)))}),"| ",(0,o.jsx)(se,{color:"Fretboard"===d?r.secondaryColor:r.neutralColor,onClick:()=>f("Fretboard"),children:"Fretboard"})]}),(()=>{switch(d){case"Fretboard":return(0,o.jsx)(Ve,{tonality:a});case"Positions":return(0,o.jsx)(ze,{positions:Le,tonality:a});case"Chords":return(0,o.jsx)(be,{tonality:a})}})()]})})})}function Ue(){let t=function(){const{search:t}=M();return n(h).useMemo((()=>new URLSearchParams(t)),[t])}();const e=JSON.parse(localStorage.getItem("scale-props")??"{}"),s=t.get("keyCenter")??e.keyCenter??"E",r=t.get("tuning")??e.tuning??yt[0].name,i=t.get("scale")??e.scale??nt.name,a=t.get("theme")??e.theme??void 0,l=t.get("tab")??void 0;return n(h).useEffect((()=>{localStorage.setItem("scale-props",JSON.stringify({keyCenter:s,tuning:r,scale:i,theme:a,tab:l},null,0))}),[t]),(0,o.jsx)(Be,{keyCenter:s,scale:i,tuning:r,theme:a,tab:l})}const $e=document.getElementById("app");n(a).render((0,o.jsx)((function(){return(0,o.jsx)(j,{basename:"/",children:(0,o.jsx)(Ue,{})})}),{}),$e);